(function(){
/*
 Copyright (c) 2019, Uponit (Aderz Media Ltd.) All rights reserved.
 See license text at: https://uponit.com/license
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(x,G,F){x!=Array.prototype&&x!=Object.prototype&&(x[G]=F.value)};$jscomp.getGlobal=function(x){return"undefined"!=typeof window&&window===x?x:"undefined"!=typeof global&&null!=global?global:x};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(x,G,F,I){if(G){F=$jscomp.global;x=x.split(".");for(I=0;I<x.length-1;I++){var y=x[I];y in F||(F[y]={});F=F[y]}x=x[x.length-1];I=F[x];G=G(I);G!=I&&null!=G&&$jscomp.defineProperty(F,x,{configurable:!0,writable:!0,value:G})}};$jscomp.polyfill("Object.setPrototypeOf",function(x){return x?x:"object"!=typeof"".__proto__?null:function(x,F){x.__proto__=F;if(x.__proto__!==F)throw new TypeError(x+" is not extensible");return x}},"es6","es5");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(x){return $jscomp.SYMBOL_PREFIX+(x||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var x=$jscomp.global.Symbol.iterator;x||(x=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[x]&&$jscomp.defineProperty(Array.prototype,x,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(x){var G=0;return $jscomp.iteratorPrototype(function(){return G<x.length?{done:!1,value:x[G++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(x){$jscomp.initSymbolIterator();x={next:x};x[$jscomp.global.Symbol.iterator]=function(){return this};return x};$jscomp.makeIterator=function(x){$jscomp.initSymbolIterator();var G=x[Symbol.iterator];return G?G.call(x):$jscomp.arrayIterator(x)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(x){function G(){this.batch_=null}function F(q){return q instanceof y?q:new y(function(g,y){g(q)})}if(x&&!$jscomp.FORCE_POLYFILL_PROMISE)return x;G.prototype.asyncExecute=function(q){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(q);return this};G.prototype.asyncExecuteBatch_=function(){var q=this;this.asyncExecuteFunction(function(){q.executeBatch_()})};var I=$jscomp.global.setTimeout;G.prototype.asyncExecuteFunction=function(q){I(q,
0)};G.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var q=this.batch_;this.batch_=[];for(var g=0;g<q.length;++g){var y=q[g];delete q[g];try{y()}catch(U){this.asyncThrow_(U)}}}this.batch_=null};G.prototype.asyncThrow_=function(q){this.asyncExecuteFunction(function(){throw q;})};var y=function(q){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var g=this.createResolveAndReject_();try{q(g.resolve,g.reject)}catch(V){g.reject(V)}};y.prototype.createResolveAndReject_=
function(){function q(q){return function(z){y||(y=!0,q.call(g,z))}}var g=this,y=!1;return{resolve:q(this.resolveTo_),reject:q(this.reject_)}};y.prototype.resolveTo_=function(q){if(q===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(q instanceof y)this.settleSameAsPromise_(q);else{a:switch(typeof q){case "object":var g=null!=q;break a;case "function":g=!0;break a;default:g=!1}g?this.resolveToNonPromiseObj_(q):this.fulfill_(q)}};y.prototype.resolveToNonPromiseObj_=function(q){var g=
void 0;try{g=q.then}catch(V){this.reject_(V);return}"function"==typeof g?this.settleSameAsThenable_(g,q):this.fulfill_(q)};y.prototype.reject_=function(q){this.settle_(2,q)};y.prototype.fulfill_=function(q){this.settle_(1,q)};y.prototype.settle_=function(q,g){if(0!=this.state_)throw Error("Cannot settle("+q+", "+g|"): Promise already settled in state"+this.state_);this.state_=q;this.result_=g;this.executeOnSettledCallbacks_()};y.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var q=
this.onSettledCallbacks_,g=0;g<q.length;++g)q[g].call(),q[g]=null;this.onSettledCallbacks_=null}};var K=new G;y.prototype.settleSameAsPromise_=function(q){var g=this.createResolveAndReject_();q.callWhenSettled_(g.resolve,g.reject)};y.prototype.settleSameAsThenable_=function(q,g){var y=this.createResolveAndReject_();try{q.call(g,y.resolve,y.reject)}catch(U){y.reject(U)}};y.prototype.then=function(q,g){function x(g,q){return"function"==typeof g?function(q){try{F(g(q))}catch(P){z(P)}}:q}var F,z,G=new y(function(g,
q){F=g;z=q});this.callWhenSettled_(x(q,F),x(g,z));return G};y.prototype.catch=function(q){return this.then(void 0,q)};y.prototype.callWhenSettled_=function(q,g){function y(){switch(x.state_){case 1:q(x.result_);break;case 2:g(x.result_);break;default:throw Error("Unexpected state: "+x.state_);}}var x=this;null==this.onSettledCallbacks_?K.asyncExecute(y):this.onSettledCallbacks_.push(function(){K.asyncExecute(y)})};y.resolve=F;y.reject=function(q){return new y(function(g,y){y(q)})};y.race=function(q){return new y(function(g,
y){for(var x=$jscomp.makeIterator(q),z=x.next();!z.done;z=x.next())F(z.value).callWhenSettled_(g,y)})};y.all=function(q){var g=$jscomp.makeIterator(q),x=g.next();return x.done?F([]):new y(function(q,y){function z(g){return function(y){G[g]=y;K--;0==K&&q(G)}}var G=[],K=0;do G.push(void 0),K++,F(x.value).callWhenSettled_(z(G.length-1),y),x=g.next();while(!x.done)})};return y},"es6-impl","es3");
$jscomp.iteratorFromArray=function(x,G){$jscomp.initSymbolIterator();x instanceof String&&(x+="");var F=0,I={next:function(){if(F<x.length){var y=F++;return{value:G(y,x[y]),done:!1}}I.next=function(){return{done:!0,value:void 0}};return I.next()}};I[Symbol.iterator]=function(){return I};return I};$jscomp.polyfill("Array.prototype.keys",function(x){return x?x:function(){return $jscomp.iteratorFromArray(this,function(x){return x})}},"es6-impl","es3");
$jscomp.findInternal=function(x,G,F){x instanceof String&&(x=String(x));for(var I=x.length,y=0;y<I;y++){var K=x[y];if(G.call(F,K,y,x))return{i:y,v:K}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(x){return x?x:function(x,F){return $jscomp.findInternal(this,x,F).v}},"es6-impl","es3");window.SVGFEFuncCMYKElement=!0;window===top&&(window.YSVGFEFuncCMYKElement=!0);
(function(x){var G={};(function(g){var n={};(function(l){"object"===typeof g&&"undefined"!==typeof module?module.exports=l():("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).pako=l()})(function(){return function(){function l(k,e,h){function f(c,a){if(!e[c]){if(!k[c]){var p="function"==typeof require&&require;if(!a&&p)return p(c,!0);if(d)return d(c,!0);a=Error("Cannot find module '"+c+"'");throw a.code="MODULE_NOT_FOUND",a;}a=e[c]={exports:{}};
k[c][0].call(a.exports,function(d){return f(k[c][1][d]||d)},a,a.exports,l,k,e,h)}return e[c].exports}for(var d="function"==typeof require&&require,a=0;a<h.length;a++)f(h[a]);return f}return l}()({1:[function(l,k,e){function h(f){if(!(this instanceof h))return new h(f);f=this.options=a.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},f||{});f.raw&&0<f.windowBits?f.windowBits=-f.windowBits:f.gzip&&0<f.windowBits&&16>f.windowBits&&(f.windowBits+=16);this.err=0;this.msg=
"";this.ended=!1;this.chunks=[];this.strm=new u;this.strm.avail_out=0;var m=d.deflateInit2(this.strm,f.level,f.method,f.windowBits,f.memLevel,f.strategy);if(0!==m)throw Error(p[m]);f.header&&d.deflateSetHeader(this.strm,f.header);if(f.dictionary){f="string"===typeof f.dictionary?c.string2buf(f.dictionary):"[object ArrayBuffer]"===M.call(f.dictionary)?new Uint8Array(f.dictionary):f.dictionary;m=d.deflateSetDictionary(this.strm,f);if(0!==m)throw Error(p[m]);this._dict_set=!0}}function f(c,d){d=new h(d);
d.push(c,!0);if(d.err)throw d.msg||p[d.err];return d.result}var d=l("./zlib/deflate"),a=l("./utils/common"),c=l("./utils/strings"),p=l("./zlib/messages"),u=l("./zlib/zstream"),M=Object.prototype.toString;h.prototype.push=function(f,h){var p=this.strm,u=this.options.chunkSize;if(this.ended)return!1;h=h===~~h?h:!0===h?4:0;"string"===typeof f?p.input=c.string2buf(f):"[object ArrayBuffer]"===M.call(f)?p.input=new Uint8Array(f):p.input=f;p.next_in=0;p.avail_in=p.input.length;do{0===p.avail_out&&(p.output=
new a.Buf8(u),p.next_out=0,p.avail_out=u);f=d.deflate(p,h);if(1!==f&&0!==f)return this.onEnd(f),this.ended=!0,!1;if(0===p.avail_out||0===p.avail_in&&(4===h||2===h))if("string"===this.options.to)this.onData(c.buf2binstring(a.shrinkBuf(p.output,p.next_out)));else this.onData(a.shrinkBuf(p.output,p.next_out))}while((0<p.avail_in||0===p.avail_out)&&1!==f);if(4===h)return f=d.deflateEnd(this.strm),this.onEnd(f),this.ended=!0,0===f;2===h&&(this.onEnd(0),p.avail_out=0);return!0};h.prototype.onData=function(c){this.chunks.push(c)};
h.prototype.onEnd=function(c){0===c&&(this.result="string"===this.options.to?this.chunks.join(""):a.flattenChunks(this.chunks));this.chunks=[];this.err=c;this.msg=this.strm.msg};e.Deflate=h;e.deflate=f;e.deflateRaw=function(c,d){d=d||{};d.raw=!0;return f(c,d)};e.gzip=function(c,d){d=d||{};d.gzip=!0;return f(c,d)}},{"./utils/common":3,"./utils/strings":4,"./zlib/deflate":8,"./zlib/messages":13,"./zlib/zstream":15}],2:[function(l,k,e){l("./utils/common");l("./utils/strings");l("./zlib/constants");l("./zlib/messages");
l("./zlib/zstream");l("./zlib/gzheader")},{"./utils/common":3,"./utils/strings":4,"./zlib/constants":6,"./zlib/gzheader":9,"./zlib/messages":13,"./zlib/zstream":15}],3:[function(l,k,e){l="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;e.assign=function(d){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var c=f.shift();if(c){if("object"!==typeof c)throw new TypeError(c+"must be non-object");for(var h in c)Object.prototype.hasOwnProperty.call(c,
h)&&(d[h]=c[h])}}return d};e.shrinkBuf=function(d,f){if(d.length===f)return d;if(d.subarray)return d.subarray(0,f);d.length=f;return d};var h={arraySet:function(d,f,c,h,u){if(f.subarray&&d.subarray)d.set(f.subarray(c,c+h),u);else for(var a=0;a<h;a++)d[u+a]=f[c+a]},flattenChunks:function(d){var f,c;var h=c=0;for(f=d.length;h<f;h++)c+=d[h].length;var u=new Uint8Array(c);h=c=0;for(f=d.length;h<f;h++){var e=d[h];u.set(e,c);c+=e.length}return u}},f={arraySet:function(d,f,c,h,u){for(var a=0;a<h;a++)d[u+
a]=f[c+a]},flattenChunks:function(d){return[].concat.apply([],d)}};e.setTyped=function(d){d?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,h)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,f))};e.setTyped(l)},{}],4:[function(l,k,e){var h=l("./common"),f=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch(c){f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(c){d=!1}var a=new h.Buf8(256);for(l=0;256>l;l++)a[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?
2:1;a[254]=a[254]=1;e.string2buf=function(c){var d,f,a=c.length,e=0;for(d=0;d<a;d++){var m=c.charCodeAt(d);if(55296===(m&64512)&&d+1<a){var l=c.charCodeAt(d+1);56320===(l&64512)&&(m=65536+(m-55296<<10)+(l-56320),d++)}e+=128>m?1:2048>m?2:65536>m?3:4}var k=new h.Buf8(e);for(d=f=0;f<e;d++)m=c.charCodeAt(d),55296===(m&64512)&&d+1<a&&(l=c.charCodeAt(d+1),56320===(l&64512)&&(m=65536+(m-55296<<10)+(l-56320),d++)),128>m?k[f++]=m:(2048>m?k[f++]=192|m>>>6:(65536>m?k[f++]=224|m>>>12:(k[f++]=240|m>>>18,k[f++]=
128|m>>>12&63),k[f++]=128|m>>>6&63),k[f++]=128|m&63);return k};e.buf2binstring=function(c){var a=c.length;if(65534>a&&(c.subarray&&d||!c.subarray&&f))c=String.fromCharCode.apply(null,h.shrinkBuf(c,a));else{for(var e="",k=0;k<a;k++)e+=String.fromCharCode(c[k]);c=e}return c};e.binstring2buf=function(c){for(var d=new h.Buf8(c.length),f=0,a=d.length;f<a;f++)d[f]=c.charCodeAt(f);return d};e.utf8border=function(c,d){var f;d=d||c.length;d>c.length&&(d=c.length);for(f=d-1;0<=f&&128===(c[f]&192);)f--;return 0>
f||0===f?d:f+a[c[f]]>d?f:d}},{"./common":3}],5:[function(l,k,e){k.exports=function(h,f,d,a){var c=h&65535|0;h=h>>>16&65535|0;for(var e;0!==d;){e=2E3<d?2E3:d;d-=e;do c=c+f[a++]|0,h=h+c|0;while(--e);c%=65521;h%=65521}return c|h<<16|0}},{}],6:[function(l,k,e){k.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,
Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(l,k,e){var h=function(){for(var f,d=[],h=0;256>h;h++){f=h;for(var c=0;8>c;c++)f=f&1?3988292384^f>>>1:f>>>1;d[h]=f}return d}();k.exports=function(f,d,a,c){a=c+a;for(f^=-1;c<a;c++)f=f>>>8^h[(f^d[c])&255];return f^-1}},{}],8:[function(l,k,e){function h(b,c){b.msg=A[c];return c}function f(b){for(var c=b.length;0<=--c;)b[c]=0}function d(b){var c=b.state,
d=c.pending;d>b.avail_out&&(d=b.avail_out);0!==d&&(B.arraySet(b.output,c.pending_buf,c.pending_out,d,b.next_out),b.next_out+=d,c.pending_out+=d,b.total_out+=d,b.avail_out-=d,c.pending-=d,0===c.pending&&(c.pending_out=0))}function a(b,c){v._tr_flush_block(b,0<=b.block_start?b.block_start:-1,b.strstart-b.block_start,c);b.block_start=b.strstart;d(b.strm)}function c(b,c){b.pending_buf[b.pending++]=c}function p(b,c){b.pending_buf[b.pending++]=c>>>8&255;b.pending_buf[b.pending++]=c&255}function u(b,c){var d=
b.max_chain_length,f=b.strstart,h=b.prev_length,a=b.nice_match,t=b.strstart>b.w_size-262?b.strstart-(b.w_size-262):0,e=b.window,w=b.w_mask,r=b.prev,da=b.strstart+258,p=e[f+h-1],m=e[f+h];b.prev_length>=b.good_match&&(d>>=2);a>b.lookahead&&(a=b.lookahead);do{var u=c;if(e[u+h]===m&&e[u+h-1]===p&&e[u]===e[f]&&e[++u]===e[f+1]){f+=2;for(u++;e[++f]===e[++u]&&e[++f]===e[++u]&&e[++f]===e[++u]&&e[++f]===e[++u]&&e[++f]===e[++u]&&e[++f]===e[++u]&&e[++f]===e[++u]&&e[++f]===e[++u]&&f<da;);u=258-(da-f);f=da-258;
if(u>h){b.match_start=c;h=u;if(u>=a)break;p=e[f+h-1];m=e[f+h]}}}while((c=r[c&w])>t&&0!==--d);return h<=b.lookahead?h:b.lookahead}function M(b){var c=b.w_size,f;do{var d=b.window_size-b.lookahead-b.strstart;if(b.strstart>=c+(c-262)){B.arraySet(b.window,b.window,c,c,0);b.match_start-=c;b.strstart-=c;b.block_start-=c;var h=f=b.hash_size;do{var a=b.head[--h];b.head[h]=a>=c?a-c:0}while(--f);h=f=c;do a=b.prev[--h],b.prev[h]=a>=c?a-c:0;while(--f);d+=c}if(0===b.strm.avail_in)break;h=b.strm;f=b.window;a=b.strstart+
b.lookahead;var e=h.avail_in;e>d&&(e=d);0===e?f=0:(h.avail_in-=e,B.arraySet(f,h.input,h.next_in,e,a),1===h.state.wrap?h.adler=q(h.adler,f,e,a):2===h.state.wrap&&(h.adler=C(h.adler,f,e,a)),h.next_in+=e,h.total_in+=e,f=e);b.lookahead+=f;if(3<=b.lookahead+b.insert)for(d=b.strstart-b.insert,b.ins_h=b.window[d],b.ins_h=(b.ins_h<<b.hash_shift^b.window[d+1])&b.hash_mask;b.insert&&!(b.ins_h=(b.ins_h<<b.hash_shift^b.window[d+3-1])&b.hash_mask,b.prev[d&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=d,d++,b.insert--,
3>b.lookahead+b.insert););}while(262>b.lookahead&&0!==b.strm.avail_in)}function g(b,c){for(var f;;){if(262>b.lookahead){M(b);if(262>b.lookahead&&0===c)return 1;if(0===b.lookahead)break}f=0;3<=b.lookahead&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+3-1])&b.hash_mask,f=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart);0!==f&&b.strstart-f<=b.w_size-262&&(b.match_length=u(b,f));if(3<=b.match_length)if(f=v._tr_tally(b,b.strstart-b.match_start,b.match_length-3),b.lookahead-=
b.match_length,b.match_length<=b.max_lazy_match&&3<=b.lookahead){b.match_length--;do b.strstart++,b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+3-1])&b.hash_mask,b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart;while(0!==--b.match_length);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+1])&b.hash_mask;else f=v._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(f&&
(a(b,!1),0===b.strm.avail_out))return 1}b.insert=2>b.strstart?b.strstart:2;return 4===c?(a(b,!0),0===b.strm.avail_out?3:4):b.last_lit&&(a(b,!1),0===b.strm.avail_out)?1:2}function m(b,c){for(var f,d;;){if(262>b.lookahead){M(b);if(262>b.lookahead&&0===c)return 1;if(0===b.lookahead)break}f=0;3<=b.lookahead&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+3-1])&b.hash_mask,f=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart);b.prev_length=b.match_length;b.prev_match=b.match_start;
b.match_length=2;0!==f&&b.prev_length<b.max_lazy_match&&b.strstart-f<=b.w_size-262&&(b.match_length=u(b,f),5>=b.match_length&&(1===b.strategy||3===b.match_length&&4096<b.strstart-b.match_start)&&(b.match_length=2));if(3<=b.prev_length&&b.match_length<=b.prev_length){d=b.strstart+b.lookahead-3;f=v._tr_tally(b,b.strstart-1-b.prev_match,b.prev_length-3);b.lookahead-=b.prev_length-1;b.prev_length-=2;do++b.strstart<=d&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+3-1])&b.hash_mask,b.prev[b.strstart&
b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart);while(0!==--b.prev_length);b.match_available=0;b.match_length=2;b.strstart++;if(f&&(a(b,!1),0===b.strm.avail_out))return 1}else if(b.match_available){if((f=v._tr_tally(b,0,b.window[b.strstart-1]))&&a(b,!1),b.strstart++,b.lookahead--,0===b.strm.avail_out)return 1}else b.match_available=1,b.strstart++,b.lookahead--}b.match_available&&(v._tr_tally(b,0,b.window[b.strstart-1]),b.match_available=0);b.insert=2>b.strstart?b.strstart:2;return 4===c?(a(b,
!0),0===b.strm.avail_out?3:4):b.last_lit&&(a(b,!1),0===b.strm.avail_out)?1:2}function n(b,c){for(var f,d,h,e=b.window;;){if(258>=b.lookahead){M(b);if(258>=b.lookahead&&0===c)return 1;if(0===b.lookahead)break}b.match_length=0;if(3<=b.lookahead&&0<b.strstart&&(d=b.strstart-1,f=e[d],f===e[++d]&&f===e[++d]&&f===e[++d])){for(h=b.strstart+258;f===e[++d]&&f===e[++d]&&f===e[++d]&&f===e[++d]&&f===e[++d]&&f===e[++d]&&f===e[++d]&&f===e[++d]&&d<h;);b.match_length=258-(h-d);b.match_length>b.lookahead&&(b.match_length=
b.lookahead)}3<=b.match_length?(f=v._tr_tally(b,1,b.match_length-3),b.lookahead-=b.match_length,b.strstart+=b.match_length,b.match_length=0):(f=v._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++);if(f&&(a(b,!1),0===b.strm.avail_out))return 1}b.insert=0;return 4===c?(a(b,!0),0===b.strm.avail_out?3:4):b.last_lit&&(a(b,!1),0===b.strm.avail_out)?1:2}function L(b,c){for(var f;;){if(0===b.lookahead&&(M(b),0===b.lookahead)){if(0===c)return 1;break}b.match_length=0;f=v._tr_tally(b,0,b.window[b.strstart]);
b.lookahead--;b.strstart++;if(f&&(a(b,!1),0===b.strm.avail_out))return 1}b.insert=0;return 4===c?(a(b,!0),0===b.strm.avail_out?3:4):b.last_lit&&(a(b,!1),0===b.strm.avail_out)?1:2}function w(b,c,f,d,h){this.good_length=b;this.max_lazy=c;this.nice_length=f;this.max_chain=d;this.func=h}function R(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=8;this.last_flush=-1;this.w_mask=this.w_bits=
this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new B.Buf16(1146);this.dyn_dtree=new B.Buf16(122);this.bl_tree=new B.Buf16(78);f(this.dyn_ltree);f(this.dyn_dtree);
f(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new B.Buf16(16);this.heap=new B.Buf16(573);f(this.heap);this.heap_max=this.heap_len=0;this.depth=new B.Buf16(573);f(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function r(b){if(!b||!b.state)return h(b,-2);b.total_in=b.total_out=0;b.data_type=2;var c=b.state;c.pending=0;c.pending_out=0;0>c.wrap&&(c.wrap=-c.wrap);c.status=c.wrap?
42:113;b.adler=2===c.wrap?0:1;c.last_flush=0;v._tr_init(c);return 0}function t(b){var c=r(b);0===c&&(b=b.state,b.window_size=2*b.w_size,f(b.head),b.max_lazy_match=E[b.level].max_lazy,b.good_match=E[b.level].good_length,b.nice_match=E[b.level].nice_length,b.max_chain_length=E[b.level].max_chain,b.strstart=0,b.block_start=0,b.lookahead=0,b.insert=0,b.match_length=b.prev_length=2,b.match_available=0,b.ins_h=0);return c}function H(b,c,f,d,e,a){if(!b)return-2;var w=1;-1===c&&(c=6);0>d?(w=0,d=-d):15<d&&
(w=2,d-=16);if(1>e||9<e||8!==f||8>d||15<d||0>c||9<c||0>a||4<a)return h(b,-2);8===d&&(d=9);var r=new R;b.state=r;r.strm=b;r.wrap=w;r.gzhead=null;r.w_bits=d;r.w_size=1<<r.w_bits;r.w_mask=r.w_size-1;r.hash_bits=e+7;r.hash_size=1<<r.hash_bits;r.hash_mask=r.hash_size-1;r.hash_shift=~~((r.hash_bits+3-1)/3);r.window=new B.Buf8(2*r.w_size);r.head=new B.Buf16(r.hash_size);r.prev=new B.Buf16(r.w_size);r.lit_bufsize=1<<e+6;r.pending_buf_size=4*r.lit_bufsize;r.pending_buf=new B.Buf8(r.pending_buf_size);r.d_buf=
1*r.lit_bufsize;r.l_buf=3*r.lit_bufsize;r.level=c;r.strategy=a;r.method=f;return t(b)}var B=l("../utils/common"),v=l("./trees"),q=l("./adler32"),C=l("./crc32"),A=l("./messages");var E=[new w(0,0,0,0,function(b,c){var f=65535;for(f>b.pending_buf_size-5&&(f=b.pending_buf_size-5);;){if(1>=b.lookahead){M(b);if(0===b.lookahead&&0===c)return 1;if(0===b.lookahead)break}b.strstart+=b.lookahead;b.lookahead=0;var d=b.block_start+f;if(0===b.strstart||b.strstart>=d)if(b.lookahead=b.strstart-d,b.strstart=d,a(b,
!1),0===b.strm.avail_out)return 1;if(b.strstart-b.block_start>=b.w_size-262&&(a(b,!1),0===b.strm.avail_out))return 1}b.insert=0;if(4===c)return a(b,!0),0===b.strm.avail_out?3:4;b.strstart>b.block_start&&a(b,!1);return 1}),new w(4,4,8,4,g),new w(4,5,16,8,g),new w(4,6,32,32,g),new w(4,4,16,16,m),new w(8,16,32,32,m),new w(8,16,128,128,m),new w(8,32,128,256,m),new w(32,128,258,1024,m),new w(32,258,258,4096,m)];e.deflateInit=function(b,c){return H(b,c,8,15,8,0)};e.deflateInit2=H;e.deflateReset=t;e.deflateResetKeep=
r;e.deflateSetHeader=function(b,c){if(!b||!b.state||2!==b.state.wrap)return-2;b.state.gzhead=c;return 0};e.deflate=function(b,e){if(!b||!b.state||5<e||0>e)return b?h(b,-2):-2;var a=b.state;if(!b.output||!b.input&&0!==b.avail_in||666===a.status&&4!==e)return h(b,0===b.avail_out?-5:-2);a.strm=b;var r=a.last_flush;a.last_flush=e;if(42===a.status)if(2===a.wrap)b.adler=0,c(a,31),c(a,139),c(a,8),a.gzhead?(c(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?
16:0)),c(a,a.gzhead.time&255),c(a,a.gzhead.time>>8&255),c(a,a.gzhead.time>>16&255),c(a,a.gzhead.time>>24&255),c(a,9===a.level?2:2<=a.strategy||2>a.level?4:0),c(a,a.gzhead.os&255),a.gzhead.extra&&a.gzhead.extra.length&&(c(a,a.gzhead.extra.length&255),c(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(b.adler=C(b.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(c(a,0),c(a,0),c(a,0),c(a,0),c(a,0),c(a,9===a.level?2:2<=a.strategy||2>a.level?4:0),c(a,3),a.status=113);else{var t=8+(a.w_bits-8<<
4)<<8;t|=(2<=a.strategy||2>a.level?0:6>a.level?1:6===a.level?2:3)<<6;0!==a.strstart&&(t|=32);a.status=113;p(a,t+(31-t%31));0!==a.strstart&&(p(a,b.adler>>>16),p(a,b.adler&65535));b.adler=1}if(69===a.status)if(a.gzhead.extra){for(t=a.pending;a.gzindex<(a.gzhead.extra.length&65535)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>t&&(b.adler=C(b.adler,a.pending_buf,a.pending-t,t)),d(b),t=a.pending,a.pending!==a.pending_buf_size));)c(a,a.gzhead.extra[a.gzindex]&255),a.gzindex++;a.gzhead.hcrc&&
a.pending>t&&(b.adler=C(b.adler,a.pending_buf,a.pending-t,t));a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(73===a.status)if(a.gzhead.name){t=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>t&&(b.adler=C(b.adler,a.pending_buf,a.pending-t,t)),d(b),t=a.pending,a.pending===a.pending_buf_size)){var w=1;break}w=a.gzindex<a.gzhead.name.length?a.gzhead.name.charCodeAt(a.gzindex++)&255:0;c(a,w)}while(0!==w);a.gzhead.hcrc&&a.pending>t&&(b.adler=
C(b.adler,a.pending_buf,a.pending-t,t));0===w&&(a.gzindex=0,a.status=91)}else a.status=91;if(91===a.status)if(a.gzhead.comment){t=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>t&&(b.adler=C(b.adler,a.pending_buf,a.pending-t,t)),d(b),t=a.pending,a.pending===a.pending_buf_size)){w=1;break}w=a.gzindex<a.gzhead.comment.length?a.gzhead.comment.charCodeAt(a.gzindex++)&255:0;c(a,w)}while(0!==w);a.gzhead.hcrc&&a.pending>t&&(b.adler=C(b.adler,a.pending_buf,a.pending-t,t));0===w&&
(a.status=103)}else a.status=103;103===a.status&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&d(b),a.pending+2<=a.pending_buf_size&&(c(a,b.adler&255),c(a,b.adler>>8&255),b.adler=0,a.status=113)):a.status=113);if(0!==a.pending){if(d(b),0===b.avail_out)return a.last_flush=-1,0}else if(0===b.avail_in&&(e<<1)-(4<e?9:0)<=(r<<1)-(4<r?9:0)&&4!==e)return h(b,-5);if(666===a.status&&0!==b.avail_in)return h(b,-5);if(0!==b.avail_in||0!==a.lookahead||0!==e&&666!==a.status){r=2===a.strategy?L(a,e):3===a.strategy?
n(a,e):E[a.level].func(a,e);if(3===r||4===r)a.status=666;if(1===r||3===r)return 0===b.avail_out&&(a.last_flush=-1),0;if(2===r&&(1===e?v._tr_align(a):5!==e&&(v._tr_stored_block(a,0,0,!1),3===e&&(f(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),d(b),0===b.avail_out))return a.last_flush=-1,0}if(4!==e)return 0;if(0>=a.wrap)return 1;2===a.wrap?(c(a,b.adler&255),c(a,b.adler>>8&255),c(a,b.adler>>16&255),c(a,b.adler>>24&255),c(a,b.total_in&255),c(a,b.total_in>>8&255),c(a,b.total_in>>
16&255),c(a,b.total_in>>24&255)):(p(a,b.adler>>>16),p(a,b.adler&65535));d(b);0<a.wrap&&(a.wrap=-a.wrap);return 0!==a.pending?0:1};e.deflateEnd=function(b){if(!b||!b.state)return-2;var c=b.state.status;if(42!==c&&69!==c&&73!==c&&91!==c&&103!==c&&113!==c&&666!==c)return h(b,-2);b.state=null;return 113===c?h(b,-3):0};e.deflateSetDictionary=function(b,c){var a=c.length;if(!b||!b.state)return-2;var d=b.state;var h=d.wrap;if(2===h||1===h&&42!==d.status||d.lookahead)return-2;1===h&&(b.adler=q(b.adler,c,
a,0));d.wrap=0;if(a>=d.w_size){0===h&&(f(d.head),d.strstart=0,d.block_start=0,d.insert=0);var e=new B.Buf8(d.w_size);B.arraySet(e,c,a-d.w_size,d.w_size,0);c=e;a=d.w_size}e=b.avail_in;var t=b.next_in;var r=b.input;b.avail_in=a;b.next_in=0;b.input=c;for(M(d);3<=d.lookahead;){c=d.strstart;a=d.lookahead-2;do d.ins_h=(d.ins_h<<d.hash_shift^d.window[c+3-1])&d.hash_mask,d.prev[c&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=c,c++;while(--a);d.strstart=c;d.lookahead=2;M(d)}d.strstart+=d.lookahead;d.block_start=
d.strstart;d.insert=d.lookahead;d.lookahead=0;d.match_length=d.prev_length=2;d.match_available=0;b.next_in=t;b.input=r;b.avail_in=e;d.wrap=h;return 0};e.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./messages":13,"./trees":14}],9:[function(l,k,e){k.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},{}],10:[function(l,k,e){k.exports=function(h,f){var d=
h.state;var a=h.next_in;var c=h.input;var e=a+(h.avail_in-5);var u=h.next_out;var k=h.output;f=u-(f-h.avail_out);var l=u+(h.avail_out-257);var m=d.dmax;var g=d.wsize;var n=d.whave;var w=d.wnext;var R=d.window;var r=d.hold;var t=d.bits;var H=d.lencode;var B=d.distcode;var v=(1<<d.lenbits)-1;var q=(1<<d.distbits)-1;a:do{15>t&&(r+=c[a++]<<t,t+=8,r+=c[a++]<<t,t+=8);var C=H[r&v];b:for(;;){var A=C>>>24;r>>>=A;t-=A;A=C>>>16&255;if(0===A)k[u++]=C&65535;else if(A&16){var E=C&65535;if(A&=15)t<A&&(r+=c[a++]<<
t,t+=8),E+=r&(1<<A)-1,r>>>=A,t-=A;15>t&&(r+=c[a++]<<t,t+=8,r+=c[a++]<<t,t+=8);C=B[r&q];c:for(;;){A=C>>>24;r>>>=A;t-=A;A=C>>>16&255;if(A&16){C&=65535;A&=15;t<A&&(r+=c[a++]<<t,t+=8,t<A&&(r+=c[a++]<<t,t+=8));C+=r&(1<<A)-1;if(C>m){h.msg="invalid distance too far back";d.mode=30;break a}r>>>=A;t-=A;A=u-f;if(C>A){A=C-A;if(A>n&&d.sane){h.msg="invalid distance too far back";d.mode=30;break a}var b=0;var Y=R;if(0===w){if(b+=g-A,A<E){E-=A;do k[u++]=R[b++];while(--A);b=u-C;Y=k}}else if(w<A){if(b+=g+w-A,A-=w,
A<E){E-=A;do k[u++]=R[b++];while(--A);b=0;if(w<E){A=w;E-=A;do k[u++]=R[b++];while(--A);b=u-C;Y=k}}}else if(b+=w-A,A<E){E-=A;do k[u++]=R[b++];while(--A);b=u-C;Y=k}for(;2<E;)k[u++]=Y[b++],k[u++]=Y[b++],k[u++]=Y[b++],E-=3;E&&(k[u++]=Y[b++],1<E&&(k[u++]=Y[b++]))}else{b=u-C;do k[u++]=k[b++],k[u++]=k[b++],k[u++]=k[b++],E-=3;while(2<E);E&&(k[u++]=k[b++],1<E&&(k[u++]=k[b++]))}}else if(0===(A&64)){C=B[(C&65535)+(r&(1<<A)-1)];continue c}else{h.msg="invalid distance code";d.mode=30;break a}break}}else if(0===
(A&64)){C=H[(C&65535)+(r&(1<<A)-1)];continue b}else{A&32?d.mode=12:(h.msg="invalid literal/length code",d.mode=30);break a}break}}while(a<e&&u<l);E=t>>3;a-=E;t-=E<<3;h.next_in=a;h.next_out=u;h.avail_in=a<e?5+(e-a):5-(a-e);h.avail_out=u<l?257+(l-u):257-(u-l);d.hold=r&(1<<t)-1;d.bits=t}},{}],11:[function(l,k,e){l("../utils/common");l("./adler32");l("./crc32");l("./inffast");l("./inftrees")},{"../utils/common":3,"./adler32":5,"./crc32":7,"./inffast":10,"./inftrees":12}],12:[function(l,k,e){var h=l("../utils/common"),
f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];k.exports=function(e,u,k,l,m,g,n,w){var p=w.bits,r,t,H,B,M,v,C=0,L=new h.Buf16(16);var E=new h.Buf16(16);
var b,aa=0;for(r=0;15>=r;r++)L[r]=0;for(t=0;t<l;t++)L[u[k+t]]++;var T=p;for(H=15;1<=H&&0===L[H];H--);T>H&&(T=H);if(0===H)return m[g++]=20971520,m[g++]=20971520,w.bits=1,0;for(p=1;p<H&&0===L[p];p++);T<p&&(T=p);for(r=B=1;15>=r;r++)if(B<<=1,B-=L[r],0>B)return-1;if(0<B&&(0===e||1!==H))return-1;E[1]=0;for(r=1;15>r;r++)E[r+1]=E[r]+L[r];for(t=0;t<l;t++)0!==u[k+t]&&(n[E[u[k+t]]++]=t);if(0===e){var q=b=n;var y=19}else 1===e?(q=f,C-=257,b=d,aa-=257,y=256):(q=a,b=c,y=-1);t=M=0;r=p;var N=g;l=T;E=0;var J=-1;var Q=
1<<T;var W=Q-1;if(1===e&&852<Q||2===e&&592<Q)return 1;for(;;){var x=r-E;if(n[t]<y){var da=0;var ta=n[t]}else n[t]>y?(da=b[aa+n[t]],ta=q[C+n[t]]):(da=96,ta=0);B=1<<r-E;p=v=1<<l;do v-=B,m[N+(M>>E)+v]=x<<24|da<<16|ta|0;while(0!==v);for(B=1<<r-1;M&B;)B>>=1;0!==B?(M&=B-1,M+=B):M=0;t++;if(0===--L[r]){if(r===H)break;r=u[k+n[t]]}if(r>T&&(M&W)!==J){0===E&&(E=T);N+=p;l=r-E;for(B=1<<l;l+E<H;){B-=L[l+E];if(0>=B)break;l++;B<<=1}Q+=1<<l;if(1===e&&852<Q||2===e&&592<Q)return 1;J=M&W;m[J]=T<<24|l<<16|N-g|0}}0!==M&&
(m[N+M]=r-E<<24|4194304);w.bits=T;return 0}},{"../utils/common":3}],13:[function(l,k,e){k.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],14:[function(l,k,e){function h(b){for(var c=b.length;0<=--c;)b[c]=0}function f(b,c,a,d,f){this.static_tree=b;this.extra_bits=c;this.extra_base=a;this.elems=d;this.max_length=f;this.has_stree=b&&b.length}function d(b,c){this.dyn_tree=
b;this.max_code=0;this.stat_desc=c}function a(b,c){b.pending_buf[b.pending++]=c&255;b.pending_buf[b.pending++]=c>>>8&255}function c(b,c,d){b.bi_valid>16-d?(b.bi_buf|=c<<b.bi_valid&65535,a(b,b.bi_buf),b.bi_buf=c>>16-b.bi_valid,b.bi_valid+=d-16):(b.bi_buf|=c<<b.bi_valid&65535,b.bi_valid+=d)}function p(b,a,d){c(b,d[2*a],d[2*a+1])}function u(b,c){var a=0;do a|=b&1,b>>>=1,a<<=1;while(0<--c);return a>>>1}function g(b,c,a){var d=Array(16),f=0,h;for(h=1;15>=h;h++)d[h]=f=f+a[h-1]<<1;for(a=0;a<=c;a++)f=b[2*
a+1],0!==f&&(b[2*a]=u(d[f]++,f))}function n(b){var c;for(c=0;286>c;c++)b.dyn_ltree[2*c]=0;for(c=0;30>c;c++)b.dyn_dtree[2*c]=0;for(c=0;19>c;c++)b.bl_tree[2*c]=0;b.dyn_ltree[512]=1;b.opt_len=b.static_len=0;b.last_lit=b.matches=0}function m(b){8<b.bi_valid?a(b,b.bi_buf):0<b.bi_valid&&(b.pending_buf[b.pending++]=b.bi_buf);b.bi_buf=0;b.bi_valid=0}function v(b,c,a,d){var f=2*c,h=2*a;return b[f]<b[h]||b[f]===b[h]&&d[c]<=d[a]}function L(b,c,a){for(var d=b.heap[a],f=a<<1;f<=b.heap_len;){f<b.heap_len&&v(c,
b.heap[f+1],b.heap[f],b.depth)&&f++;if(v(c,d,b.heap[f],b.depth))break;b.heap[a]=b.heap[f];a=f;f<<=1}b.heap[a]=d}function w(b,a,d){var f=0;if(0!==b.last_lit){do{var h=b.pending_buf[b.d_buf+2*f]<<8|b.pending_buf[b.d_buf+2*f+1];var e=b.pending_buf[b.l_buf+f];f++;if(0===h)p(b,e,a);else{var t=z[e];p(b,t+256+1,a);var r=q[t];0!==r&&(e-=D[t],c(b,e,r));h--;t=256>h?x[h]:x[256+(h>>>7)];p(b,t,d);r=C[t];0!==r&&(h-=N[t],c(b,h,r))}}while(f<b.last_lit)}p(b,256,a)}function R(b,c){var a=c.dyn_tree,d=c.stat_desc.static_tree,
f=c.stat_desc.has_stree,h=c.stat_desc.elems,e,t=-1;b.heap_len=0;b.heap_max=573;for(e=0;e<h;e++)0!==a[2*e]?(b.heap[++b.heap_len]=t=e,b.depth[e]=0):a[2*e+1]=0;for(;2>b.heap_len;){var r=b.heap[++b.heap_len]=2>t?++t:0;a[2*r]=1;b.depth[r]=0;b.opt_len--;f&&(b.static_len-=d[2*r+1])}c.max_code=t;for(e=b.heap_len>>1;1<=e;e--)L(b,a,e);r=h;do e=b.heap[1],b.heap[1]=b.heap[b.heap_len--],L(b,a,1),d=b.heap[1],b.heap[--b.heap_max]=e,b.heap[--b.heap_max]=d,a[2*r]=a[2*e]+a[2*d],b.depth[r]=(b.depth[e]>=b.depth[d]?b.depth[e]:
b.depth[d])+1,a[2*e+1]=a[2*d+1]=r,b.heap[1]=r++,L(b,a,1);while(2<=b.heap_len);b.heap[--b.heap_max]=b.heap[1];e=c.dyn_tree;r=c.max_code;var d=c.stat_desc.static_tree,f=c.stat_desc.has_stree,h=c.stat_desc.extra_bits,w=c.stat_desc.extra_base,u=c.stat_desc.max_length,k,m=0;for(k=0;15>=k;k++)b.bl_count[k]=0;e[2*b.heap[b.heap_max]+1]=0;for(c=b.heap_max+1;573>c;c++){var p=b.heap[c];k=e[2*e[2*p+1]+1]+1;k>u&&(k=u,m++);e[2*p+1]=k;if(!(p>r)){b.bl_count[k]++;var l=0;p>=w&&(l=h[p-w]);var ea=e[2*p];b.opt_len+=
ea*(k+l);f&&(b.static_len+=ea*(d[2*p+1]+l))}}if(0!==m){do{for(k=u-1;0===b.bl_count[k];)k--;b.bl_count[k]--;b.bl_count[k+1]+=2;b.bl_count[u]--;m-=2}while(0<m);for(k=u;0!==k;k--)for(p=b.bl_count[k];0!==p;)d=b.heap[--c],d>r||(e[2*d+1]!==k&&(b.opt_len+=(k-e[2*d+1])*e[2*d],e[2*d+1]=k),p--)}g(a,t,b.bl_count)}function r(b,c,a){var d,f=-1,h=c[1],e=0,t=7,r=4;0===h&&(t=138,r=3);c[2*(a+1)+1]=65535;for(d=0;d<=a;d++){var w=h;h=c[2*(d+1)+1];++e<t&&w===h||(e<r?b.bl_tree[2*w]+=e:0!==w?(w!==f&&b.bl_tree[2*w]++,b.bl_tree[32]++):
10>=e?b.bl_tree[34]++:b.bl_tree[36]++,e=0,f=w,0===h?(t=138,r=3):w===h?(t=6,r=3):(t=7,r=4))}}function t(b,a,d){var f,h=-1,e=a[1],t=0,r=7,w=4;0===e&&(r=138,w=3);for(f=0;f<=d;f++){var k=e;e=a[2*(f+1)+1];if(!(++t<r&&k===e)){if(t<w){do p(b,k,b.bl_tree);while(0!==--t)}else 0!==k?(k!==h&&(p(b,k,b.bl_tree),t--),p(b,16,b.bl_tree),c(b,t-3,2)):10>=t?(p(b,17,b.bl_tree),c(b,t-3,3)):(p(b,18,b.bl_tree),c(b,t-11,7));t=0;h=k;0===e?(r=138,w=3):k===e?(r=6,w=3):(r=7,w=4)}}}function H(b){var c=4093624447,a;for(a=0;31>=
a;a++,c>>>=1)if(c&1&&0!==b.dyn_ltree[2*a])return 0;if(0!==b.dyn_ltree[18]||0!==b.dyn_ltree[20]||0!==b.dyn_ltree[26])return 1;for(a=32;256>a;a++)if(0!==b.dyn_ltree[2*a])return 1;return 0}function B(b,d,f,h){c(b,0+(h?1:0),3);m(b);a(b,f);a(b,~f);ba.arraySet(b.pending_buf,b.window,d,f,b.pending);b.pending+=f}var ba=l("../utils/common"),q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],C=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,2,3,7],E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],b=Array(576);h(b);var y=Array(60);h(y);var x=Array(512);h(x);var z=Array(256);h(z);var D=Array(29);h(D);var N=Array(30);h(N);var J,Q,W,fa=!1;e._tr_init=function(c){if(!fa){var a,h,e,t=Array(16);for(e=h=0;28>e;e++)for(D[e]=h,a=0;a<1<<q[e];a++)z[h++]=e;z[h-1]=e;for(e=h=0;16>e;e++)for(N[e]=h,a=0;a<1<<C[e];a++)x[h++]=e;for(h>>=7;30>e;e++)for(N[e]=h<<7,a=0;a<1<<C[e]-7;a++)x[256+h++]=e;for(a=0;15>=a;a++)t[a]=0;for(a=0;143>=a;)b[2*a+1]=8,a++,t[8]++;
for(;255>=a;)b[2*a+1]=9,a++,t[9]++;for(;279>=a;)b[2*a+1]=7,a++,t[7]++;for(;287>=a;)b[2*a+1]=8,a++,t[8]++;g(b,287,t);for(a=0;30>a;a++)y[2*a+1]=5,y[2*a]=u(a,5);J=new f(b,q,257,286,15);Q=new f(y,C,0,30,15);W=new f([],A,0,19,7);fa=!0}c.l_desc=new d(c.dyn_ltree,J);c.d_desc=new d(c.dyn_dtree,Q);c.bl_desc=new d(c.bl_tree,W);c.bi_buf=0;c.bi_valid=0;n(c)};e._tr_stored_block=B;e._tr_flush_block=function(a,d,f,e){var h=0;if(0<a.level){2===a.strm.data_type&&(a.strm.data_type=H(a));R(a,a.l_desc);R(a,a.d_desc);
r(a,a.dyn_ltree,a.l_desc.max_code);r(a,a.dyn_dtree,a.d_desc.max_code);R(a,a.bl_desc);for(h=18;3<=h&&0===a.bl_tree[2*E[h]+1];h--);a.opt_len+=3*(h+1)+14;var k=a.opt_len+3+7>>>3;var u=a.static_len+3+7>>>3;u<=k&&(k=u)}else k=u=f+5;if(f+4<=k&&-1!==d)B(a,d,f,e);else if(4===a.strategy||u===k)c(a,2+(e?1:0),3),w(a,b,y);else{c(a,4+(e?1:0),3);d=a.l_desc.max_code+1;f=a.d_desc.max_code+1;h+=1;c(a,d-257,5);c(a,f-1,5);c(a,h-4,4);for(k=0;k<h;k++)c(a,a.bl_tree[2*E[k]+1],3);t(a,a.dyn_ltree,d-1);t(a,a.dyn_dtree,f-1);
w(a,a.dyn_ltree,a.dyn_dtree)}n(a);e&&m(a)};e._tr_tally=function(b,a,c){b.pending_buf[b.d_buf+2*b.last_lit]=a>>>8&255;b.pending_buf[b.d_buf+2*b.last_lit+1]=a&255;b.pending_buf[b.l_buf+b.last_lit]=c&255;b.last_lit++;0===a?b.dyn_ltree[2*c]++:(b.matches++,a--,b.dyn_ltree[2*(z[c]+256+1)]++,b.dyn_dtree[2*(256>a?x[a]:x[256+(a>>>7)])]++);return b.last_lit===b.lit_bufsize-1};e._tr_align=function(d){c(d,2,3);p(d,256,b);16===d.bi_valid?(a(d,d.bi_buf),d.bi_buf=0,d.bi_valid=0):8<=d.bi_valid&&(d.pending_buf[d.pending++]=
d.bi_buf&255,d.bi_buf>>=8,d.bi_valid-=8)}},{"../utils/common":3}],15:[function(l,k,e){k.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}},{}],"/":[function(l,k,e){k=l("./lib/utils/common").assign;e=l("./lib/deflate");l=l("./lib/zlib/constants");n.pako={};k(n.pako,e,l)},{"./lib/deflate":1,"./lib/utils/common":3,"./lib/zlib/constants":6}]},{},[])("/")});
g.compress=n.pako.deflate})(G);(function(g){g.crypt=function(g,l){for(var k=new Uint8Array(l),e=new ArrayBuffer(l.byteLength),e=new Uint8Array(e),h=0;h<l.byteLength;h++)e[h]=k[h]^g.charCodeAt(h%g.length);return e.buffer}})({});var F={};(function(g){g.onDomLoaded=function(g){if("complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState)g();else{var l=!1;document.addEventListener("DOMContentLoaded",function(){l||(l=!0,g())},!1);window.addEventListener("load",
function(){l||(l=!0,g())})}};g.onScroll=function(g){window.addEventListener("scroll",function(l){g()})};g.onBlur=function(g){window.addEventListener("blur",function(l){g()})};g.onFocus=function(g){window.addEventListener("focus",function(l){g()})}})(F);(function(g){g.encode=function(g){g=new Uint8Array(g);for(var l="",k=0;k<g.length;k++)l+=String.fromCharCode(g[k]);return btoa(l)};g.decode=function(g){g=atob(g);for(var l=new Uint8Array(g.length),k=0;k<g.length;k++)l[k]=g.charCodeAt(k);return l.buffer}})({});
var I={};(function(g){g.sum32a=function(g){g=new Uint8Array(g);for(var l=2166136261,k=0;k<g.byteLength;++k)l^=g[k],l+=(l<<1)+(l<<4)+(l<<7)+(l<<8)+(l<<24);return l>>>0}})(I);var y={};(function(g){var n=!1,l=!1;try{l=0<=window.location.href.indexOf("bt_debug=true")||"true"===window.localStorage.bt_debug}catch(H){l=!1}var k={0:"DFT",1:"DBG",2:"INF",3:"NTC",4:"WRN",5:"ERR",6:"CRT",7:"ALR",8:"EMR"},e={0:"#F5F5F5",1:"#BBDEFB",2:"#B3E5FC",3:"#DCEDC8",4:"#FFE0B2",5:"#FFCCBC",6:"#E57373",7:"#F06292",8:"#BA68C8"},
h="#B71C1C #880E4F #4A148C #311B92 #1A237E #0D47A1 #01579B #006064 #004D40 #1B5E20 #33691E #827717 #F57F17 #FF6F00 #E65100 #BF360C #3E2723 #37474F".split(" "),f=function(a){a=a?a.id||null:null;if(!a)return"#000000";for(var c=2166136261,d=0;d<a.length;++d)c^=a.charCodeAt(d),c+=(c<<1)+(c<<4)+(c<<7)+(c<<8)+(c<<24);return h[(c>>>0)%h.length]},d=(new Date).getTime(),a=function(){return(new Date).getTime()-d},c=function(){this.tag="Blockthrough";this.prefix="";this.level=0;this.filters=[]};c.prototype.setPrefix=
function(a){this.prefix=a};c.prototype.setLevel=function(a){this.level="number"!==typeof a||0>a||8<a?0:a};c.prototype.setFilter=function(a){for(var c=[],d=0;d<arguments.length;d++){if(!(arguments[d]instanceof RegExp))throw new TypeError;c[d]=arguments[d]}this.filters=c};c.prototype.log=function(c,d,h,t){if(l){if(3>arguments.length)throw new TypeError;if("number"!==typeof c||0>c||8<c)throw new TypeError;if("object"!==typeof d)throw new TypeError;if("string"!==typeof h)throw new TypeError;if(!(c<this.level)||
n){for(var r=0;r<this.filters.length;r++)if(null!==h.match(this.filters[r]))return;var r=a(),w=d?d.id||null:null;var u=""+("%c["+this.tag+" - "+k[c]+"]%c");u+="%c[%s]%c ";w&&(u+="%c["+w+"]%c ");this.prefix&&(u+=this.prefix);var b=[];b.push(u+h);b.push("color: #000000; background-color: "+e[c]);b.push("background-color: inherit");b.push("color: #757575;");b.push(1E3>r?Math.round(r).toString()+"ms":(r/1E3).toFixed(2)+"s");b.push("background-color: inherit");w&&(b.push("color: "+f(d)),b.push("color: inherit"));
b=b.concat(Array.prototype.slice.call(arguments,3));console.info.apply(console,b)}}};c.prototype.debugf=function(a,c,d){this.log.apply(this,[1].concat(Array.prototype.slice.call(arguments)))};c.prototype.infof=function(a,c,d){this.log.apply(this,[2].concat(Array.prototype.slice.call(arguments)))};c.prototype.noticef=function(a,c,d){this.log.apply(this,[3].concat(Array.prototype.slice.call(arguments)))};c.prototype.warningf=function(a,c,d){this.log.apply(this,[4].concat(Array.prototype.slice.call(arguments)))};
c.prototype.errorf=function(a,c,d){this.log.apply(this,[5].concat(Array.prototype.slice.call(arguments)))};c.prototype.criticalf=function(a,c,d){this.log.apply(this,[6].concat(Array.prototype.slice.call(arguments)))};c.prototype.alertf=function(a,c,d){this.log.apply(this,[7].concat(Array.prototype.slice.call(arguments)))};c.prototype.emergencyf=function(a,c,d){this.log.apply(this,[8].concat(Array.prototype.slice.call(arguments)))};var p=new c,u=p.setPrefix.bind(p),M=p.setLevel.bind(p),v=p.setFilter.bind(p),
m=p.debugf.bind(p),T=p.infof.bind(p),L=p.noticef.bind(p),w=p.warningf.bind(p),R=p.errorf.bind(p),r=p.criticalf.bind(p),t=p.alertf.bind(p),p=p.emergencyf.bind(p);g.DEFAULT=0;g.DEBUG=1;g.INFO=2;g.NOTICE=3;g.WARNING=4;g.ERROR=5;g.CRITICAL=6;g.ALERT=7;g.EMERGENCY=8;g.new=function(){return new c};g.newContext=function(a,c){var d={},f;for(f in a)a.hasOwnProperty(f)&&(d[f]=a[f]);d.id=c;return d};g.timestamp=a;g.debugf=m;g.infof=T;g.noticef=L;g.warningf=w;g.errorf=R;g.criticalf=r;g.alertf=t;g.emergencyf=
p;g.setPrefix=u;g.setLevel=M;g.setFilter=v;g.setVerbose=function(a){n=a};g.setOutputEnabled=function(a){l=a}})(y);var K={};(function(g){var n=new function(){this.events={};this.addEventListener=function(k,e){this.events.hasOwnProperty(k)?this.events[k].push(e):this.events[k]=[e]};this.removeEventListener=function(k,e){this.events.hasOwnProperty(k)&&(e=this.events[k].indexOf(e),-1!=e&&this.events[k].splice(e,1))};this.fireEvent=function(k,e,h,f){if(this.events.hasOwnProperty(k)){e=new l(k,e);k=this.events[k];
f=k.length;for(var d=0;d<f;d++){try{var a=k[d].call(h,e)}catch(c){}if(void 0!=a)return a;if(e.shouldStop)break}}}},l=function(k,e){this.name=k;this.data=e;this.shouldStop=!1};g.CustomEvents=n})(K);(function(g){var n=function(g,k,e,h){k=Error(k,e,h);k.type=g;Object.setPrototypeOf(k,Object.getPrototypeOf(this));Error.captureStackTrace&&Error.captureStackTrace(k,n);return k};n.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf?
Object.setPrototypeOf(n,Error):n.__proto__=Error;g.CustomError=n})({});var q={};(function(g){g.consts={selectorPosition:{APPEND_CHILD:0,INSERT_BEFORE:1},complianceStatus:{UNKNOWN:0,COMPLIANT:1,INCOMPLIANT:2,ERROR:3,PENDING:4},acceptableStandardScreenSize:{width:1366,height:768},headerBiddingType:{prebid:1},refreshType:{UNKNOWN:0,ALL:1,VISIBLE:2,HIDDEN:3}};g.cpbjs=void 0;g.upoSettings={acceptableURLParam:"upapi=true",timeout:3E3,refreshTimeout:3E3,whitelistedFrameSettings:{url:"//mrb.upapi.net/safeFrame.html?upapi=true",
laterSrcModification:void 0,isOurOriginSafeFrame:!0},minTimeBetweenRefreshes:3E4};var n=new function(){this.data={};this.setItem=function(g,k){this.data[g]=k};this.getItem=function(g){return this.data[g]};this.removeItem=function(g){delete this.data[g]};this.clearSharedObject=function(){this.data={}}};g.SharedObject=n;g.uGoogletag=void 0;g.whitelistedFrame=void 0})(q);var g={};(function(g){var n=function(h,f,d){for(var a=[],c=0;c<h.length;c++)f.call(d,h[c],c,h)&&a.push(h[c]);return a},l=function(h){return"[object Array]"===
Object.prototype.toString.call(h)};g.map=function(h,f){for(var d=[],a=0;a<h.length;a++)d.push(f(h[a],a,h));return d};g.filter=n;g.forEach=function(h,f){if(h)for(var d=0;d<h.length;d++)f(h[d],d,h)};g.find=function(h,f){for(var d=0;d<h.length;d++){var a=h[d];if(f(a,d,h))return a}};g.flat=function(h){for(var f=[],d=0;d<h.length;d++){var a=h[d];if(l(a))for(var c=0;c<a.length;c++)f.push(a[c]);else f.push(a)}return f};g.isArray=l;g.distict=function(h){return n(h,function(f,d,a){return a.indexOf(f)===d})};
g.reduce=function(h,f){if(null===h)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!==typeof f)throw new TypeError(f+" is not a function");var d=Object(h),a=d.length>>>0,c=0;if(3<=arguments.length)var e=arguments[2];else{for(;c<a&&!(c in d);)c++;if(c>=a)throw new TypeError("Reduce of empty array with no initial value");e=d[c++]}for(;c<a;)c in d&&(e=f(e,d[c],c,d)),c++;return e};g.CDefer=function(){this.fate="unresolved";this.state="pending";var h,f;this.promise=
new e(function(d,a){h=d;f=a});this.promise.then(function(d){this.state="fulfilled";return d},function(d){this.state="rejected";return d});this.resolve=function(d){if("resolved"===this.fate)throw"Deferred cannot be resolved twice";this.fate="resolved";h(d)};this.reject=function(d){if("resolved"===this.fate)throw"Deferred cannot be resolved twice";this.fate="resolved";f(d)};this.isResolved=function(){return"resolved"===this.fate};this.isPending=function(){return"pending"===this.state};this.isFulfilled=
function(){return"fulfilled"===this.state};this.isRejected=function(){return"rejected"===this.state}};var k=window.Promise,e=k&&"[object Promise]"==Object.prototype.toString.call(k.resolve())?window.Promise:function(){function h(b){return"function"===typeof b}function f(){return function(){return process.nextTick(g)}}function d(){return"undefined"!==typeof N?function(){N(g)}:e()}function a(){var b=0,a=new fa(g),c=document.createTextNode("");a.observe(c,{characterData:!0});return function(){c.data=
b=++b%2}}function c(){var b=new MessageChannel;b.port1.onmessage=g;return function(){return b.port2.postMessage(0)}}function e(){var b=setTimeout;return function(){return b(g,1)}}function g(){for(var b=0;b<D;b+=2)(0,F[b])(F[b+1]),F[b]=void 0,F[b+1]=void 0;D=0}function k(){try{var b=Function("return this")().require("vertx");N=b.runOnLoop||b.runOnContext;return d()}catch(ra){return e()}}function l(b,a){var c=this,d=new this.constructor(n);void 0===d[O]&&y(d);var f=c._state;if(f){var e=arguments[f-
1];Q(function(){return E(f,d,e,c._result)})}else C(c,d,b,a);return d}function m(b){if(b&&"object"===typeof b&&b.constructor===this)return b;var a=new this(n);H(a,b);return a}function n(){}function L(b){try{return b.then}catch(ra){return P.error=ra,P}}function w(b,a,c,d){try{b.call(a,c,d)}catch(ea){return ea}}function R(b,a,c){Q(function(b){var d=!1,f=w(c,a,function(c){d||(d=!0,a!==c?H(b,c):v(b,c))},function(a){d||(d=!0,q(b,a))},"Settle: "+(b._label||" unknown promise"));!d&&f&&(d=!0,q(b,f))},b)}function r(b,
a){a._state===ja?v(b,a._result):a._state===I?q(b,a._result):C(a,void 0,function(a){return H(b,a)},function(a){return q(b,a)})}function t(b,a,c){a.constructor===b.constructor&&c===l&&a.constructor.resolve===m?r(b,a):c===P?(q(b,P.error),P.error=null):void 0===c?v(b,a):h(c)?R(b,a,c):v(b,a)}function H(b,a){if(b===a)q(b,new TypeError("You cannot resolve a promise with itself"));else{var c=typeof a;null===a||"object"!==c&&"function"!==c?v(b,a):t(b,a,L(a))}}function B(b){b._onerror&&b._onerror(b._result);
A(b)}function v(b,a){b._state===K&&(b._result=a,b._state=ja,0!==b._subscribers.length&&Q(A,b))}function q(b,a){b._state===K&&(b._state=I,b._result=a,Q(B,b))}function C(b,a,c,d){var f=b._subscribers,e=f.length;b._onerror=null;f[e]=a;f[e+ja]=c;f[e+I]=d;0===e&&b._state&&Q(A,b)}function A(b){var a=b._subscribers,c=b._state;if(0!==a.length){for(var d,f,e=b._result,h=0;h<a.length;h+=3)d=a[h],f=a[h+c],d?E(c,d,f,e):f(e);b._subscribers.length=0}}function E(b,a,c,d){var f=h(c),e=void 0,t=void 0,r=void 0,g=
void 0;if(f){try{e=c(d)}catch(wa){P.error=wa,e=P}e===P?(g=!0,t=e.error,e.error=null):r=!0;if(a===e){q(a,new TypeError("A promises callback cannot return that same promise."));return}}else e=d,r=!0;a._state===K&&(f&&r?H(a,e):g?q(a,t):b===ja?v(a,e):b===I&&q(a,e))}function b(b,a){try{a(function(a){H(b,a)},function(a){q(b,a)})}catch(Ka){q(b,Ka)}}function y(b){b[O]=S++;b._state=void 0;b._result=void 0;b._subscribers=[]}var x=void 0,z=x=Array.isArray?Array.isArray:function(b){return"[object Array]"===Object.prototype.toString.call(b)},
D=0,N=void 0,J=void 0,Q=function(b,a){F[D]=b;F[D+1]=a;D+=2;2===D&&(J?J(g):G())},W=(x="undefined"!==typeof window?window:void 0)||{},fa=W.MutationObserver||W.WebKitMutationObserver,W="undefined"===typeof self&&"undefined"!==typeof process&&"[object process]"==={}.toString.call(process),da="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel,F=Array(1E3),G=void 0,G=W?f():fa?a():da?c():void 0===x&&"function"===typeof require?k():e(),O=Math.random().toString(36).substring(2),
K=void 0,ja=1,I=2,P={error:null},S=0,V=function(){function b(b,a){this._instanceConstructor=b;this.promise=new b(n);this.promise[O]||y(this.promise);z(a)?(this._remaining=this.length=a.length,this._result=Array(this.length),0===this.length?v(this.promise,this._result):(this.length=this.length||0,this._enumerate(a),0===this._remaining&&v(this.promise,this._result))):q(this.promise,Error("Array Methods must be provided an Array"))}b.prototype._enumerate=function(b){for(var a=0;this._state===K&&a<b.length;a++)this._eachEntry(b[a],
a)};b.prototype._eachEntry=function(b,a){var c=this._instanceConstructor,d=c.resolve;d===m?(d=L(b),d===l&&b._state!==K?this._settledAt(b._state,a,b._result):"function"!==typeof d?(this._remaining--,this._result[a]=b):c===Z?(c=new c(n),t(c,b,d),this._willSettleAt(c,a)):this._willSettleAt(new c(function(a){return a(b)}),a)):this._willSettleAt(d(b),a)};b.prototype._settledAt=function(b,a,c){var d=this.promise;d._state===K&&(this._remaining--,b===I?q(d,c):this._result[a]=c);0===this._remaining&&v(d,this._result)};
b.prototype._willSettleAt=function(b,a){var c=this;C(b,void 0,function(b){return c._settledAt(ja,a,b)},function(b){return c._settledAt(I,a,b)})};return b}(),Z=function(){function a(c){this[O]=S++;this._result=this._state=void 0;this._subscribers=[];if(n!==c){if("function"!==typeof c)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof a)b(this,c);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
}}a.prototype.catch=function(b){return this.then(null,b)};a.prototype.finally=function(b){var a=this.constructor;return h(b)?this.then(function(c){return a.resolve(b()).then(function(){return c})},function(c){return a.resolve(b()).then(function(){throw c;})}):this.then(b,b)};return a}();Z.prototype.then=l;Z.all=function(b){return(new V(this,b)).promise};Z.race=function(b){var a=this;return z(b)?new a(function(c,d){for(var f=b.length,e=0;e<f;e++)a.resolve(b[e]).then(c,d)}):new a(function(b,a){return a(new TypeError("You must pass an array to race."))})};
Z.resolve=m;Z.reject=function(b){var a=new this(n);q(a,b);return a};Z._setScheduler=function(b){J=b};Z._setAsap=function(b){Q=b};Z._asap=Q;Z.polyfill=function(){var b=void 0;if("undefined"!==typeof global)b=global;else if("undefined"!==typeof self)b=self;else try{b=Function("return this")()}catch(ua){throw Error("polyfill failed because global object is unavailable in this environment");}var a=b.Promise;if(a){var c=null;try{c=Object.prototype.toString.call(a.resolve())}catch(ua){}if("[object Promise]"===
c&&!a.cast)return}b.Promise=Z};return Z.Promise=Z}();g.CPromise=e;g.addClass=function(e,f){if(f&&e){var d=f.className;-1==d.indexOf(e)&&(""!=d&&(e=" "+e),f.className=d+e)}};g.removeClass=function(e,f){if(f&&e){var d=f.className,d=d.replace(new RegExp("\\b"+e+"\\b","g"),"");f.className=d}};g.hasClass=function(e,f){if(e&&f)return-1<(" "+e.className+" ").indexOf(" "+f+" ")};g.objectAssign=function(e,f){if(null===e||void 0===e)throw new TypeError("Cannot convert undefined or null to object");for(var d=
Object(e),a=1;a<arguments.length;a++){var c=arguments[a];if(null!==c&&void 0!==c)for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(d[h]=c[h])}return d}})(g);var V={};(function(g){var n=function(e,f,d){if(!e||"number"!==typeof f||"number"!==typeof d||0>=f||0>=d||f>d)throw new TypeError;f=Math.floor(Math.random()*(d+1-f))+f;d="";for(var a=0;a<f;a++)d+=e.charAt(Math.floor(Math.random()*e.length));return d},l=function(e,f){return n("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",
e,f)},k=function(e,f){return n("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",e,f)},e=function(e,f){return n("0123456789",e,f)};g.stringRange=l;g.string=function(e){return l(e,e)};g.lettersRange=k;g.letters=function(e){return k(e,e)};g.digitsRange=e;g.digits=function(h){return e(h,h)}})(V);var U={};(function(g){var n=y.new();n.setPrefix("utf8: ");g.encode=function(g){try{if(window.TextEncoder)return(new window.TextEncoder("utf-8")).encode(g).buffer}catch(h){n.debugf(null,"TextEncoder %o",
h)}g=unescape(encodeURIComponent(g));for(var k=new Uint8Array(g.length),e=0;e<g.length;e++)k[e]=g.charCodeAt(e);return k.buffer};g.decode=function(g){try{if(window.TextDecoder)return(new window.TextDecoder("utf-8")).decode(new Uint8Array(g))}catch(f){n.debugf(null,"TextDecoder %o",f)}var k="";g=new Uint8Array(g);for(var e=g.byteLength,h=0;h<e;h++)k+=String.fromCharCode(g[h]);return decodeURIComponent(escape(k))}})(U);var z={};(function(g){var n=K.CustomEvents,l=new function(){this.Types={XHR_OPEN_PRE:"xhropenpre",
FETCH_PRE:"fetchpre",REMOVE_CHILD_PRE:"removechildpre",INSERT_BEFORE_PRE:"insertbeforepre",APPEND_CHILD_PRE:"appendchildpre",APPEND_CHILD_POST:"appendchildpost",IMG_SET_ATTRIBUTE_PRE:"imgsetattributepre",SET_ATTRIBUTE_PRE:"setattributepre",WIN_OPEN_PRE:"winopenpre",HTML_SRC_PROP_PRE:"htmlsrcproppre",HTML_ELEMENT_INNERHTML_PRE:"htmlelementinnerhtmlpre",HTML_ELEMENT_INNERHTML_POST:"htmlelementinnerhtmlpost",HTML_ELEMENT_HAS_CHILD_NODES_PRE:"htmlelementhaschildnodespre",HTML_ELEMENT_TEXTCONTENT_PRE:"htmlelementtextcontentpre"};
var g=["xhrThwartOpen","fetchThwartOpen"];this.hookFunction=function(e,h,f,d,a){var c=e[h];c&&(e[h]=function(){var e=Array.prototype.slice.call(arguments);if(f)try{var h=n.fireEvent(f,e,this);if(void 0!=h)return h}catch(M){if(!a)throw M;if(0<=g.indexOf(M.type))throw M;}h=c.apply(this,e);if(d)try{n.fireEvent(d,h,this)}catch(M){if(!a)throw M;if(0<=g.indexOf(M.type))throw M;}return h})};this.hookPropertySetter=function(e,h,f,d,a){var c=e.__lookupGetter__(h),k=e.__lookupSetter__(h);c&&(e.__defineSetter__(h,
function(){var c=Array.prototype.slice.call(arguments);if(f)try{var e=n.fireEvent(f,c,this);if(void 0!=e)return e}catch(aa){if(!a)throw aa;if(0<=g.indexOf(aa.type))throw aa;}e=k.apply(this,c);if(d)try{n.fireEvent(d,e,this)}catch(aa){if(!a)throw aa;if(0<=g.indexOf(aa.type))throw aa;}return e}),e.__defineGetter__(h,function(){try{return c.apply(this)}catch(u){}}))};this.addEventListener=function(e,h){n.addEventListener(e,h)}};g.Hooks=l})(z);var sa={};(function(g){var n=K.CustomEvents,l=function(){var g=
"push";window.googletag.cmd.unshift&&(g="unshift");window.googletag.cmd[g](function(){window.__cmp&&window.__cmp("getVendorConsents",null,function(e){!e||!e.gdprApplies||e.purposeConsents&&e.purposeConsents[1]&&e.purposeConsents[2]&&e.purposeConsents[3]&&e.purposeConsents[4]&&e.purposeConsents[5]||window.googletag.pubads().setRequestNonPersonalizedAds(1)});n.fireEvent("disableInitialLoad")&&window.googletag.pubads().disableInitialLoad();n.fireEvent("disableSingleRequest")||window.googletag.pubads().enableSingleRequest();
n.fireEvent("collapseEmptyDivs")&&window.googletag.pubads().collapseEmptyDivs(!0);window.googletag.pubads().enableAsyncRendering();window.googletag.enableServices()})};g.presetProvider=function(g){switch(g){case "dfp":return l}}})(sa);var ga={};(function(g){var n=y.new();n.setPrefix("visibiliy: ");var l=[],k=function(f){f=f.getBoundingClientRect();return document.hasFocus()&&0<=f.top&&0<=f.left&&f.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&f.right<=(window.innerWidth||document.documentElement.clientWidth)},
e=function(){for(var f=[],d=0;d<l.length;d++){var a=l[d][0];if(a&&a.parentElement){var c=l[d][1];k(a)?c():f.push([a,c])}}l=f};F.onFocus(function(){e()});F.onScroll(function(){e()});var h=function(f){if(f){var d=f.getBoundingClientRect();return d.width||d.height?(f=document.documentElement,{top:d.top+window.pageYOffset-f.clientTop,left:d.left+window.pageXOffset-f.clientLeft}):d}};g.onVisible=function(f,d){f&&f.parentElement&&(k(f)?d():l.push([f,d]))};g.calculateElementOffset=h;g.isElementVisible=function(f){var d=
!1;try{var a=document.querySelector(f)}catch(w){n.errorf(null,"document.querySelector:%o - error:%o",f,w)}if(!a)return!1;if("none"===window.getComputedStyle(a).display){var c=a.style.getPropertyValue("display");var e=a.style.getPropertyPriority("display");a.style.setProperty("display","block","important");d=!0}f=h(a);var g=document.documentElement.scrollLeft||window.scrollX,k=document.documentElement.scrollTop||window.scrollY,l=window.innerHeight,m=window.innerWidth,q=a.offsetHeight,L=a.offsetWidth;
f=f.left>=g&&f.top>=k&&L+f.left<=g+m&&q+f.top<=k+l?!0:(f.left<=g&&f.left+L>g||f.left>=g&&f.left<=g+m)&&(f.top<=k&&f.top+q>k||f.top>=k&&f.top<=k+l)?!0:!1;"hidden"===document.visibilityState&&(f=!1);d&&a.style.setProperty("display",c,e);return f}})(ga);var S={};(function(v){var n=function(){var e=navigator.userAgent;return/edge/i.test(e)?"edge":/opera/i.test(e)||/opr|opios/i.test(e)?"opera":/chrome|chromium/i.test(e)?"chrome":/firefox|iceweasel|fxios/i.test(e)?"firefox":/msie|trident/i.test(e)?"ie":
/^((?!chrome|android).)*safari/i.test(e)?"safari":/ucbrowser/i.test(e)?"uc":window.chrome?"chrome":"undefined"!==typeof InstallTrigger?"firefox":eval("/*@cc_on!@*/false")||document.documentMode?"ie":window.StyleMedia?"edge":"unknown"};v.PlatformUnknown="unknown";v.PlatformAndroid="android";v.PlatformIOS="ios";v.PlatformWindows="windows";v.PlatformLinux="linux";v.PlatformOSX="osx";v.BrowserUnknown="unknown";v.BrowserChrome="chrome";v.BrowserFirefox="firefox";v.BrowserIE="ie";v.BrowserEdge="edge";v.BrowserOpera=
"opera";v.BrowserSafari="safari";v.BrowserUCBrowser="uc";v.DeviceUnknown="unknown";v.DeviceHighEndPhone="highendphone";v.DeviceTablet="tablet";v.DevicePersonalComputer="pc";v.DeviceConnectedTV="tv";v.DeviceGameConsole="console";v.browser=n;v.platform=function(){var e=navigator.userAgent;return/windows|win32/i.test(e)?"windows":/ipod|iphone|ipad/i.test(e)?"ios":/android/i.test(e)?"android":/macintosh|mac os x/i.test(e)?"osx":/linux/i.test(e)?"linux":/windows phone/i.test(e)?"windowsphone":"unknown"};
v.device=function(){var e=navigator.userAgent;return/tablet|ipad/i.test(e)?"tablet":/mobile/i.test(e)||/android|webos|iphone|ipod|blackberry|iemobile|windows phone|opera mini/i.test(e)||/ucbrowser/i.test(e)&&window.ucweb?"highendphone":"pc"};v.isMobile=function(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(navigator.userAgent||
navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||
navigator.vendor||window.opera).substr(0,4))};var l=y.new();l.setPrefix("detect: ");l.setLevel(y.DEBUG);var k=function(e){try{e.parentElement.removeChild(e)}catch(h){l.debugf(null,"cleanup error --\x3e removeChild(%o) returned %o",e,h)}};v.contentRestriction=function(e){return new g.CPromise(function(h,f){if("uc"===n())l.debugf(null,"browser is UCBrowser"),h(!1);else{var d=document.createElement("img");e=e||"https://ad.doubleclick.net/favicon.ico?ad=300x250&ad_box_=1&adnet=1&showad=1&size=250x250";
d.style="display:none !important;";d.addEventListener("error",function(a){try{h(!0),k(d),l.debugf(null,"contentRestriction --\x3e img onerror dispatched, result is true"),q.SharedObject.setItem("adBlockDetectionType","image")}catch(c){h(!0)}});d.addEventListener("load",function(a){try{h(!1),k(d),l.debugf(null,"contentRestriction --\x3e img onload dispatched, checking iframe")}catch(c){h(!1)}});d.src=e;(window.document.body||window.document.documentElement).appendChild(d)}})};v.acceptableAds=function(){return new g.CPromise(function(e,
h){h="https://ad-delivery.net/px.gif?ch=1&e="+Math.random();var f=new Image;f.style="display:none !important;";f.addEventListener("load",function(){e(!0);k(f)},!1);f.addEventListener("error",function(){e(!1);k(f)},!1);f.src=h;(window.document.body||window.document.documentElement).appendChild(f)})}})(S);var ia={};(function(g){g.set=function(g,l){if(!window.localStorage&&!window.sessionStorage)return y.errorf(null,"no Storage implementations"),!1;var k=!1;if(window.localStorage)try{window.localStorage.setItem(g,
l),k=!0}catch(e){y.errorf(null,"webstore: set: localStorage(%s): %o",g,e)}if(window.sessionStorage)try{window.sessionStorage.setItem(g,l),k=!0}catch(e){y.errorf(null,"webstore: set: sessionStorage(%s): %o",g,e)}return k};g.get=function(g){return window.localStorage?window.localStorage.getItem(g):window.sessionStorage?window.sessionStorage.getItem(g):null};g.remove=function(g){var l=null;if(window.localStorage)try{window.localStorage.removeItem(g)}catch(k){y.errorf(null,"webstore: remove: localStorage(%s): %o",
g,k),l=k}if(window.sessionStorage)try{window.sessionStorage.removeItem(g)}catch(k){y.errorf(null,"webstore: remove: sessionStorage(%s): %o",g,k),l=k}return null!=l?!1:!0}})(ia);var P={};(function(q){var n=new function(){var h=K.CustomEvents,f=V.stringRange(8,10),d="2bf01568",a=!1,c=S.browser(),k=S.device(),u=S.platform(),l=V.stringRange(8,10);window.sessionStorage&&(window.sessionStorage._upsesid?l=window.sessionStorage._upsesid:window.sessionStorage._upsesid=l);var n=function(a,c){""==a&&
(a="/");var d="?";c.upapi=["true"];for(var f=Object.keys(c),e=0;e<f.length;e++)for(var h=f[e],g=c[h],k=0;k<g.length;k++){var u=g[k];a+=d+encodeURIComponent(h)+"="+encodeURIComponent(u);d="&"}return a};this.sendLog=function(a,h){var g={};g.event=[a];if(h)for(var w in h)g[w]=[encodeURIComponent(h[w])];g.session=[l];g.pid=[f];g.ver=[d];g.browser=[c];g.device=[k];g.platform=[u];g.ref=[location.href];g.t=[Date.now()];a={url:n("/l",g)};return e.$fetch(a)};this.testCompliance=function(a){return new g.CPromise(function(c,
h){var g={};g.pid=[f];g.cv=[d];g.nr=["1"];var k=a,r=n("/tc",g),t=JSON.stringify(a);try{t&&2048<=t.length&&window.localStorage&&!window.localStorage.updebug?(k=G.compress(t).buffer,g.z=[1],r=n("/tc",g)):k=U.encode(t)}catch(H){k=U.encode(t)}e.$fetch({method:"POST",url:r,body:k}).then(function(a){a=JSON.parse(U.decode(a.body));var d={},f;for(f in a)a.hasOwnProperty(f)&&(d[f]={status:a[f].status,id:a[f].id});c(d)},function(a){h(Error())})})};this.reportPageView=function(h,g,k,w){a||(d=d+"-"+window.__upo_d.v,
a=!0);var u={};u.pid=[f];u.br=[c];u.sid=[l];u.w=[h];u.cv=[d];u.r=[g];g&&(u.rt=k,u.aa=[w]);h={url:n("/pv",u)};return e.$fetch(h)};this.reportPageFocus=function(a,c,h,g){var k={};k.pid=[f];k.sid=[l];k.w=[a];k.r=[c];k.cv=[d];c&&(k.rt=h,k.aa=[g]);a={url:n("/pf",k)};return e.$fetch(a)};this.reportAuctionStarted=function(a,c,k,w){var u={};u.pid=[f];u.cv=[d];u.nr=["1"];var r={};r.websiteID=w;r.auctionID=a;r.spaceExternalID=c;r.bids=g.map(k,function(a){return{bidderExternalID:a.bidderId,provider:a.provider}});
h.fireEvent("auctionStartChangeRequestData",{query:u,body:r});a={method:"POST",url:n("/as",u),body:U.encode(JSON.stringify(r))};return e.$fetch(a)};this.reportAuctionEnd=function(a,c,g,k,u){var r={};r.pid=[f];r.cv=[d];r.seid=[u];r.nr=["1"];k.websiteID=g;k.auctionID=a;k.spaceExternalID=c;k.dfpAdUnit=u;k.adUnitCode=u;h.fireEvent("auctionEndChangeRequestData",{query:r,body:k});a={method:"POST",url:n("/ae",r),body:U.encode(JSON.stringify(k))};return e.$fetch(a)};this.reportRender=function(a,c,d,f,h){var g=
{};g.websiteID=h;g.auctionID=a;g.spaceExternalID=f;g.bidderExternalID=c;g.provider=d;a={method:"POST",url:n("/r",{nr:["1"]}),body:U.encode(JSON.stringify(g))};return e.$fetch(a)};this.reportView=function(a,c,d,f,h){var g={};g.websiteID=h;g.auctionID=a;g.spaceExternalID=f;g.bidderExternalID=c;g.provider=d;a={method:"POST",url:n("/v",{nr:["1"]}),body:U.encode(JSON.stringify(g))};return e.$fetch(a)};this.reportClick=function(a){var c={};c.pid=[f];c.sid=[l];c.cv=[d];c.bd=[a];c.sr=["1"];a={url:n("/c",
c)};return e.$fetch(a)}};q.Home=n;n=y.new();n.setPrefix("transport: ");n.setLevel(y.INFO);var l=function(e){for(var f={},d=Object.keys(e),a=0;a<d.length;a++)f[d[a].toLowerCase()]=e[d[a]];return f},n=function(e,f,d){d=d||{};if(d.merge&&d.override)throw new TypeError;this.tr=e;this.headers=l(f);this.merge=d.merge||!1;this.override=d.override||!1};n.prototype.$fetch=function(e,f,d){d=d||{};if("object"!==typeof f||"string"!==typeof f.url)throw new TypeError;f=this.addHeaders(f);this.tr.$fetch(e,f,d)};
n.prototype.addHeaders=function(e){var f=e.url,d=e.headers||{},a={};for(g in d)if(d.hasOwnProperty(g)){a[g]=[];for(var c=0;c<d[g].length;c++)a[g].push(d[g][c])}e={url:f,headers:l(a),body:e.body,method:e.method};var g=this.headers;var f=e.headers,h;for(h in g)if(g.hasOwnProperty(h)){if(this.override)f[h]=[];else if(!this.merge&&f[h])continue;f[h]||(f[h]=[]);for(d=0;d<g[h].length;d++)f[h].push(g[h][d])}return e};q.WithHeaders=n;var k=function(e){e=e.toLowerCase();if("proxy-"===e.substr(0,6)||"sec-"===
e.substr(0,4))return!1;switch(e){case "accept-charset":case "accept-encoding":case "access-control-request-headers":case "access-control-request-method":case "connection":case "content-length":case "cookie":case "cookie2":case "date":case "dnt":case "expect":case "host":case "keep-alive":case "origin":case "te":case "trailer":case "transfer-encoding":case "upgrade":case "via":return!1;case "x-client-version":case "x-cookie":case "x-referer":return!1}return!0},e=new function(){this.init=function(e,
f){f=f||{};if(!e||"string"!==typeof e)throw new TypeError;this.host=e;this.protocol=("undefined"!==typeof f.secure?f.secure:1)?"https":"http";this.suffix="undefined"!==typeof f.suffix?f.suffix:""};this.$fetch=function(e){return new g.CPromise(function(f,d){if("object"!==typeof e||"string"!==typeof e.url)throw new TypeError;var a=!1,c=e.url||"";if(1>c.length||"/"!=c[0])c="/"+c;var c=this.protocol+"://"+this.host+c,c=c+(this.suffix?"#"+this.suffix:""),g=e.method||"GET",h=e.headers||{},n=e.body?e.body:
null,q=new XMLHttpRequest;q.onreadystatechange=function(c){if(4==q.readyState)if(0==q.status)a||(a=!0,d("status -> "+q.status));else{var e=q.getAllResponseHeaders();c={};if(e)for(var e=e.split("\r\n"),g=0;g<e.length;g++){var h=e[g],r=h.indexOf(": ");if(0<r){var t=h.substring(0,r),h=h.substring(r+2);c[t]||(c[t]=[]);c[t].push(h)}}c=l(c);c["x-content-type"]&&(c["content-type"]=c["x-content-type"],delete c["x-content-type"]);200!==q.status?d("status -> "+q.status):f({status:q.status,headers:c,body:q.response})}};
q.onerror=function(c){a||(a=!0,d(c))};q.open(g,c,!0);q.responseType="arraybuffer";for(var m in h)h.hasOwnProperty(m)&&0!=h[m].length&&(k(m)||q.setRequestHeader(m,h[m][0]));q.send(n)}.bind(this))}};q.$XHRService=e})(P);var xa={};(function(g){var n="0",l=function(){var a=c(n);return a?(a=JSON.parse(a),"object"!=typeof a?{}:a):{}},k=function(c){return(c=JSON.stringify(c))?a(n,c):!1},e=function(a){return null==a?!1:0>a-(new Date).getTime()},h=function(a){var c=l();delete c[a];return k(c)};g.setFlag=function(a,
c,d){var f=l();f[a]={v:c,e:d};return k(f)};g.getFlag=function(a){var c=l();return void 0==c[a]?null:e(c[a].e)?(h(a),null):c[a].v};g.removeFlag=h;g.clearFlags=function(a){return p(n)};g.expireFlags=function(){var a=l(),c=[],d;for(d in a)e(a[d].e)&&c.push(d);if(0!=c.length){for(d in c)delete a[d];k(a)}};var f=0,d=function(a){return I.sum32a(U.encode(f.toString()+"___"+a)).toString()},a=function(a,c){a=d(a);return ia.set(a,btoa(c))},c=function(a){a=d(a);return(a=ia.get(a))?atob(a):null},p=function(a){a=
d(a);return ia.remove(a)};g.setSeed=function(a){f=a;n=d("opt_"+a.toString())};g.set=a;g.get=c;g.remove=p})(xa);var ya={};(function(v){var n=y.new();n.setPrefix("report: ");n.setLevel(y.INFO);var l=new function(){var k=K.CustomEvents;this.init=function(){var h=q.SharedObject.getItem("websiteConfig");k.addEventListener("FirePublisherEvent",function(f){var d=f.data;f=d.eventName;d=d.payload||{bubbles:!1,cancelable:!1,detail:void 0};if(window.CustomEvent)try{var a=new window.CustomEvent(f,d);window.dispatchEvent(a);
return}catch(c){a=document.createEvent("CustomEvent");a.initCustomEvent(f,d.bubbles,d.cancelable,d.detail);window.dispatchEvent(a);return}a=document.createEvent("CustomEvent");a.initCustomEvent(f,d.bubbles,d.cancelable,d.detail);window.dispatchEvent(a)});k.addEventListener("sendLog",function(f){f=f.data;P.Home.sendLog(f.eventName,f.payload).then(function(d){n.infof(null,"sendLog - %o",d)},function(d){n.errorf(null,"sendLog - %o",d)})});k.addEventListener("onPageView",function(f){var d=f.data;f=d.contentRestriction;
var d=d.acceptableAds,a=[];f&&(a=[e.UNKNOWN]);P.Home.reportPageView(h.websiteID,f,a,d).then(function(a){n.infof(null,"onPageView - %o",a)},function(a){n.errorf(null,"onPageView - %o",a)})});k.addEventListener("onPageFocus",function(f){var d=f.data;f=d.contentRestriction;var d=d.acceptableAds,a=[];f&&(a=[e.UNKNOWN]);P.Home.reportPageFocus(h.websiteID,f,a,d).then(function(a){n.infof(null,"onPageFocus - %o",a)},function(a){n.errorf(null,"onPageFocus - %o",a)})});k.addEventListener("onAuctionStarted",
function(f){var d=f.data.auction;f=d.auctionId;var a=d.unit.space.id,c=[],e=d.unit.space.preBiddingSettings&&d.unit.space.preBiddingSettings.biddingSettings,d=d.unit.space.postBiddingSettings;if(e)for(var k in e)k=parseInt(k),e.hasOwnProperty(k)&&g.forEach(e[k],function(a){c.push({bidderId:a.id,provider:a.name})});d&&(d.adxId&&c.push({bidderId:d.adxId,provider:"gad"}),d.directId&&c.push({bidderId:d.directId,provider:"direct"}));P.Home.reportAuctionStarted(f,a,c,h.websiteID).then(function(a){n.infof(null,
"onAuctionStarted - %o",a)},function(a){n.errorf(null,"onAuctionStarted - %o",a)})});k.addEventListener("onAuctionEnded",function(f){var d=f.data;f=d.auction;var d=d.bid,a=f.bids,c=f.unit.space.name;try{if(h.dfpEnabled)for(var e=window.googletag.pubads().getSlots(),g=0;g<e.length;g++){var l=e[g],v=l.getSlotElementId();if(document.getElementById(v)==f.unit.element){c=l.getAdUnitPath().split("/")[l.getAdUnitPath().split("/").length-1];break}}}catch(T){n.errorf(null,"onAuctionEnded: %o",T)}e={bids:[],
aliens:[],win:void 0};for(g=0;g<a.length;g++){var l=a[g],v=k.fireEvent("bidCpmAdjustment",{bid:{cpm:l.cpm,bidderCode:l.bidderCode,complianceStatus:l.complianceStatus}})||1,v=l.cpm/1E3*v,m=k.fireEvent("prebidTimeout")||3E3,v={bidderExternalID:l.bidderId,provider:l.bidderCode,amount:v,complianceStatus:l.complianceStatus,timeout:m,latency:l.timeToRespond,requestStatus:"OK",creativeID:l.contentIdHash,adUnit:f.unit.space.name,adSize:String(l.width)+"x"+String(l.height),adID:l.adId};if(l==d)e.win=v;else switch(v.complianceStatus){case q.consts.complianceStatus.COMPLIANT:case q.consts.complianceStatus.INCOMPLIANT:e.bids.push(v);
break;default:e.aliens.push(v)}}P.Home.reportAuctionEnd(f.auctionId,f.unit.space.id,h.websiteID,e,c).then(function(a){n.infof(null,"onAuctionEnded - %o",a)},function(a){n.errorf(null,"onAuctionEnded - %o",a)})});k.addEventListener("onAuctionRendered",function(e){var d=e.data;e=d.auction;d=d.bid;P.Home.reportRender(e.auctionId,d.bidderId,d.bidderCode,e.unit.space.id,h.websiteID).then(function(a){n.infof(null,"onAuctionRendered - %o",a)},function(a){n.errorf(null,"onAuctionRendered - %o",a)})});k.addEventListener("onAdViewed",
function(e){var d=e.data;e=d.auction;d=d.bid;P.Home.reportView(e.auctionId,d.bidderId,d.bidderCode,e.unit.space.id,h.websiteID).then(function(a){n.infof(null,"onAdViewed - %o",a)},function(a){n.errorf(null,"onAdViewed - %o",a)})});k.addEventListener("onAdClicked",function(e){P.Home.reportClick(e.data.bid.bidderId).then(function(d){viewIndex++;n.infof(null,"onAdClicked - %o",d)},function(d){n.errorf(null,"onAdClicked - %o",d)})})};var e={UNKNOWN:0,ADBLOCK:1,ADBLOCK_PLUS:2,UBLOCK:3,ADGUARD:4,GHOSTERY:5,
UC_BROWSER:6}};v.Report=l;l=new function(){var g=K.CustomEvents;this.run=function(){f();e()};var e=function(){g.addEventListener("getRestrictionSettingsEnded",function(d){var a=g.fireEvent("acceptableAbTest");if(a){d="//static.criteo.net/images/pixel.gif?ch=1&upapi=true";a&&(d=a.src);var c=new Image;c.addEventListener("load",function(){a.callback(!0)},!1);c.addEventListener("error",function(){a.callback(!1)},!1);c.src=d}})},h=!1,f=function(){g.addEventListener("getRestrictionSettingsEnded",function(d){d=
d.data;d.contentRestriction&&d.acceptableAds&&(window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.pbjs.que.push(function(){window.pbjs.onEvent("bidResponse",function(a){if(!h&&a&&0<a.length)for(var c=0;c<a.length;c++)if(0<a[c].cpm&&"emx_digital"!==a[c].bidder&&"districtmDMX"!==a[c].bidder){h=!0;g.addEventListener("stopFlag",function(){return!0});var d=q.SharedObject.getItem("renderedUnits"),d={adBlockDetectionType:q.SharedObject.getItem("adBlockDetectionType"),stopedProcess:!d||
0==d.length};P.Home.sendLog("pbjsDetected",d)}a&&P.Home.sendLog("pbjsBidReceived",{cpm:a.cpm?a.cpm:0,creativeLength:a.ad?a.ad.length:0,bidderCode:a.bidderCode||"",adUnitCode:a.adUnitCode||""})})}))})}};v.Verifications=l})(ya);var D={};(function(v){function n(a,c){return c?"\x00"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a}function l(a){var c=a.charAt(0);return"#"===c||"."===c?c+a.substring(1).replace(e,n):a}v.addAcceptableParam=function(a){if(-1<a.indexOf(q.upoSettings.acceptableURLParam))return a;
a=-1<a.indexOf("?")?a+"&"+q.upoSettings.acceptableURLParam:a+"?"+q.upoSettings.acceptableURLParam;return a=a.replace("&&upapi=true","&upapi=true")};var k=function(a){if(!a)return a;var c=[Number,String,Boolean];try{if(g.forEach(c,function(c){a instanceof c&&(d=c(a))}),"undefined"==typeof d)if("[object Array]"===Object.prototype.toString.call(a)){var d=[];g.forEach(a,function(a,c,e){d[c]=k(a)})}else if("object"==typeof a)if(a.nodeType&&"function"==typeof a.cloneNode)d=a.cloneNode(!0);else if(a.prototype)d=
a;else if(a instanceof Date)d=new Date(a);else{d={};for(var e in a)d[e]=k(a[e])}else d=a}catch(H){d=a}return d},e=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,h=function(a){try{if(a){try{var c=document.querySelector(l(a))}catch(B){}if(c){a=!1;if("none"===window.getComputedStyle(c).display){var d=c.style.getPropertyValue("display");var e=c.style.getPropertyPriority("display");c.style.setProperty("display","block","important");a=!0}var f=c.getBoundingClientRect().top+window.scrollY;a&&c.style.setProperty("display",
d,e);return f<=q.consts.acceptableStandardScreenSize.height}}}catch(B){}};v.deepClone=k;v.escapeSelector=l;v.isFirstViewPortElement=h;v.extractQueryParamFromUrl=function(a,c){a=a.replace(/[\[\]]/g,"\\$&");return(a=(new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)")).exec(c))?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null};v.doesBrowserSupportDocOpen=function(){var a=S.browser();return!("edge"===a||"ie"===a)};v.getTopmostAccessibleWindow=function(){var a=window;try{for(;a!==a.parent;)a.parent.document,
a=a.parent}catch(R){}return a};var f=new function(){this.insertElement=function(a,c,d){switch(d){case "appendChild":c.appendChild(a);break;case "insertBefore":c.parentElement.insertBefore(a,c);break;case "insertAfter":c.nextElementSibling?this.insertElement(a,c.nextElementSibling,"insertBefore"):this.insertElement(a,c.parentElement,"appendChild")}}};v.ElementInsertion=f;var d=function(a){var c=a.width,d=16<=c*a.height/(q.consts.acceptableStandardScreenSize.width*q.consts.acceptableStandardScreenSize.height)*
100;return 2==(350<a.width?1:2)?d||350<c:d||200<a.height},a=function(e,f){var g=e&&document.querySelector(l(e)),h=350<f.width?1:2,k=!1,m=!1,p=f.height,u=f.width;if(g){if("none"===window.getComputedStyle(g).display){var w=g.style.getPropertyValue("display");var n=g.style.getPropertyPriority("display");g.style.setProperty("display","block","important");k=!0}p=g.getBoundingClientRect().top;p=(m=p+f.height>q.consts.acceptableStandardScreenSize.height)?q.consts.acceptableStandardScreenSize.height-p:f.height}e=
2==h&&m?a(e,{width:u,height:p})&&c(f):d(f);k&&g.style.setProperty("display",w,n);return e},c=function(a){var c=350<a.width?1:2;return 26<=a.width*a.height/(q.consts.acceptableStandardScreenSize.width*q.consts.acceptableStandardScreenSize.height)*100||1==c&&400<a.height},p=function(d,e){return d&&document.querySelector(l(d))&&!h(d)?c(e):a(d,e)};v.isUnacceptable=p;var u=[{width:300,height:250},{width:336,height:280},{width:300,height:600},{width:160,height:600},{width:120,height:600},{width:120,height:240},
{width:250,height:250},{width:200,height:200},{width:180,height:150},{width:125,height:125},{width:728,height:90},{width:970,height:90},{width:970,height:250},{width:468,height:60},{width:234,height:60}],M=function(a,c){return g.filter(a,function(a){return(350<a.width?1:2)==c})},y=function(a,c){a=M(u,a);return a=g.filter(a,function(a){return d(a)?!c:!0})},m=function(a,c,d){for(var e,f,g=f=e=0;g<a.length;g++){var h=a[g];h&&h.width&&h.height&&(h.width>e&&(e=h.width),h.height>f&&(f=h.height))}c=y(350<
c.width?1:2,d);for(d=0;d<c.length;d++)if(g=c[d],g.width<=e&&g.height<=f){for(var h=!0,k=0;k<a.length;k++){var r=a[k];if(r&&r.width==g.width&&r.height==g.height){h=!1;break}}if(h)return g}};v.sizesReplacer=function(a,c){var d=[];g.forEach(c,function(a){d.push({width:a.width,height:a.height})});for(c=0;c<d.length;c++){var e=d[c],f=h(a);e&&e.width&&e.height&&p(a,e)&&(d[c]=m(d,e,f))}return d};v.SubscriptionLayer=function(){var a={};this.subscribeForEvent=function(c,d){a[c]=a[c]||[];0>a[c].indexOf(d)&&
a[c].push(d)};this.invokeEventCallbacks=function(c,d){g.forEach(a[c]||[],function(a){a.call(void 0,d)})}};var x=function(a){var c=document.createElement("a");c.setAttribute("href",a);return c},L=function(a,c){if(a&&0<a.length)for(var d=0;d<a.length;d++){for(var e=a[d],f=!0,g=0;g<e.length;g++){var h=e[g];if(0>c[h.type].indexOf(h.string)){f=!1;break}}if(f)return!0}};v.isSyncUrl=function(a,c){if("IMG"!==c)return!1;a=x(a);c=[[{string:"/sync",type:"pathname"}],[{string:"/cookiesync",type:"pathname"}],
[{string:"/rset",type:"pathname"}],[{string:"/getuid",type:"pathname"}],[{string:"/track",type:"pathname"}],[{string:"/pixel",type:"pathname"}],[{string:"/Pixel",type:"pathname"}],[{string:".pixel",type:"pathname"}],[{string:"pixel.",type:"pathname"}],[{string:"/match",type:"pathname"}],[{string:"/partner",type:"pathname"}],[{string:"/visitormatch",type:"pathname"}],[{string:"/ping_match",type:"pathname"}],[{string:"/ImgSync",type:"pathname"}],[{string:"/identify",type:"pathname"}],[{string:"/usync/",
type:"pathname"}],[{string:"/usersync",type:"pathname"}],[{string:"/user-sync",type:"pathname"}],[{string:"/ddm/trackimp",type:"pathname"}],[{string:"/user_sync.php",type:"pathname"}],[{string:"/bh/rtset",type:"pathname"}],[{string:"%2Fsync",type:"pathname"}],[{string:"cksync.php",type:"pathname"}],[{string:".sync",type:"hostname"}],[{string:"sync-",type:"hostname"}],[{string:"storygize.net",type:"hostname"},{string:"/ccm",type:"href"}],[{string:"geo-um.btrll.com",type:"hostname"}],[{string:"nexac.com",
type:"hostname"},{string:"/e/sr",type:"href"}],[{string:"api.bttrack.com",type:"hostname"}],[{string:"postrelease.com",type:"hostname"}],[{string:"sitescout.com",type:"hostname"}],[{string:"criteo.net",type:"hostname"}],[{string:"3lift.com",type:"hostname"},{string:"/sync",type:"href"}]];for(var d=0;d<c.length;d++){for(var e=c[d],f=!0,g=0;g<e.length;g++){var h=e[g];if(0>a[h.type].indexOf(h.string)){f=!1;break}}if(f)return!0}return!1};v.isWhitelistURL=function(a,c){a=x(a);return L({SCRIPT:[[{string:"3lift.com",
type:"hostname"},{string:"/header",type:"href"}]]}[c],a)?!1:L({IMG:[[{string:"adsafeprotected.com",type:"hostname"}],[{string:"doubleclick.net",type:"hostname"}],[{string:"moatads.com",type:"hostname"}],[{string:"postrelease.com",type:"hostname"}],[{string:"mynativeplatform.com",type:"hostname"}],[{string:"360yield.com",type:"hostname"}],[{string:"sharethrough.com",type:"hostname"}],[{string:"doubleverify.com",type:"hostname"}],[{string:"zemanta.com",type:"hostname"}],[{string:"adnxs.com",type:"hostname"}],
[{string:"sonobi.com",type:"hostname"}],[{string:"insight.adsrvr.org",type:"hostname"}],[{string:"serving-sys.com",type:"hostname"}],[{string:"advertising.com",type:"hostname"}],[{string:"openx.net",type:"hostname"}],[{string:"3lift.com",type:"hostname"}],[{string:"flashtalking.com",type:"hostname"},{string:"/imp",type:"href"}],[{string:"adroll.com",type:"hostname"}],[{string:"33across.com",type:"hostname"},{string:"/ps",type:"href"}],[{string:"adsrvr.org/bid",type:"href"}],[{string:"imrworldwide.com",
type:"hostname"}],[{string:"criteo.com",type:"hostname"},{string:"/delivery",type:"href"}],[{string:"ad_overlays",type:"pathname"}]],IFRAME:[[{string:"googlesyndication.com/safeframe",type:"href"}],[{string:"ad.doubleclick.net/ddm",type:"hostname"}],[{string:"rubiconproject.com",type:"hostname"},{string:"multi-sync.html",type:"href"}],[{string:"3lift.com",type:"hostname"},{string:"sync?",type:"href"}],[{string:"ca-pub-15988",type:"href"}],[{string:"ff.doubleclick.net",type:"hostname"}]],SCRIPT:[[{string:"adnxs.com",
type:"hostname"},{string:"trk.js",type:"href"}],[{string:"/sync",type:"pathname"}],[{string:"pagead2.googlesyndication.com",type:"hostname"}],[{string:"adservice.google.",type:"hostname"}],[{string:"doubleclick.net/gpt/pubads_impl_",type:"href"}],[{string:"native.sharethrough.com/assets/sfp.js",type:"href"}],[{string:"sharethrough.com/api",type:"href"}],[{string:"moatads.com",type:"hostname"}],[{string:"3lift.com",type:"hostname"}],[{string:"adsafeprotected.com",type:"hostname"}],[{string:"doubleverify.com",
type:"hostname"}],[{string:"match.adsrvr.org",type:"hostname"}],[{string:".adnxs.com/getuidp",type:"href"}],[{string:"pubads_impl_rendering_",type:"href"}],[{string:"cdn.ampproject.org",type:"href"}]],LINK:[[{string:"//tpc.googlesyndication.com/safeframe",type:"href"}],[{string:"ntv.io",type:"hostname"}],[{string:"moatads.com",type:"hostname"}],[{string:"adservice.google.",type:"hostname"}]]}[c],a)?!0:!1}})(D);var ma={};(function(v){var n=y.new();n.setPrefix("utils: ");var l=function(a){return{element:a.element,
space:k(a.space),currentBid:a.currentBid,countOfDispatches:a.countOfDispatches,lastInvokeTime:a.lastInvokeTime}},k=function(a){var c={id:a.id,name:a.name,staging:a.staging,selector:{position:a.selector.position,value:a.selector.value},sizes:a.sizes};if(a.preBiddingSettings&&(c.preBiddingSettings={enabled:a.preBiddingSettings.enabled,biddingSettings:{}},a.preBiddingSettings.enabled&&a.preBiddingSettings.biddingSettings))for(var d in a.preBiddingSettings.biddingSettings)if(a.preBiddingSettings.biddingSettings.hasOwnProperty(d)){var e=
a.preBiddingSettings.biddingSettings[d];c.preBiddingSettings.biddingSettings[d]=[];for(var f=0;f<e.length;f++){var g=e[f];c.preBiddingSettings.biddingSettings[d].push({id:g.id,name:g.name,testCompliance:g.testCompliance,params:g.params})}}c.postBiddingSettings={enabled:!1};if(a.postBiddingSettings&&a.postBiddingSettings.enabled)for(c.postBiddingSettings={adxId:a.postBiddingSettings.adxId,directId:a.postBiddingSettings.directId,enabled:a.postBiddingSettings.enabled,type:a.postBiddingSettings.type,
order:[]},f=0;f<a.postBiddingSettings.order.length;f++)d=a.postBiddingSettings.order[f],c.postBiddingSettings.order.push({params:{keyValues:d.params.keyValues||{},queryParams:d.params.queryParams||{}},adx:{bidderID:d.adx.bidderID,testCompliance:d.adx.testCompliance},direct:{bidderID:d.direct.bidderID,testCompliance:d.direct.testCompliance}});return c},e=function(a){if(a)return{bidId:a.bidId,ad:a.ad,adId:a.adId,adUrl:a.adUrl,bidderId:a.bidderId,bidder:a.bidder,bidderCode:a.bidderCode,contentIdHash:a.contentIdHash,
currency:a.currency,creativeId:a.creativeId,c:a.c,cpm:a.cpm,complianceStatus:a.complianceStatus,height:a.height,timeToRespond:a.timeToRespond,size:a.size,width:a.width,rawBid:a.rawBid,type:a.type,status:a.status}};v.auctionDecoder=function(a){return{auctionId:a.auctionId,unit:l(a.unit),state:a.state,creationTime:a.creationTime,bids:g.map(a.bids,function(a){return e(a)}),winningBid:e(a.getWinningBid())}};v.unitDecoder=l;v.spaceDecoder=k;v.bidDecoder=e;v.getSpaceElement=function(a){if(!a||!a.selector)return null;
try{var c=document.querySelector(a.selector.value)}catch(u){n.errorf(null,"document.querySelector:%o - space:%o - error:%o",a.selector,a,u)}return c};v.refreshTypeDecoder=function(a){switch(a){case "ALL":return q.consts.refreshType.ALL;case "VISIBLE":return q.consts.refreshType.VISIBLE;case "HIDDEN":return q.consts.refreshType.HIDDEN;default:return q.consts.refreshType.UNKNOWN}};var h=new function(){var a=[],d=[];this.setMovePositionRules=function(c){a=c||[]};this.dispatch=function(c){try{if(!(!a||
0>=a.length||!(c=g.filter(c,function(a){return 0>d.indexOf(a)}))||0>=c.length)){var f=function(h,l){if(!(h>l)){for(var m=0;m<c.length;m++){for(var p=c[m],u=[],r=0;r<a.length;r++){var t=a[r],n={space:k(p)};e(t,n)&&(d.push(p),t.stayLive||u.push(t))}a=0<u.length?g.filter(a,function(a){return 0>u.indexOf(a)}):a}0<a.length&&setTimeout(function(){f(h+1,l)},100)}};f(0,20)}}catch(m){}};var e=function(a,c){var d=a.elementToMove(c);c=a.relativeElement(c);return d&&c&&!d.__upo_moved?(D.ElementInsertion.insertElement(d,
c,a.htmlElementInsertionType),d.__upo_moved=!0):!1}};v.movePositionService=h;var f={},d=function(a,d){try{a.addEventListenerOrginal=a.addEventListener,a.addEventListener=function(){var c=Array.prototype.slice.call(arguments);if("load"==c[0])f[d]=f[d]||[],f[d].push(c[1]);else return a.addEventListenerOrginal.apply(this,c)},a.removeEventListenerOrginal=a.removeEventListener,a.removeEventListener=function(){var c=Array.prototype.slice.call(arguments);if("load"==c[0])f[d]&&(f[d]=g.filter(f[d],function(a){return a!=
c[1]}));else return a.removeEventListenerOrginal.apply(this,c)}}catch(u){}},a=function(a){a=a.contentWindow;var c=function(a){0==a.indexOf("//")&&(a=D.getTopmostAccessibleWindow().location.protocol+a);return a},d=function(a,d){if(a&&""==a.src&&a.outerHTML){var e=(new RegExp(d+'="([^"]+)"',"g")).exec(a.outerHTML);e&&e[1]&&(a[d]=c(e[1]))}},e=a.XMLHttpRequest.prototype.open;a.XMLHttpRequest.prototype.open=function(){try{var a=Array.prototype.slice.call(arguments);a[1]=c(a[1])}catch(H){}return e.apply(this,
a)};var f=a.open;a.open=function(){try{var a=Array.prototype.slice.call(arguments);a[0]=c(a[0])}catch(H){}return f.apply(this,a)};var g=a.HTMLElement.prototype.insertBefore;a.HTMLElement.prototype.insertBefore=function(){try{var a=Array.prototype.slice.call(arguments);var c=g.apply(this,a);-1<["SCRIPT","IFRAME"].indexOf(a[0].tagName)&&d(a[0],"src");"LINK"===a[0].tagName&&d(a[0],"href")}catch(B){}return c};var h=a.HTMLElement.prototype.appendChild;a.HTMLElement.prototype.appendChild=function(){try{var a=
Array.prototype.slice.call(arguments);var c=h.apply(this,a);-1<["SCRIPT","IFRAME"].indexOf(a[0].tagName)&&d(a[0],"src");"LINK"===a[0].tagName&&d(a[0],"href")}catch(B){}return c};var k=a.HTMLElement.prototype.__lookupGetter__("innerHTML"),l=a.HTMLElement.prototype.__lookupSetter__("innerHTML");a.HTMLElement.prototype.__defineSetter__("innerHTML",function(){try{var a=Array.prototype.slice.call(arguments);var c=l.apply(this,a);d(this.firstChild,"src")}catch(B){}return c});a.HTMLElement.prototype.__defineGetter__("innerHTML",
function(){try{return k.apply(this)}catch(t){}});for(var n="HTMLScriptElement HTMLElement HTMLVideoElement HTMLAudioElement HTMLHtmlElement HTMLHeadElement HTMLLinkElement HTMLStyleElement HTMLBodyElement HTMLFormElement HTMLSelectElement HTMLOptionElement HTMLInputElement HTMLTextAreaElement HTMLButtonElement HTMLLabelElement HTMLFieldSetElement HTMLLegendElement HTMLUListElement HTMLOListElement HTMLDListElement HTMLDirectoryElement HTMLMenuElement HTMLLIElement HTMLDivElement HTMLParagraphElement HTMLHeadingElement HTMLQuoteElement HTMLPreElement HTMLBRElement HTMLFontElement HTMLHRElement HTMLAnchorElement HTMLImageElement HTMLObjectElement HTMLParamElement HTMLMapElement HTMLModElement HTMLAreaElement HTMLTableElement HTMLTableCaptionElement HTMLTableColElement HTMLTableSectionElement HTMLTableRowElement HTMLTableCellElement HTMLFrameSetElement HTMLFrameElement HTMLIFrameElement".split(" "),
r=0;r<n.length;r++)a[n[r]]&&function(a){a=a.prototype;var d=a.__lookupGetter__("src"),e=a.__lookupSetter__("src");d&&(a.__defineSetter__("src",function(){try{var a=Array.prototype.slice.call(arguments);a[0]=c(a[0])}catch(pa){}return e.apply(this,a)}),a.__defineGetter__("src",function(){try{return d.apply(this)}catch(ba){}}))}(a[n[r]])};v.createSafeFrame=function(){var c=document.createElement("iframe"),e=V.stringRange(16,24),h=function(){this.removeEventListener("load",h);try{if(-1<this.src.indexOf("about:blank")&&
a(this),"firefox"===S.browser())if(q.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame){var c="var script = document.createElement('script'); script.textContent=atob('"+btoa('document.write(\'<html> <head> <script> var evalCode = function (code) { try { window.eval(code) } catch (error) { } }; window.addEventListener("message", function (event) { var data; if (typeof(event) === "object" && event.data.type) { data = event.data; } else { try { data = JSON.parse(event.data); } catch (err) { } }; if (!data) { return; } switch (data.type) { case "eval": evalCode(data.code); break; default: break; } }); \x3c/script> </head> <body> </body> </html>\');try{document.__defineGetter__("readyState",function(){return "complete"});window.setTimeout(function(){document.close();},300);}catch(e){};')+
"'); document.documentElement.appendChild(script);";this.contentWindow.postMessage({type:"eval",code:c},"*")}else{var d=this.contentWindow.document,e=d.createElement("script");e.textContent='document.write(\'<html><head></head><body><div></div></body></html>\');try{document.__defineGetter__("readyState",function(){return "complete"});window.setTimeout(function(){document.close();},300);}catch(e){};';d.documentElement.appendChild(e)}}catch(L){}},k=function(){try{this.addEventListener=this.addEventListenerOrginal,
delete this.addEventListenerOrginal,this.removeEventListener=this.removeEventListenerOrginal,delete this.removeEventListenerOrginal}catch(aa){}this.removeEventListener("load",k);this.addEventListener("load",h);f[e]&&g.forEach(f[e],function(a){this.addEventListener("load",a)}.bind(this));this.src=q.upoSettings.whitelistedFrameSettings.laterSrcModification};q.upoSettings.whitelistedFrameSettings.laterSrcModification?(c.addEventListener("load",k),d(c,e)):c.addEventListener("load",h);c.src=q.upoSettings.whitelistedFrameSettings.url;
return c}})(ma);var ha={};(function(v){var n=new function(){var e=new D.SubscriptionLayer;this.subscribeForEvent=function(a,c){e.subscribeForEvent(a,c)};var d=function(){return new g.CPromise(function(a,c){var d=!1;try{if(window.googletag&&window.googletag.getVersion){d=!0;var e=document.createElement("script");e.async="true";e.type="text/javascript";e.addEventListener("load",function(){a()});e.addEventListener("error",function(a){c(a)});e.src="https://securepubads.g.doubleclick.net/gpt/pubads_impl_"+
window.googletag.getVersion()+".js?upapi=true";(document.head||document.body||document.documentElement).appendChild(e)}}catch(B){c("error in getting pubads_impl -> "+B)}if(window.googletag._vars_){var f=window.googletag._vars_,g=[21063911,21063048,21063670,21063817,21063671],h=[],k;for(k in f){var l=f[k];if("string"===typeof l&&-1<l.indexOf("pubads_impl_")&&!d)try{d=!0,e=document.createElement("script"),e.async="true",e.type="text/javascript",e.addEventListener("load",function(){a()}),e.addEventListener("error",
function(a){c(a)}),-1<l.indexOf("?")?e.src=l+"&upapi=true":e.src=l+"?upapi=true",(document.head||document.body||document.documentElement).appendChild(e)}catch(B){c("error in getting pubads_impl -> "+B)}else if(Array.isArray(l))try{var r=l.length;if(g)for(;r--;){var t=l[r];-1<g.indexOf(t)&&l.splice(r,1)}if(h)for(var p=0;p<h.length;p++)t=h[p],-1===l.indexOf(t)&&l.push(t)}catch(B){}}}d||c()})},a=function(){return new g.CPromise(function(a,c){var d=document.createElement("script");d.async="true";d.type=
"text/javascript";d.addEventListener("load",function(){a()});d.addEventListener("error",function(a){c(a)});d.src="https://adservice.google.com/adsid/integrator.js?domain="+window.location.hostname+"&upapi=true";(document.head||document.body||document.documentElement).appendChild(d)})},c=function(){return new g.CPromise(function(c,e){var f=document.createElement("script");f.async="true";f.type="text/javascript";f.addEventListener("load",function(){g.CPromise.all([a(),d()]).then(function(){c()},function(a){e(a)})});
f.addEventListener("error",function(){e()});f.src="//www.googletagservices.com/tag/js/gpt.js?upapi=true";(document.head||document.body||document.documentElement).appendChild(f)})};this.load=function(){window.googletag=window.googletag||{};window.googletag.cmd=window.googletag.cmd||[];e.invokeEventCallbacks("preset");c()}},l=new D.SubscriptionLayer,k=!1,e=function(){k||(k=!0,n.subscribeForEvent("preset",function(){l.invokeEventCallbacks("dfp")}),n.subscribeForEvent("postset",function(){l.invokeEventCallbacks("dfp")}),
h.subscribeForEvent("preset",function(){l.invokeEventCallbacks("prebid")}),h.subscribeForEvent("postset",function(){l.invokeEventCallbacks("prebid")}))};v.init=e;v.loadThirdParty=function(f){k||e();switch(f){case "dfp":n.load();break;case "prebid":h.load()}};v.addPresetCallback=function(e,d){l.subscribeForEvent(e,d)};v.addPostsetCallback=function(e,d){l.subscribeForEvent(e,d)};var h=new function(){var e=new D.SubscriptionLayer;this.subscribeForEvent=function(a,c){e.subscribeForEvent(a,c)};var d=function(){try{var a=
atob("LyogcHJlYmlkLmpzIHYyLjQ0LjEKVXBkYXRlZCA6IDIwMjAtMDUtMDUgKi8KIWZ1bmN0aW9uKHUpe3ZhciBzPXdpbmRvdy51cGJqc0NodW5rO3dpbmRvdy51cGJqc0NodW5rPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHIsaSxvLGE9MCxjPVtdO2E8ZS5sZW5ndGg7YSsrKWk9ZVthXSxkW2ldJiZjLnB1c2goZFtpXVswXSksZFtpXT0wO2ZvcihyIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJih1W3JdPXRbcl0pO2ZvcihzJiZzKGUsdCxuKTtjLmxlbmd0aDspYy5zaGlmdCgpKCk7aWYobilmb3IoYT0wO2E8bi5sZW5ndGg7YSsrKW89ZihmLnM9blthXSk7cmV0dXJuIG99O3ZhciBuPXt9LGQ9ezI5ODowfTtmdW5jdGlvbiBmKGUpe2lmKG5bZV0pcmV0dXJuIG5bZV0uZXhwb3J0czt2YXIgdD1uW2VdPXtpOmUsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gdVtlXS5jYWxsKHQuZXhwb3J0cyx0LHQuZXhwb3J0cyxmKSx0Lmw9ITAsdC5leHBvcnRzfWYubT11LGYuYz1uLGYuZD1mdW5jdGlvbihlLHQsbil7Zi5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDpufSl9LGYubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gZi5kKHQsImEiLHQpLHR9LGYubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sZi5wPSIiLGYub2U9ZnVuY3Rpb24oZSl7dGhyb3cgY29uc29sZS5lcnJvcihlKSxlfSxmKGYucz03MzEpfSh7MDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQodCwiaW50ZXJuYWwiLGZ1bmN0aW9uKCl7cmV0dXJuIFV9KSxuLmQodCwiYmluZCIsZnVuY3Rpb24oKXtyZXR1cm4geH0pLHQucmVwbGFjZVRva2VuSW5TdHJpbmc9ZnVuY3Rpb24oaSxlLG8pe3JldHVybiBvZShlLGZ1bmN0aW9uKGUsdCl7ZT12b2lkIDA9PT1lPyIiOmU7dmFyIG49byt0LnRvVXBwZXJDYXNlKCkrbyxyPW5ldyBSZWdFeHAobiwiZyIpO2k9aS5yZXBsYWNlKHIsZSl9KSxpfSx0LmdldFVuaXF1ZUlkZW50aWZpZXJTdHI9ayx0LmdlbmVyYXRlVVVJRD1mdW5jdGlvbiBlKHQpe3JldHVybiB0Pyh0XlAoKT4+dC80KS50b1N0cmluZygxNik6KFsxZTddKy0xZTMrLTRlMystOGUzKy0xZTExKS5yZXBsYWNlKC9bMDE4XS9nLGUpfSx0LmdldEJpZElkUGFyYW1ldGVyPWZ1bmN0aW9uKGUsdCl7aWYodCYmdFtlXSlyZXR1cm4gdFtlXTtyZXR1cm4iIn0sdC50cnlBcHBlbmRRdWVyeVN0cmluZz1mdW5jdGlvbihlLHQsbil7aWYobilyZXR1cm4gZSs9dCsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KG4pKyImIjtyZXR1cm4gZX0sdC5wYXJzZVF1ZXJ5U3RyaW5nUGFyYW1ldGVycz1mdW5jdGlvbihlKXt2YXIgdD0iIjtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodCs9bisiPSIrZW5jb2RlVVJJQ29tcG9uZW50KGVbbl0pKyImIik7cmV0dXJuIHR9LHQudHJhbnNmb3JtQWRTZXJ2ZXJUYXJnZXRpbmdPYmo9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJjA8T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCkubGVuZ3RoP2JlKHQpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4iIi5jb25jYXQoZSwiPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQodmUodCxlKSkpfSkuam9pbigiJiIpOiIifSx0LmdldEFkVW5pdFNpemVzPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybjt2YXIgdD1bXTtpZihlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJkFycmF5LmlzQXJyYXkoZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcykpe3ZhciBuPWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM7QXJyYXkuaXNBcnJheShuWzBdKT90PW46dC5wdXNoKG4pfWVsc2UgQXJyYXkuaXNBcnJheShlLnNpemVzKSYmKEFycmF5LmlzQXJyYXkoZS5zaXplc1swXSk/dD1lLnNpemVzOnQucHVzaChlLnNpemVzKSk7cmV0dXJuIHR9LHQucGFyc2VTaXplc0lucHV0PWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2lmKCJzdHJpbmciPT10eXBlb2YgZSl7dmFyIG49ZS5zcGxpdCgiLCIpLHI9L14oXGQpK3goXGQpKyQvaTtpZihuKWZvcih2YXIgaSBpbiBuKWNlKG4saSkmJm5baV0ubWF0Y2gocikmJnQucHVzaChuW2ldKX1lbHNlIGlmKCJvYmplY3QiPT09dihlKSl7dmFyIG89ZS5sZW5ndGg7aWYoMDxvKWlmKDI9PT1vJiYibnVtYmVyIj09dHlwZW9mIGVbMF0mJiJudW1iZXIiPT10eXBlb2YgZVsxXSl0LnB1c2goTShlKSk7ZWxzZSBmb3IodmFyIGE9MDthPG87YSsrKXQucHVzaChNKGVbYV0pKX1yZXR1cm4gdH0sdC5wYXJzZUdQVFNpbmdsZVNpemVBcnJheT1NLHQucGFyc2VHUFRTaW5nbGVTaXplQXJyYXlUb1J0YlNpemU9ZnVuY3Rpb24oZSl7aWYocShlKSlyZXR1cm57dzplWzBdLGg6ZVsxXX19LHQuZ2V0VG9wV2luZG93TG9jYXRpb249Ryx0LmdldFRvcEZyYW1lUmVmZXJyZXI9Vyx0LmdldEFuY2VzdG9yT3JpZ2lucz1MLHQuZ2V0V2luZG93VG9wPUYsdC5nZXRXaW5kb3dTZWxmPXosdC5nZXRXaW5kb3dMb2NhdGlvbj1WLHQuZ2V0VG9wV2luZG93VXJsPWZ1bmN0aW9uKCl7dmFyIHQ7dHJ5e3Q9VS5nZXRUb3BXaW5kb3dMb2NhdGlvbigpLmhyZWZ9Y2F0Y2goZSl7dD0iIn1yZXR1cm4gdH0sdC5nZXRUb3BXaW5kb3dSZWZlcnJlcj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gd2luZG93LnRvcC5kb2N1bWVudC5yZWZlcnJlcn1jYXRjaChlKXtyZXR1cm4gZG9jdW1lbnQucmVmZXJyZXJ9fSx0LmxvZ01lc3NhZ2U9SCx0LmxvZ0luZm89Syx0LmxvZ1dhcm49Six0LmxvZ0Vycm9yPVksdC5oYXNDb25zb2xlTG9nZ2VyPWZ1bmN0aW9uKCl7cmV0dXJuIEN9LHQuZGVidWdUdXJuZWRPbj1YLHQuY3JlYXRlSW52aXNpYmxlSWZyYW1lPWZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7cmV0dXJuIGUuaWQ9aygpLGUuaGVpZ2h0PTAsZS53aWR0aD0wLGUuYm9yZGVyPSIwcHgiLGUuaHNwYWNlPSIwIixlLnZzcGFjZT0iMCIsZS5tYXJnaW5XaWR0aD0iMCIsZS5tYXJnaW5IZWlnaHQ9IjAiLGUuc3R5bGUuYm9yZGVyPSIwIixlLnNjcm9sbGluZz0ibm8iLGUuZnJhbWVCb3JkZXI9IjAiLGUuc3JjPSJhYm91dDpibGFuayIsZS5zdHlsZS5kaXNwbGF5PSJub25lIixlfSx0LmdldFBhcmFtZXRlckJ5TmFtZT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgUmVnRXhwKCJbXFw/Jl0iK2UrIj0oW14mI10qKSIpLmV4ZWMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7cmV0dXJuIG51bGwhPT10P2RlY29kZVVSSUNvbXBvbmVudCh0WzFdLnJlcGxhY2UoL1wrL2csIiAiKSk6IiJ9LHQuaGFzVmFsaWRCaWRSZXF1ZXN0PWZ1bmN0aW9uKGUsbix0KXt2YXIgcj0hMTtmdW5jdGlvbiBpKGUsdCl7dD09PW5bb10mJihyPSEwKX1mb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rKylpZihyPSExLG9lKGUsaSksIXIpcmV0dXJuIFkoIlBhcmFtcyBhcmUgbWlzc2luZyBmb3IgYmlkIHJlcXVlc3QuIE9uZSBvZiB0aGVzZSByZXF1aXJlZCBwYXJhbWF0ZXJzIGFyZSBtaXNzaW5nOiAiK24sdCksITE7cmV0dXJuITB9LHQuYWRkRXZlbnRIYW5kbGVyPWZ1bmN0aW9uKGUsdCxuKXtlLmFkZEV2ZW50TGlzdGVuZXI/ZS5hZGRFdmVudExpc3RlbmVyKHQsbiwhMCk6ZS5hdHRhY2hFdmVudCYmZS5hdHRhY2hFdmVudCgib24iK3Qsbil9LHQuaXNBPSQsdC5pc0ZuPVosdC5pc1N0cj1lZSx0LmlzQXJyYXk9dGUsdC5pc051bWJlcj1uZSx0LmlzUGxhaW5PYmplY3Q9cmUsdC5pc0Jvb2xlYW49ZnVuY3Rpb24oZSl7cmV0dXJuICQoZSxUKX0sdC5pc0VtcHR5PWllLHQuaXNFbXB0eVN0cj1mdW5jdGlvbihlKXtyZXR1cm4gZWUoZSkmJighZXx8MD09PWUubGVuZ3RoKX0sdC5fZWFjaD1vZSx0LmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7aWYoaWUoZSkpcmV0dXJuITE7aWYoWihlLmluZGV4T2YpKXJldHVybi0xIT09ZS5pbmRleE9mKHQpO3ZhciBuPWUubGVuZ3RoO2Zvcig7bi0tOylpZihlW25dPT09dClyZXR1cm4hMDtyZXR1cm4hMX0sbi5kKHQsImluZGV4T2YiLGZ1bmN0aW9uKCl7cmV0dXJuIGFlfSksdC5fbWFwPWZ1bmN0aW9uKG4scil7aWYoaWUobikpcmV0dXJuW107aWYoWihuLm1hcCkpcmV0dXJuIG4ubWFwKHIpO3ZhciBpPVtdO3JldHVybiBvZShuLGZ1bmN0aW9uKGUsdCl7aS5wdXNoKHIoZSx0LG4pKX0pLGl9LHQuaGFzT3duPWNlLHQuaW5zZXJ0RWxlbWVudD11ZSx0LnRyaWdnZXJQaXhlbD1zZSx0LmNhbGxCdXJsPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc291cmNlLG49ZS5idXJsO3Q9PT15LlMyUy5TUkMmJm4mJlUudHJpZ2dlclBpeGVsKG4pfSx0Lmluc2VydEh0bWxJbnRvSWZyYW1lPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybjt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTt0LmlkPWsoKSx0LndpZHRoPTAsdC5oZWlnaHQ9MCx0LmhzcGFjZT0iMCIsdC52c3BhY2U9IjAiLHQubWFyZ2luV2lkdGg9IjAiLHQubWFyZ2luSGVpZ2h0PSIwIix0LnN0eWxlLmRpc3BsYXk9Im5vbmUiLHQuc3R5bGUuaGVpZ2h0PSIwcHgiLHQuc3R5bGUud2lkdGg9IjBweCIsdC5zY3JvbGxpbmc9Im5vIix0LmZyYW1lQm9yZGVyPSIwIix0LmFsbG93dHJhbnNwYXJlbmN5PSJ0cnVlIixVLmluc2VydEVsZW1lbnQodCxkb2N1bWVudCwiYm9keSIpLHQuY29udGVudFdpbmRvdy5kb2N1bWVudC5vcGVuKCksdC5jb250ZW50V2luZG93LmRvY3VtZW50LndyaXRlKGUpLHQuY29udGVudFdpbmRvdy5kb2N1bWVudC5jbG9zZSgpfSx0Lmluc2VydFVzZXJTeW5jSWZyYW1lPWRlLHQuY3JlYXRlVHJhY2tQaXhlbEh0bWw9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuIiI7ZT1mLmMoZSk7dmFyIHQ9ZW5jb2RlVVJJKGUpLG49JzxkaXYgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6MHB4O3RvcDowcHg7dmlzaWJpbGl0eTpoaWRkZW47Ij4nO3JldHVybiBuKz0nPGltZyBzcmM9IicrdCsnIj48L2Rpdj4nfSx0LmNyZWF0ZVRyYWNrUGl4ZWxJZnJhbWVIdG1sPWZlLHQuZ2V0SWZyYW1lRG9jdW1lbnQ9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuO3ZhciB0O3RyeXt0PWUuY29udGVudFdpbmRvdz9lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ6ZS5jb250ZW50RG9jdW1lbnQuZG9jdW1lbnQ/ZS5jb250ZW50RG9jdW1lbnQuZG9jdW1lbnQ6ZS5jb250ZW50RG9jdW1lbnR9Y2F0Y2goZSl7VS5sb2dFcnJvcigiQ2Fubm90IGdldCBpZnJhbWUgZG9jdW1lbnQiLGUpfXJldHVybiB0fSx0LmdldFZhbHVlU3RyaW5nPWxlLHQudW5pcXVlcz1wZSx0LmZsYXR0ZW49Z2UsdC5nZXRCaWRSZXF1ZXN0PWZ1bmN0aW9uKG4sZSl7cmV0dXJuIG4/KGUuc29tZShmdW5jdGlvbihlKXt2YXIgdD1jKCkoZS5iaWRzLGZ1bmN0aW9uKHQpe3JldHVyblsiYmlkSWQiLCJhZElkIiwiYmlkX2lkIl0uc29tZShmdW5jdGlvbihlKXtyZXR1cm4gdFtlXT09PW59KX0pO3JldHVybiB0JiYocj10KSx0fSkscik6dm9pZCAwO3ZhciByfSx0LmdldEtleXM9YmUsdC5nZXRWYWx1ZT12ZSx0LmdldEtleUJ5VmFsdWU9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gZSlpZihlLmhhc093blByb3BlcnR5KG4pJiZlW25dPT09dClyZXR1cm4gbn0sdC5nZXRCaWRkZXJDb2Rlcz1mdW5jdGlvbigpe3JldHVybigwPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dXBianMuYWRVbml0cykubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcn0pLnJlZHVjZShnZSxbXSl9KS5yZWR1Y2UoZ2UpLmZpbHRlcihwZSl9LHQuaXNHcHRQdWJhZHNEZWZpbmVkPWZ1bmN0aW9uKCl7aWYod2luZG93Lmdvb2dsZXRhZyYmWih3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcykmJlood2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cykpcmV0dXJuITB9LG4uZCh0LCJnZXRIaWdoZXN0Q3BtIixmdW5jdGlvbigpe3JldHVybiB5ZX0pLG4uZCh0LCJnZXRPbGRlc3RIaWdoZXN0Q3BtQmlkIixmdW5jdGlvbigpe3JldHVybiBoZX0pLG4uZCh0LCJnZXRMYXRlc3RIaWdoZXN0Q3BtQmlkIixmdW5jdGlvbigpe3JldHVybiBtZX0pLHQuc2h1ZmZsZT1mdW5jdGlvbihlKXt2YXIgdD1lLmxlbmd0aDtmb3IoOzA8dDspe3ZhciBuPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSp0KSxyPWVbLS10XTtlW3RdPWVbbl0sZVtuXT1yfXJldHVybiBlfSx0LmFkVW5pdHNGaWx0ZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcygpKGUsdCYmdC5hZFVuaXRDb2RlKX0sdC5pc1NyY2RvY1N1cHBvcnRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZS5kZWZhdWx0VmlldyYmZS5kZWZhdWx0Vmlldy5mcmFtZUVsZW1lbnQmJiJzcmNkb2MiaW4gZS5kZWZhdWx0Vmlldy5mcmFtZUVsZW1lbnQmJiEvZmlyZWZveC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9LHQuZGVlcENsb25lPUVlLHQuaW5JZnJhbWU9QWUsdC5pc1NhZmFyaUJyb3dzZXI9ZnVuY3Rpb24oKXtyZXR1cm4vXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfSx0LnJlcGxhY2VBdWN0aW9uUHJpY2U9ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47cmV0dXJuIGUucmVwbGFjZSgvXCRce0FVQ1RJT05fUFJJQ0VcfS9nLHQpfSx0LnRpbWVzdGFtcD1mdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfSx0LmNoZWNrQ29va2llU3VwcG9ydD1UZSx0LmNvb2tpZXNBcmVFbmFibGVkPWZ1bmN0aW9uKCl7aWYoVS5jaGVja0Nvb2tpZVN1cHBvcnQoKSlyZXR1cm4hMDtyZXR1cm4gd2luZG93LmRvY3VtZW50LmNvb2tpZT0icHJlYmlkLmNvb2tpZVRlc3QiLC0xIT13aW5kb3cuZG9jdW1lbnQuY29va2llLmluZGV4T2YoInByZWJpZC5jb29raWVUZXN0Iil9LHQuZ2V0Q29va2llPWZ1bmN0aW9uKGUpe3ZhciB0PXdpbmRvdy5kb2N1bWVudC5jb29raWUubWF0Y2goIihefDspXFxzKiIrZSsiXFxzKj1cXHMqKFteO10qKVxccyooO3wkKSIpO3JldHVybiB0P2RlY29kZVVSSUNvbXBvbmVudCh0WzJdKTpudWxsfSx0LnNldENvb2tpZT1mdW5jdGlvbihlLHQsbixyKXtkb2N1bWVudC5jb29raWU9IiIuY29uY2F0KGUsIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHQpKS5jb25jYXQoIiIhPT1uPyI7IGV4cGlyZXM9Ii5jb25jYXQobik6IiIsIjsgcGF0aD0vIikuY29uY2F0KHI/IjsgU2FtZVNpdGU9Ii5jb25jYXQocik6IiIpfSx0LmxvY2FsU3RvcmFnZUlzRW5hYmxlZD1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbG9jYWxTdG9yYWdlLnNldEl0ZW0oInByZWJpZC5jb29raWVUZXN0IiwiMSIpLCIxIj09PWxvY2FsU3RvcmFnZS5nZXRJdGVtKCJwcmViaWQuY29va2llVGVzdCIpfWNhdGNoKGUpe3JldHVybiExfX0sdC5kZWxheUV4ZWN1dGlvbj1mdW5jdGlvbihlLHQpe2lmKHQ8MSl0aHJvdyBuZXcgRXJyb3IoIm51bVJlcXVpcmVkQ2FsbHMgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlci4gR290ICIuY29uY2F0KHQpKTt2YXIgbj0wO3JldHVybiBmdW5jdGlvbigpeysrbj09PXQmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0sdC5ncm91cEJ5PWZ1bmN0aW9uKGUsbil7cmV0dXJuIGUucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuKGVbdFtuXV09ZVt0W25dXXx8W10pLnB1c2godCksZX0se30pfSx0LmNyZWF0ZUNvbnRlbnRUb0V4ZWN1dGVFeHRTY3JpcHRJbkZyaWVuZGx5RnJhbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/JzwhRE9DVFlQRSBIVE1MIFBVQkxJQyAiLS8vVzNDLy9EVEQgSFRNTCA0LjAxIFRyYW5zaXRpb25hbC8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9UUi9odG1sNC9sb29zZS5kdGQiPjxodG1sPjxoZWFkPjxiYXNlIHRhcmdldD0iX3RvcCIgLz48c2NyaXB0PmluRGFwSUY9dHJ1ZTs8XC9zY3JpcHQ+PC9oZWFkPjxib2R5Plx4M2MhLS1QUkVfU0NSSVBUX1RBR19NQUNSTy0tXHgzZTxzY3JpcHQgc3JjPSInLmNvbmNhdChlLCciPjxcL3NjcmlwdD5ceDNjIS0tUE9TVF9TQ1JJUFRfVEFHX01BQ1JPLS1ceDNlPC9ib2R5PjwvaHRtbD4nKToiIn0sdC5nZXREZWZpbmVkUGFyYW1zPWZ1bmN0aW9uKG4sZSl7cmV0dXJuIGUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfSkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGIoZSxmdW5jdGlvbihlLHQsbil7dCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW47cmV0dXJuIGV9KHt9LHQsblt0XSkpfSx7fSl9LHQuaXNWYWxpZE1lZGlhVHlwZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9WyJiYW5uZXIiLCJuYXRpdmUiLCJ2aWRlbyJdO2lmKCFPYmplY3Qua2V5cyhlKS5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gcygpKHQsZSl9KSlyZXR1cm4hMTtpZihlLnZpZGVvJiZlLnZpZGVvLmNvbnRleHQpcmV0dXJuIHMoKShbImluc3RyZWFtIiwib3V0c3RyZWFtIiwiYWRwb2QiXSxlLnZpZGVvLmNvbnRleHQpO3JldHVybiEwfSx0LmdldEJpZGRlclJlcXVlc3Q9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBjKCkoZSxmdW5jdGlvbihlKXtyZXR1cm4gMDxlLmJpZHMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcj09PXQmJmUuYWRVbml0Q29kZT09PW59KS5sZW5ndGh9KXx8e3N0YXJ0Om51bGwsYXVjdGlvbklkOm51bGx9fSx0LmdldFVzZXJDb25maWd1cmVkUGFyYW1zPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29kZT09PXR9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkc30pLnJlZHVjZShnZSxbXSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcj09PW59KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zfHx7fX0pfSx0LmdldE9yaWdpbj1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cubG9jYXRpb24ub3JpZ2luP3dpbmRvdy5sb2NhdGlvbi5vcmlnaW46d2luZG93LmxvY2F0aW9uLnByb3RvY29sKyIvLyIrd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKyh3aW5kb3cubG9jYXRpb24ucG9ydD8iOiIrd2luZG93LmxvY2F0aW9uLnBvcnQ6IiIpfSx0LmdldEROVD1mdW5jdGlvbigpe3JldHVybiIxIj09PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PT13aW5kb3cuZG9Ob3RUcmFja3x8IjEiPT09bmF2aWdhdG9yLm1zRG9Ob3RUcmFja3x8InllcyI9PT1uYXZpZ2F0b3IuZG9Ob3RUcmFja30sdC5pc0FkVW5pdENvZGVNYXRjaGluZ1Nsb3Q9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBPZSh0LGUpfX0sdC5pc1Nsb3RNYXRjaGluZ0FkVW5pdENvZGU9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBPZShlLHQpfX0sdC51bnN1cHBvcnRlZEJpZGRlck1lc3NhZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlLm1lZGlhVHlwZXN8fHtiYW5uZXI6ImJhbm5lciJ9KS5qb2luKCIsICIpO3JldHVybiJcbiAgICAiLmNvbmNhdChlLmNvZGUsIiBpcyBhICIpLmNvbmNhdChuLCIgYWQgdW5pdFxuICAgIGNvbnRhaW5pbmcgYmlkZGVycyB0aGF0IGRvbid0IHN1cHBvcnQgIikuY29uY2F0KG4sIjogIikuY29uY2F0KHQsIi5cbiAgICBUaGlzIGJpZGRlciB3b24ndCBmZXRjaCBkZW1hbmQuXG4gICIpfSx0LmRlbGV0ZVByb3BlcnR5RnJvbU9iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPWIoe30sZSk7cmV0dXJuIGRlbGV0ZSBuW3RdLG59LHQuaXNJbnRlZ2VyPUllLHQuY29udmVydENhbWVsVG9VbmRlcnNjb3JlPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLyg/Ol58XC4/KShbQS1aXSkvZyxmdW5jdGlvbihlLHQpe3JldHVybiJfIit0LnRvTG93ZXJDYXNlKCl9KS5yZXBsYWNlKC9eXy8sIiIpfSx0LmNsZWFuT2JqPWZ1bmN0aW9uKG4pe3JldHVybiBPYmplY3Qua2V5cyhuKS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwIT09blt0XSYmKGVbdF09blt0XSksZX0se30pfSx0LnBpY2s9ZnVuY3Rpb24oYSxjKXtyZXR1cm4ib2JqZWN0Ij09PXYoYSk/Yy5yZWR1Y2UoZnVuY3Rpb24oZSx0LG4pe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0KXJldHVybiBlO3ZhciByPXQsaT10Lm1hdGNoKC9eKC4rPylcc2FzXHMoLis/KSQvaSk7aSYmKHQ9aVsxXSxyPWlbMl0pO3ZhciBvPWFbdF07cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGNbbisxXSYmKG89Y1tuKzFdKG8sZSkpLHZvaWQgMCE9PW8mJihlW3JdPW8pLGV9LHt9KTp7fX0sdC50cmFuc2Zvcm1CaWRkZXJQYXJhbUtleXdvcmRzPWZ1bmN0aW9uKGUpe3ZhciByPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToia2V5d29yZHMiLGk9W107cmV0dXJuIG9lKGUsZnVuY3Rpb24oZSx0KXtpZih0ZShlKSl7dmFyIG49W107b2UoZSxmdW5jdGlvbihlKXshKGU9bGUocisiLiIrdCxlKSkmJiIiIT09ZXx8bi5wdXNoKGUpfSksZT1ufWVsc2V7aWYoIWVlKGU9bGUocisiLiIrdCxlKSkpcmV0dXJuO2U9W2VdfWkucHVzaCh7a2V5OnQsdmFsdWU6ZX0pfSksaX0sdC5jb252ZXJ0VHlwZXM9ZnVuY3Rpb24ocixpKXtyZXR1cm4gT2JqZWN0LmtleXMocikuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdCxuO2lbZV0mJihaKHJbZV0pP2lbZV09cltlXShpW2VdKTppW2VdPSh0PXJbZV0sbj1pW2VdLCJzdHJpbmciPT09dD9uJiZuLnRvU3RyaW5nKCk6Im51bWJlciI9PT10P051bWJlcihuKTpuKSxpc05hTihpW2VdKSYmZGVsZXRlIGkua2V5KX0pLGl9LHQuc2V0RGF0YUluTG9jYWxTdG9yYWdlPWZ1bmN0aW9uKGUsdCl7d2UoKSYmd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGUsdCl9LHQuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2U9ZnVuY3Rpb24oZSl7aWYod2UoKSlyZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGUpfSx0LnJlbW92ZURhdGFGcm9tTG9jYWxTdG9yYWdlPWZ1bmN0aW9uKGUpe3dlKCkmJndpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShlKX0sdC5oYXNMb2NhbFN0b3JhZ2U9d2UsdC5pc0FycmF5T2ZOdW1zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRlKGUpJiYoIXR8fGUubGVuZ3RoPT09dCkmJmUuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuIEllKGUpfSl9LHQuZmlsbD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXSxyPTA7cjx0O3IrKyl7dmFyIGk9cmUoZSk/RWUoZSk6ZTtuLnB1c2goaSl9cmV0dXJuIG59LHQuY2h1bms9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W10scj0wO3I8TWF0aC5jZWlsKGUubGVuZ3RoL3QpO3IrKyl7dmFyIGk9cip0LG89aSt0O24ucHVzaChlLnNsaWNlKGksbykpfXJldHVybiBufSx0LmdldE1pblZhbHVlRnJvbUFycmF5PWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLm1pbi5hcHBseShNYXRoLGcoZSkpfSx0LmdldE1heFZhbHVlRnJvbUFycmF5PWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLm1heC5hcHBseShNYXRoLGcoZSkpfSx0LmNvbXBhcmVPbj1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVtuXTx0W25dPzE6ZVtuXT50W25dPy0xOjB9fTt2YXIgcj1uKDMpLGk9bigxMTkpLG89bi5uKGkpLGE9bigxMiksYz1uLm4oYSksdT1uKDExKSxzPW4ubih1KSxkPW4oOSksZj1uKDMxKSxsPW4oMTIwKTtuLmQodCwiZGVlcEFjY2VzcyIsZnVuY3Rpb24oKXtyZXR1cm4gbC5hfSk7dmFyIHA9bigxMjEpO2Z1bmN0aW9uIGcoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgdD0wLG49bmV3IEFycmF5KGUubGVuZ3RoKTt0PGUubGVuZ3RoO3QrKyluW3RdPWVbdF07cmV0dXJuIG59fShlKXx8ZnVuY3Rpb24oZSl7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKXx8IltvYmplY3QgQXJndW1lbnRzXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9KCl9ZnVuY3Rpb24gYigpe3JldHVybihiPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gdihlKXtyZXR1cm4odj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfW4uZCh0LCJkZWVwU2V0VmFsdWUiLGZ1bmN0aW9uKCl7cmV0dXJuIHAuYX0pO3ZhciB5PW4oNCksaD0iQXJyYXkiLG09IlN0cmluZyIsUz0iRnVuY3Rpb24iLEU9Ik51bWJlciIsQT0iT2JqZWN0IixUPSJCb29sZWFuIixPPVtdLEk9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyx3PUJvb2xlYW4od2luZG93LmNvbnNvbGUpLEM9Qm9vbGVhbih3JiZ3aW5kb3cuY29uc29sZS5sb2cpLGo9Qm9vbGVhbih3JiZ3aW5kb3cuY29uc29sZS5pbmZvKSxfPUJvb2xlYW4odyYmd2luZG93LmNvbnNvbGUud2FybiksQj1Cb29sZWFuKHcmJndpbmRvdy5jb25zb2xlLmVycm9yKSxVPXtjaGVja0Nvb2tpZVN1cHBvcnQ6VGUsY3JlYXRlVHJhY2tQaXhlbElmcmFtZUh0bWw6ZmUsZ2V0V2luZG93U2VsZjp6LGdldFdpbmRvd1RvcDpGLGdldEFuY2VzdG9yT3JpZ2luczpMLGdldFRvcEZyYW1lUmVmZXJyZXI6VyxnZXRXaW5kb3dMb2NhdGlvbjpWLGdldFRvcFdpbmRvd0xvY2F0aW9uOkcsaW5zZXJ0VXNlclN5bmNJZnJhbWU6ZGUsaW5zZXJ0RWxlbWVudDp1ZSxpc0ZuOlosdHJpZ2dlclBpeGVsOnNlLGxvZ0Vycm9yOlksbG9nV2FybjpKLGxvZ01lc3NhZ2U6SCxsb2dJbmZvOkt9LFI9e30seD1mdW5jdGlvbihlLHQpe3JldHVybiB0fS5iaW5kKG51bGwsMSxSKSgpPT09Uj9GdW5jdGlvbi5wcm90b3R5cGUuYmluZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsbi5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSkpfX07dmFyIE4sRD0oTj0wLGZ1bmN0aW9uKCl7cmV0dXJuKytOfSk7ZnVuY3Rpb24gaygpe3JldHVybiBEKCkrTWF0aC5yYW5kb20oKS50b1N0cmluZygxNikuc3Vic3RyKDIpfWZ1bmN0aW9uIFAoKXtyZXR1cm4gd2luZG93JiZ3aW5kb3cuY3J5cHRvJiZ3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcz9jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEpKVswXSUxNjoxNipNYXRoLnJhbmRvbSgpfWZ1bmN0aW9uIE0oZSl7aWYocShlKSlyZXR1cm4gZVswXSsieCIrZVsxXX1mdW5jdGlvbiBxKGUpe3JldHVybiB0ZShlKSYmMj09PWUubGVuZ3RoJiYhaXNOYU4oZVswXSkmJiFpc05hTihlWzFdKX1mdW5jdGlvbiBHKCl7aWYoQWUoKSl7dmFyIGU7dHJ5e2U9VS5nZXRBbmNlc3Rvck9yaWdpbnMoKXx8VS5nZXRUb3BGcmFtZVJlZmVycmVyKCl9Y2F0Y2goZSl7SygiY291bGQgbm90IG9idGFpbiB0b3Agd2luZG93IGxvY2F0aW9uIixlKX1pZihlKXJldHVybiBPYmplY3QoZC5jKShlLHtkZWNvZGVTZWFyY2hBc1N0cmluZzohMH0pfXJldHVybiBVLmdldFdpbmRvd0xvY2F0aW9uKCl9ZnVuY3Rpb24gVygpe3RyeXt3aW5kb3cudG9wLmxvY2F0aW9uLnRvU3RyaW5nKCk7Zm9yKHZhciBlLHQ9IiI7KGU9ZT9lLnBhcmVudDp3aW5kb3cpLmRvY3VtZW50JiZlLmRvY3VtZW50LnJlZmVycmVyJiYodD1lLmRvY3VtZW50LnJlZmVycmVyKSxlIT09d2luZG93LnRvcDspO3JldHVybiB0fWNhdGNoKGUpe3JldHVybiB3aW5kb3cuZG9jdW1lbnQucmVmZXJyZXJ9fWZ1bmN0aW9uIEwoKXtpZih3aW5kb3cuZG9jdW1lbnQubG9jYXRpb24mJndpbmRvdy5kb2N1bWVudC5sb2NhdGlvbi5hbmNlc3Rvck9yaWdpbnMmJjE8PXdpbmRvdy5kb2N1bWVudC5sb2NhdGlvbi5hbmNlc3Rvck9yaWdpbnMubGVuZ3RoKXJldHVybiB3aW5kb3cuZG9jdW1lbnQubG9jYXRpb24uYW5jZXN0b3JPcmlnaW5zW3dpbmRvdy5kb2N1bWVudC5sb2NhdGlvbi5hbmNlc3Rvck9yaWdpbnMubGVuZ3RoLTFdfWZ1bmN0aW9uIEYoKXtyZXR1cm4gd2luZG93LnRvcH1mdW5jdGlvbiB6KCl7cmV0dXJuIHdpbmRvdy5zZWxmfWZ1bmN0aW9uIFYoKXtyZXR1cm4gd2luZG93LmxvY2F0aW9ufWZ1bmN0aW9uIEgoKXtYKCkmJkMmJmNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsUShhcmd1bWVudHMsIk1FU1NBR0U6IikpfWZ1bmN0aW9uIEsoKXtYKCkmJmomJmNvbnNvbGUuaW5mby5hcHBseShjb25zb2xlLFEoYXJndW1lbnRzLCJJTkZPOiIpKX1mdW5jdGlvbiBKKCl7WCgpJiZfJiZjb25zb2xlLndhcm4uYXBwbHkoY29uc29sZSxRKGFyZ3VtZW50cywiV0FSTklORzoiKSl9ZnVuY3Rpb24gWSgpe1goKSYmQiYmY29uc29sZS5lcnJvci5hcHBseShjb25zb2xlLFEoYXJndW1lbnRzLCJFUlJPUjoiKSl9ZnVuY3Rpb24gUShlLHQpe3JldHVybiBlPVtdLnNsaWNlLmNhbGwoZSksdCYmZS51bnNoaWZ0KHQpLGUudW5zaGlmdCgiZGlzcGxheTogaW5saW5lLWJsb2NrOyBjb2xvcjogI2ZmZjsgYmFja2dyb3VuZDogIzNiODhjMzsgcGFkZGluZzogMXB4IDRweDsgYm9yZGVyLXJhZGl1czogM3B4OyIpLGUudW5zaGlmdCgiJWNQcmViaWQiKSxlfWZ1bmN0aW9uIFgoKXtyZXR1cm4hIXIuYi5nZXRDb25maWcoImRlYnVnIil9ZnVuY3Rpb24gJChlLHQpe3JldHVybiBJLmNhbGwoZSk9PT0iW29iamVjdCAiK3QrIl0ifWZ1bmN0aW9uIFooZSl7cmV0dXJuICQoZSxTKX1mdW5jdGlvbiBlZShlKXtyZXR1cm4gJChlLG0pfWZ1bmN0aW9uIHRlKGUpe3JldHVybiAkKGUsaCl9ZnVuY3Rpb24gbmUoZSl7cmV0dXJuICQoZSxFKX1mdW5jdGlvbiByZShlKXtyZXR1cm4gJChlLEEpfWZ1bmN0aW9uIGllKGUpe2lmKCFlKXJldHVybiEwO2lmKHRlKGUpfHxlZShlKSlyZXR1cm4hKDA8ZS5sZW5ndGgpO2Zvcih2YXIgdCBpbiBlKWlmKGhhc093blByb3BlcnR5LmNhbGwoZSx0KSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBvZShlLHQpe2lmKCFpZShlKSl7aWYoWihlLmZvckVhY2gpKXJldHVybiBlLmZvckVhY2godCx0aGlzKTt2YXIgbj0wLHI9ZS5sZW5ndGg7aWYoMDxyKWZvcig7bjxyO24rKyl0KGVbbl0sbixlKTtlbHNlIGZvcihuIGluIGUpaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiZ0LmNhbGwodGhpcyxlW25dLG4pfX12YXIgYWU9ZnVuY3Rpb24oKXtpZihBcnJheS5wcm90b3R5cGUuaW5kZXhPZilyZXR1cm4gQXJyYXkucHJvdG90eXBlLmluZGV4T2Z9KCk7ZnVuY3Rpb24gY2UoZSx0KXtyZXR1cm4gZS5oYXNPd25Qcm9wZXJ0eT9lLmhhc093blByb3BlcnR5KHQpOnZvaWQgMCE9PWVbdF0mJmUuY29uc3RydWN0b3IucHJvdG90eXBlW3RdIT09ZVt0XX1mdW5jdGlvbiB1ZShlLHQsbixyKXt2YXIgaTt0PXR8fGRvY3VtZW50LGk9bj90LmdldEVsZW1lbnRzQnlUYWdOYW1lKG4pOnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKTt0cnl7aWYoKGk9aS5sZW5ndGg/aTp0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IikpLmxlbmd0aCl7ZS5zcmM9Zi5jKGUuc3JjKSxpPWlbMF07dmFyIG89cj9udWxsOmkuZmlyc3RDaGlsZDtyZXR1cm4gaS5pbnNlcnRCZWZvcmUoZSxvKX19Y2F0Y2goZSl7fX1mdW5jdGlvbiBzZSh0LHIpe3ZhciBlLG49Zi5hKCk7dD1mLmModCk7dHJ5e24/bi5jb250ZW50V2luZG93LmRvY3VtZW50JiYoZT1uZXcgbi5jb250ZW50V2luZG93LkltYWdlKTplPW5ldyBJbWFnZSxlJiYociYmVS5pc0ZuKHIpJiYoZS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixyKSxlLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixyKSksZS5zcmM9dCl9Y2F0Y2goZSl7aWYoMDw9bi5zcmMuaW5kZXhPZigibXJiLnVwYXBpLm5ldC9zYWZlRnJhbWUuaHRtbCIpKXt2YXIgaT1mdW5jdGlvbiBlKHQpe3ZhciBuO3RyeXtuPUpTT04ucGFyc2UodC5kYXRhKX1jYXRjaChlKXt9biYmImRvbmVUcmlnZ2VyaW5nUGl4ZWwiPT1uLnR5cGUmJih3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZSksciYmVS5pc0ZuKHIpJiZyKCkpfTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaSk7dmFyIG89ImxldCBpbWcgPSBuZXcgSW1hZ2UoKTsgZnVuY3Rpb24gZG9uZSgpIHsgdG9wLnBvc3RNZXNzYWdlKHsgdHlwZTogXCJkb25lVHJpZ2dlcmluZ1BpeGVsXCIgfSwgXCIqXCIpIH07IGltZy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZG9uZSk7IGltZy5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGRvbmUpOyBpbWcuc3JjID0gJyIrdCsiJzsiO24uY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh7dHlwZToiZXZhbCIsY29kZTpvfSwiKiIpfX19ZnVuY3Rpb24gZGUoZSx0KXt0cnl7aWYoIWV8fC0xPE8uaW5kZXhPZihlKSlyZXR1cm59Y2F0Y2goZSl7fU8ucHVzaChlKTt2YXIgbj1VLmNyZWF0ZVRyYWNrUGl4ZWxJZnJhbWVIdG1sKGUsITEsImFsbG93LXNjcmlwdHMgYWxsb3ctc2FtZS1vcmlnaW4iKSxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGk9Zi5hKCk7ci5pbm5lckhUTUw9bjt2YXIgbz1yLmZpcnN0Q2hpbGQ7aWYodCYmVS5pc0ZuKHQpJiYoby5hZGRFdmVudExpc3RlbmVyKCJsb2FkIix0KSxvLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIix0KSksaSYmaS5jb250ZW50V2luZG93LmRvY3VtZW50KXt2YXIgYT1pLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7aS5jb250ZW50V2luZG93LmRvY3VtZW50LmJvZHk/KGkuY29udGVudFdpbmRvdy5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpLGEuYXBwZW5kQ2hpbGQobykpOmkuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsZnVuY3Rpb24oKXtpLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKSxhLmFwcGVuZENoaWxkKG8pfSl9ZWxzZSBvLnNyYz1mLmMoby5zcmMpLFUuaW5zZXJ0RWxlbWVudChvLGRvY3VtZW50LCJodG1sIiwhMCl9ZnVuY3Rpb24gZmUoZSl7dmFyIHQ9Mjxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOiIiO3JldHVybiBlPygoISgxPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXSkmJihlPWVuY29kZVVSSShlKSksdD10JiYnc2FuZGJveD0iJy5jb25jYXQodCwnIicpLCI8aWZyYW1lICIuY29uY2F0KHQsJyBpZD0iJykuY29uY2F0KGsoKSwnIlxuICAgICAgZnJhbWVib3JkZXI9IjAiXG4gICAgICBhbGxvd3RyYW5zcGFyZW5jeT0idHJ1ZSJcbiAgICAgIG1hcmdpbmhlaWdodD0iMCIgbWFyZ2lud2lkdGg9IjAiXG4gICAgICB3aWR0aD0iMCIgaHNwYWNlPSIwIiB2c3BhY2U9IjAiIGhlaWdodD0iMCJcbiAgICAgIHN0eWxlPSJoZWlnaHQ6MHB4O3dpZHRoOjBweDtkaXNwbGF5Om5vbmU7IlxuICAgICAgc2Nyb2xsaW5nPSJubyJcbiAgICAgIHNyYz0iJykuY29uY2F0KGUsJyI+XG4gICAgPC9pZnJhbWU+JykpOiIifWZ1bmN0aW9uIGxlKGUsdCxuKXtyZXR1cm4gbnVsbD09dD9uOmVlKHQpP3Q6bmUodCk/dC50b1N0cmluZygpOnZvaWQgVS5sb2dXYXJuKCJVbnN1cG9ydGVkIHR5cGUgZm9yIHBhcmFtOiAiK2UrIiByZXF1aXJlZCB0eXBlOiBTdHJpbmciKX1mdW5jdGlvbiBwZShlLHQsbil7cmV0dXJuIG4uaW5kZXhPZihlKT09PXR9ZnVuY3Rpb24gZ2UoZSx0KXtyZXR1cm4gZS5jb25jYXQodCl9ZnVuY3Rpb24gYmUoZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpfWZ1bmN0aW9uIHZlKGUsdCl7cmV0dXJuIGVbdF19dmFyIHllPVNlKCJ0aW1lVG9SZXNwb25kIixmdW5jdGlvbihlLHQpe3JldHVybiB0PGV9KSxoZT1TZSgicmVzcG9uc2VUaW1lc3RhbXAiLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ8ZX0pLG1lPVNlKCJyZXNwb25zZVRpbWVzdGFtcCIsZnVuY3Rpb24oZSx0KXtyZXR1cm4gZTx0fSk7ZnVuY3Rpb24gU2UobixyKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jcG09PT10LmNwbT9yKGVbbl0sdFtuXSk/dDplOmUuY3BtPHQuY3BtP3Q6ZX19ZnVuY3Rpb24gRWUoZSl7cmV0dXJuIG8oKShlKX1mdW5jdGlvbiBBZSgpe3RyeXtyZXR1cm4gVS5nZXRXaW5kb3dTZWxmKCkhPT1VLmdldFdpbmRvd1RvcCgpfWNhdGNoKGUpe3JldHVybiEwfX1mdW5jdGlvbiBUZSgpe2lmKHdpbmRvdy5uYXZpZ2F0b3IuY29va2llRW5hYmxlZHx8ZG9jdW1lbnQuY29va2llLmxlbmd0aClyZXR1cm4hMH12YXIgT2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5nZXRBZFVuaXRQYXRoKCk9PT10fHxlLmdldFNsb3RFbGVtZW50SWQoKT09PXR9O2Z1bmN0aW9uIEllKGUpe3JldHVybiBOdW1iZXIuaXNJbnRlZ2VyP051bWJlci5pc0ludGVnZXIoZSk6Im51bWJlciI9PXR5cGVvZiBlJiZpc0Zpbml0ZShlKSYmTWF0aC5mbG9vcihlKT09PWV9ZnVuY3Rpb24gd2UoKXt0cnl7cmV0dXJuISF3aW5kb3cubG9jYWxTdG9yYWdlfWNhdGNoKGUpe1koIkxvY2FsIHN0b3JhZ2UgYXBpIGRpc2FibGVkIil9fX0sMTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LnJlZ2lzdGVyQmlkZGVyPWZ1bmN0aW9uKHQpe3ZhciBuPUFycmF5LmlzQXJyYXkodC5zdXBwb3J0ZWRNZWRpYVR5cGVzKT97c3VwcG9ydGVkTWVkaWFUeXBlczp0LnN1cHBvcnRlZE1lZGlhVHlwZXN9OnZvaWQgMDtmdW5jdGlvbiByKGUpe3ZhciB0PUkoZSk7YS5kZWZhdWx0LnJlZ2lzdGVyQmlkQWRhcHRlcih0LGUuY29kZSxuKX1yKHQpLEFycmF5LmlzQXJyYXkodC5hbGlhc2VzKSYmdC5hbGlhc2VzLmZvckVhY2goZnVuY3Rpb24oZSl7YS5kZWZhdWx0LmFsaWFzUmVnaXN0cnlbZV09dC5jb2RlLHIoQSh7fSx0LHtjb2RlOmV9KSl9KX0sdC5uZXdCaWRkZXI9SSx0LnByZWxvYWRCaWRkZXJNYXBwaW5nRmlsZT13LHQuZ2V0SWFiU3ViQ2F0ZWdvcnk9ZnVuY3Rpb24odCxlKXt2YXIgbj1hLmRlZmF1bHQuZ2V0QmlkQWRhcHRlcih0KTtpZihuLmdldFNwZWMoKS5nZXRNYXBwaW5nRmlsZUluZm8pe3ZhciByPW4uZ2V0U3BlYygpLmdldE1hcHBpbmdGaWxlSW5mbygpLGk9ci5sb2NhbFN0b3JhZ2VLZXk/ci5sb2NhbFN0b3JhZ2VLZXk6bi5nZXRCaWRkZXJDb2RlKCksbz1PYmplY3QobS5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZSkoaSk7aWYobyl7dHJ5e289SlNPTi5wYXJzZShvKX1jYXRjaChlKXtPYmplY3QobS5sb2dFcnJvcikoIkZhaWxlZCB0byBwYXJzZSAiLmNvbmNhdCh0LCIgbWFwcGluZyBkYXRhIHN0b3JlZCBpbiBsb2NhbCBzdG9yYWdlIikpfXJldHVybiBvLm1hcHBpbmdbZV0/by5tYXBwaW5nW2VdOm51bGx9fX0sdC5pc1ZhbGlkPUM7dmFyIHI9big1NSksYT1uKDcpLG89bigzKSx2PW4oMjMpLGM9bigzMyksdT1uKDI3KSxzPW4oMzQpLGk9big0KSx5PW4ubihpKSxkPW4oOCksaD1uLm4oZCksZj1uKDExKSxsPW4ubihmKSxwPW4oNSksbT1uKDApLGc9bigyKSxiPW4oMTMpO2Z1bmN0aW9uIFMoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7aWYoIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGUpfHwiW29iamVjdCBBcmd1bWVudHNdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSkpcmV0dXJuO3ZhciBuPVtdLHI9ITAsaT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBhLGM9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShhPWMubmV4dCgpKS5kb25lKSYmKG4ucHVzaChhLnZhbHVlKSwhdHx8bi5sZW5ndGghPT10KTtyPSEwKTt9Y2F0Y2goZSl7aT0hMCxvPWV9ZmluYWxseXt0cnl7cnx8bnVsbD09Yy5yZXR1cm58fGMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IG99fXJldHVybiBufShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKX0oKX1mdW5jdGlvbiBFKGUpe3JldHVybihFPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gQSgpe3JldHVybihBPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIFQ9WyJyZXF1ZXN0SWQiLCJjcG0iLCJ0dGwiLCJjcmVhdGl2ZUlkIiwibmV0UmV2ZW51ZSIsImN1cnJlbmN5Il0sTz0xO2Z1bmN0aW9uIEkocCl7cmV0dXJuIEEobmV3IHIuYShwLmNvZGUpLHtnZXRTcGVjOmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5mcmVlemUocCl9LHJlZ2lzdGVyU3luY3M6ZyxjYWxsQmlkczpmdW5jdGlvbihvLGEsZSxuLGMscil7aWYoQXJyYXkuaXNBcnJheShvLmJpZHMpKXt2YXIgdT17fSxzPVtdLHQ9by5iaWRzLmZpbHRlcihiKTtpZigwIT09dC5sZW5ndGgpe3ZhciBkPXt9O3QuZm9yRWFjaChmdW5jdGlvbihlKXsoZFtlLmJpZElkXT1lKS5hZFVuaXRDb2RlfHwoZS5hZFVuaXRDb2RlPWUucGxhY2VtZW50Q29kZSl9KTt2YXIgaT1wLmJ1aWxkUmVxdWVzdHModCxvKTtpZihpJiYwIT09aS5sZW5ndGgpe0FycmF5LmlzQXJyYXkoaSl8fChpPVtpXSk7dmFyIGY9T2JqZWN0KG0uZGVsYXlFeGVjdXRpb24pKHIobCksaS5sZW5ndGgpO2kuZm9yRWFjaChmdW5jdGlvbihpKXtzd2l0Y2goaS5tZXRob2Qpe2Nhc2UiR0VUIjpuKCIiLmNvbmNhdChpLnVybCkuY29uY2F0KGZ1bmN0aW9uKGUpe2lmKGUpcmV0dXJuIj8iLmNvbmNhdCgib2JqZWN0Ij09PUUoZSk/T2JqZWN0KG0ucGFyc2VRdWVyeVN0cmluZ1BhcmFtZXRlcnMpKGUpOmUpO3JldHVybiIifShpLmRhdGEpKSx7c3VjY2VzczpyKGUpLGVycm9yOnR9LHZvaWQgMCxBKHttZXRob2Q6IkdFVCIsd2l0aENyZWRlbnRpYWxzOiEwfSxpLm9wdGlvbnMpKTticmVhaztjYXNlIlBPU1QiOm4oaS51cmwse3N1Y2Nlc3M6cihlKSxlcnJvcjp0fSwic3RyaW5nIj09dHlwZW9mIGkuZGF0YT9pLmRhdGE6SlNPTi5zdHJpbmdpZnkoaS5kYXRhKSxBKHttZXRob2Q6IlBPU1QiLGNvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIix3aXRoQ3JlZGVudGlhbHM6ITB9LGkub3B0aW9ucykpO2JyZWFrO2RlZmF1bHQ6T2JqZWN0KG0ubG9nV2FybikoIlNraXBwaW5nIGludmFsaWQgcmVxdWVzdCBmcm9tICIuY29uY2F0KHAuY29kZSwiLiBSZXF1ZXN0IHR5cGUgIikuY29uY2F0KGkudHlwZSwiIG11c3QgYmUgR0VUIG9yIFBPU1QiKSksZigpfWZ1bmN0aW9uIGUoZSx0KXtjKHAuY29kZSk7dHJ5e2U9SlNPTi5wYXJzZShlKX1jYXRjaChlKXt9dmFyIG47ZT17Ym9keTplLGhlYWRlcnM6e2dldDp0LmdldFJlc3BvbnNlSGVhZGVyLmJpbmQodCl9fSxzLnB1c2goZSk7dHJ5e249cC5pbnRlcnByZXRSZXNwb25zZShlLGkpfWNhdGNoKGUpe3JldHVybiBPYmplY3QobS5sb2dFcnJvcikoIkJpZGRlciAiLmNvbmNhdChwLmNvZGUsIiBmYWlsZWQgdG8gaW50ZXJwcmV0IHRoZSBzZXJ2ZXIncyByZXNwb25zZS4gQ29udGludWluZyB3aXRob3V0IGJpZHMiKSxudWxsLGUpLHZvaWQgZigpfWZ1bmN0aW9uIHIoZSl7dmFyIHQsbixyPWRbZS5yZXF1ZXN0SWRdO2lmKHIpe2Uub3JpZ2luYWxDcG09ZS5jcG0sZS5vcmlnaW5hbEN1cnJlbmN5PWUuY3VycmVuY3k7dmFyIGk9QShPYmplY3Qodi5hKSh5LmEuU1RBVFVTLkdPT0QsciksZSk7dD1yLmFkVW5pdENvZGUsbj1pLHVbdF09ITAsQyh0LG4sW29dKSYmYSh0LG4pfWVsc2UgT2JqZWN0KG0ubG9nV2FybikoIkJpZGRlciAiLmNvbmNhdChwLmNvZGUsIiBtYWRlIGJpZCBmb3IgdW5rbm93biByZXF1ZXN0IElEOiAiKS5jb25jYXQoZS5yZXF1ZXN0SWQsIi4gSWdub3JpbmcuIikpfW4mJihPYmplY3QobS5pc0FycmF5KShuKT9uLmZvckVhY2gocik6cihuKSksZihuKX1mdW5jdGlvbiB0KGUpe2MocC5jb2RlKSxPYmplY3QobS5sb2dFcnJvcikoIlNlcnZlciBjYWxsIGZvciAiLmNvbmNhdChwLmNvZGUsIiBmYWlsZWQ6ICIpLmNvbmNhdChlLCIuIENvbnRpbnVpbmcgd2l0aG91dCBiaWRzLiIpKSxmKCl9fSl9ZWxzZSBsKCl9ZWxzZSBsKCl9ZnVuY3Rpb24gbCgpe2UoKSxoLmEuZW1pdCh5LmEuRVZFTlRTLkJJRERFUl9ET05FLG8pLGcocyxvLmdkcHJDb25zZW50LG8udXNwQ29uc2VudCl9fX0pO2Z1bmN0aW9uIGcoZSx0LG4pe2lmKHAuZ2V0VXNlclN5bmNzJiYhYS5kZWZhdWx0LmFsaWFzUmVnaXN0cnlbcC5jb2RlXSl7dmFyIHI9by5iLmdldENvbmZpZygidXNlclN5bmMuZmlsdGVyU2V0dGluZ3MiKSxpPXAuZ2V0VXNlclN5bmNzKHtpZnJhbWVFbmFibGVkOiEhKG8uYi5nZXRDb25maWcoInVzZXJTeW5jLmlmcmFtZUVuYWJsZWQiKXx8ciYmKHIuaWZyYW1lfHxyLmFsbCkpLHBpeGVsRW5hYmxlZDohIShvLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYy5waXhlbEVuYWJsZWQiKXx8ciYmKHIuaW1hZ2V8fHIuYWxsKSl9LGUsdCxuKTtpJiYoQXJyYXkuaXNBcnJheShpKXx8KGk9W2ldKSxpLmZvckVhY2goZnVuY3Rpb24oZSl7Yy5hLnJlZ2lzdGVyU3luYyhlLnR5cGUscC5jb2RlLGUudXJsKX0pKX19ZnVuY3Rpb24gYihlKXtyZXR1cm4hIXAuaXNCaWRSZXF1ZXN0VmFsaWQoZSl8fChPYmplY3QobS5sb2dXYXJuKSgiSW52YWxpZCBiaWQgc2VudCB0byBiaWRkZXIgIi5jb25jYXQocC5jb2RlLCI6ICIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShlKSkpLCExKX19ZnVuY3Rpb24gdyhlLHQpe2lmKCFvLmIuZ2V0Q29uZmlnKCJhZHBvZC5icmFuZENhdGVnb3J5RXhjbHVzaW9uIikpcmV0dXJuIGUuY2FsbCh0aGlzLHQpO3QuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QobS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKT09PWcuYX0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJ9KX0pLnJlZHVjZShtLmZsYXR0ZW4sW10pLmZpbHRlcihtLnVuaXF1ZXMpLmZvckVhY2goZnVuY3Rpb24obil7dmFyIGU9YS5kZWZhdWx0LmdldEJpZEFkYXB0ZXIobik7aWYoZS5nZXRTcGVjKCkuZ2V0TWFwcGluZ0ZpbGVJbmZvKXt2YXIgdD1lLmdldFNwZWMoKS5nZXRNYXBwaW5nRmlsZUluZm8oKSxyPXQucmVmcmVzaEluRGF5cz90LnJlZnJlc2hJbkRheXM6TyxpPXQubG9jYWxTdG9yYWdlS2V5P3QubG9jYWxTdG9yYWdlS2V5OmUuZ2V0U3BlYygpLmNvZGUsbz1PYmplY3QobS5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZSkoaSk7KCFvfHxPYmplY3QobS50aW1lc3RhbXApKCk8by5sYXN0VXBkYXRlZCsyNCpyKjYwKjYwKjFlMykmJk9iamVjdChwLmEpKHQudXJsLHtzdWNjZXNzOmZ1bmN0aW9uKGUpe3RyeXtlPUpTT04ucGFyc2UoZSk7dmFyIHQ9e2xhc3RVcGRhdGVkOk9iamVjdChtLnRpbWVzdGFtcCkoKSxtYXBwaW5nOmUubWFwcGluZ307T2JqZWN0KG0uc2V0RGF0YUluTG9jYWxTdG9yYWdlKShpLEpTT04uc3RyaW5naWZ5KHQpKX1jYXRjaChlKXtPYmplY3QobS5sb2dFcnJvcikoIkZhaWxlZCB0byBwYXJzZSAiLmNvbmNhdChuLCIgYmlkZGVyIHRyYW5zbGF0aW9uIG1hcHBpbmcgZmlsZSIpKX19LGVycm9yOmZ1bmN0aW9uKCl7T2JqZWN0KG0ubG9nRXJyb3IpKCJGYWlsZWQgdG8gbG9hZCAiLmNvbmNhdChuLCIgYmlkZGVyIHRyYW5zbGF0aW9uIGZpbGUiKSl9fSl9fSksZS5jYWxsKHRoaXMsdCl9ZnVuY3Rpb24gQyhlLHQsbil7ZnVuY3Rpb24gcihlKXtyZXR1cm4iSW52YWxpZCBiaWQgZnJvbSAiLmNvbmNhdCh0LmJpZGRlckNvZGUsIi4gSWdub3JpbmcgYmlkOiAiKS5jb25jYXQoZSl9cmV0dXJuIGU/dD8oaT1PYmplY3Qua2V5cyh0KSxULmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybiBsKCkoaSxlKSYmIWwoKShbdm9pZCAwLG51bGxdLHRbZV0pfSk/Im5hdGl2ZSIhPT10Lm1lZGlhVHlwZXx8T2JqZWN0KHUuZikodCxuKT8idmlkZW8iIT09dC5tZWRpYVR5cGV8fE9iamVjdChzLmQpKHQsbik/ISgiYmFubmVyIj09PXQubWVkaWFUeXBlJiYhZnVuY3Rpb24oZSx0LG4pe2lmKCh0LndpZHRofHwwPT09cGFyc2VJbnQodC53aWR0aCwxMCkpJiYodC5oZWlnaHR8fDA9PT1wYXJzZUludCh0LmhlaWdodCwxMCkpKXJldHVybiB0LndpZHRoPXBhcnNlSW50KHQud2lkdGgsMTApLHQuaGVpZ2h0PXBhcnNlSW50KHQuaGVpZ2h0LDEwKSwhMDt2YXIgcj1PYmplY3QobS5nZXRCaWRkZXJSZXF1ZXN0KShuLHQuYmlkZGVyQ29kZSxlKSxpPXImJnIuYmlkcyYmci5iaWRzWzBdJiZyLmJpZHNbMF0uc2l6ZXMsbz1PYmplY3QobS5wYXJzZVNpemVzSW5wdXQpKGkpO2lmKDEhPT1vLmxlbmd0aClyZXR1cm4hMTt2YXIgYT1TKG9bMF0uc3BsaXQoIngiKSwyKSxjPWFbMF0sdT1hWzFdO3JldHVybiB0LndpZHRoPXBhcnNlSW50KGMsMTApLHQuaGVpZ2h0PXBhcnNlSW50KHUsMTApLCEwfShlLHQsbikpfHwoT2JqZWN0KG0ubG9nRXJyb3IpKHIoIkJhbm5lciBiaWRzIHJlcXVpcmUgYSB3aWR0aCBhbmQgaGVpZ2h0IikpLCExKTooT2JqZWN0KG0ubG9nRXJyb3IpKHIoIlZpZGVvIGJpZCBkb2VzIG5vdCBoYXZlIHJlcXVpcmVkIHZhc3RVcmwgb3IgcmVuZGVyZXIgcHJvcGVydHkiKSksITEpOihPYmplY3QobS5sb2dFcnJvcikocigiTmF0aXZlIGJpZCBtaXNzaW5nIHNvbWUgcmVxdWlyZWQgcHJvcGVydGllcy4iKSksITEpOihPYmplY3QobS5sb2dFcnJvcikocigiQmlkZGVyICIuY29uY2F0KHQuYmlkZGVyQ29kZSwiIGlzIG1pc3NpbmcgcmVxdWlyZWQgcGFyYW1zLiBDaGVjayBodHRwOi8vcHJlYmlkLm9yZy9kZXYtZG9jcy9iaWRkZXItYWRhcHRlci0xLmh0bWwgZm9yIGxpc3Qgb2YgcGFyYW1zLiIpKSksITEpKTooT2JqZWN0KG0ubG9nV2FybikoIlNvbWUgYWRhcHRlciB0cmllZCB0byBhZGQgYW4gdW5kZWZpbmVkIGJpZCBmb3IgIi5jb25jYXQoZSwiLiIpKSwhMSk6KE9iamVjdChtLmxvZ1dhcm4pKCJObyBhZFVuaXRDb2RlIHdhcyBzdXBwbGllZCB0byBhZGRCaWRSZXNwb25zZS4iKSwhMSk7dmFyIGl9T2JqZWN0KGIuYSkoImNoZWNrQWRVbml0U2V0dXAiKS5iZWZvcmUodyl9LDEwOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWksdC5jPWZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fCFlLnVybCl9LHQuYj1mdW5jdGlvbihlLHQpe2UucmVuZGVyKHQpfTt2YXIgZj1uKDM1KSxsPW4oMCkscj1uKDEyKSxwPW4ubihyKTtmdW5jdGlvbiBpKGUpe3ZhciB0LG4scixpPXRoaXMsbz1lLnVybCxhPWUuY29uZmlnLGM9ZS5pZCx1PWUuY2FsbGJhY2sscz1lLmxvYWRlZCxkPWUuYWRVbml0Q29kZTt0aGlzLnVybD1vLHRoaXMuY29uZmlnPWEsdGhpcy5oYW5kbGVycz17fSx0aGlzLmlkPWMsdGhpcy5sb2FkZWQ9cyx0aGlzLmNtZD1bXSx0aGlzLnB1c2g9ZnVuY3Rpb24oZSl7ImZ1bmN0aW9uIj09dHlwZW9mIGU/aS5sb2FkZWQ/ZS5jYWxsKCk6aS5jbWQucHVzaChlKTpsLmxvZ0Vycm9yKCJDb21tYW5kcyBnaXZlbiB0byBSZW5kZXJlci5wdXNoIG11c3QgYmUgd3JhcHBlZCBpbiBhIGZ1bmN0aW9uIil9LHRoaXMuY2FsbGJhY2s9dXx8ZnVuY3Rpb24oKXtpLmxvYWRlZD0hMCxpLnByb2Nlc3MoKX0sdD1kLG49dXBianMuYWRVbml0cywocj1wKCkobixmdW5jdGlvbihlKXtyZXR1cm4gZS5jb2RlPT09dH0pKSYmci5yZW5kZXJlciYmci5yZW5kZXJlci51cmwmJnIucmVuZGVyZXIucmVuZGVyP2wubG9nV2FybigiRXh0ZXJuYWwgSnMgbm90IGxvYWRlZCBieSBSZW5kZXJlciBzaW5jZSByZW5kZXJlciB1cmwgYW5kIGNhbGxiYWNrIGlzIGFscmVhZHkgZGVmaW5lZCBvbiBhZFVuaXQgIi5jb25jYXQoZCkpOk9iamVjdChmLmMpKG8sdGhpcy5jYWxsYmFjaywhMCl9aS5pbnN0YWxsPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh7dXJsOmUudXJsLGNvbmZpZzplLmNvbmZpZyxpZDplLmlkLGNhbGxiYWNrOmUuY2FsbGJhY2ssbG9hZGVkOmUubG9hZGVkLGFkVW5pdENvZGU6ZS5hZFVuaXRDb2RlfSl9LGkucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbmZpZ30saS5wcm90b3R5cGUuc2V0UmVuZGVyPWZ1bmN0aW9uKGUpe3RoaXMucmVuZGVyPWV9LGkucHJvdG90eXBlLnNldEV2ZW50SGFuZGxlcnM9ZnVuY3Rpb24oZSl7dGhpcy5oYW5kbGVycz1lfSxpLnByb3RvdHlwZS5oYW5kbGVWaWRlb0V2ZW50PWZ1bmN0aW9uKGUpe3ZhciB0PWUuaWQsbj1lLmV2ZW50TmFtZTsiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5oYW5kbGVyc1tuXSYmdGhpcy5oYW5kbGVyc1tuXSgpLGwubG9nTWVzc2FnZSgiUHJlYmlkIFJlbmRlcmVyIGV2ZW50IGZvciBpZCAiLmNvbmNhdCh0LCIgdHlwZSAiKS5jb25jYXQobikpfSxpLnByb3RvdHlwZS5wcm9jZXNzPWZ1bmN0aW9uKCl7Zm9yKDswPHRoaXMuY21kLmxlbmd0aDspdHJ5e3RoaXMuY21kLnNoaWZ0KCkuY2FsbCgpfWNhdGNoKGUpe2wubG9nRXJyb3IoIkVycm9yIHByb2Nlc3NpbmcgUmVuZGVyZXIgY29tbWFuZDogIixlKX19fSwxMDA6ZnVuY3Rpb24oZSx0LG4pe3ZhciBhPW4oMjkpLGM9big1MSksdT1uKDY1KSghMSkscz1uKDUzKSgiSUVfUFJPVE8iKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWMoZSksaT0wLG89W107Zm9yKG4gaW4gciluIT1zJiZhKHIsbikmJm8ucHVzaChuKTtmb3IoO3QubGVuZ3RoPmk7KWEocixuPXRbaSsrXSkmJih+dShvLG4pfHxvLnB1c2gobikpO3JldHVybiBvfX0sMTAxOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE5KS5kb2N1bWVudDtlLmV4cG9ydHM9ciYmci5kb2N1bWVudEVsZW1lbnR9LDEwMjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyOSksaT1uKDQ4KSxvPW4oNTMpKCJJRV9QUk9UTyIpLGE9T2JqZWN0LnByb3RvdHlwZTtlLmV4cG9ydHM9T2JqZWN0LmdldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlKXtyZXR1cm4gZT1pKGUpLHIoZSxvKT9lW29dOiJmdW5jdGlvbiI9PXR5cGVvZiBlLmNvbnN0cnVjdG9yJiZlIGluc3RhbmNlb2YgZS5jb25zdHJ1Y3Rvcj9lLmNvbnN0cnVjdG9yLnByb3RvdHlwZTplIGluc3RhbmNlb2YgT2JqZWN0P2E6bnVsbH19LDEwMzpmdW5jdGlvbihlLHQsbil7bigxMDQpO2Zvcih2YXIgcj1uKDE5KSxpPW4oMjEpLG89bigzMCksYT1uKDE0KSgidG9TdHJpbmdUYWciKSxjPSJDU1NSdWxlTGlzdCxDU1NTdHlsZURlY2xhcmF0aW9uLENTU1ZhbHVlTGlzdCxDbGllbnRSZWN0TGlzdCxET01SZWN0TGlzdCxET01TdHJpbmdMaXN0LERPTVRva2VuTGlzdCxEYXRhVHJhbnNmZXJJdGVtTGlzdCxGaWxlTGlzdCxIVE1MQWxsQ29sbGVjdGlvbixIVE1MQ29sbGVjdGlvbixIVE1MRm9ybUVsZW1lbnQsSFRNTFNlbGVjdEVsZW1lbnQsTWVkaWFMaXN0LE1pbWVUeXBlQXJyYXksTmFtZWROb2RlTWFwLE5vZGVMaXN0LFBhaW50UmVxdWVzdExpc3QsUGx1Z2luLFBsdWdpbkFycmF5LFNWR0xlbmd0aExpc3QsU1ZHTnVtYmVyTGlzdCxTVkdQYXRoU2VnTGlzdCxTVkdQb2ludExpc3QsU1ZHU3RyaW5nTGlzdCxTVkdUcmFuc2Zvcm1MaXN0LFNvdXJjZUJ1ZmZlckxpc3QsU3R5bGVTaGVldExpc3QsVGV4dFRyYWNrQ3VlTGlzdCxUZXh0VHJhY2tMaXN0LFRvdWNoTGlzdCIuc3BsaXQoIiwiKSx1PTA7dTxjLmxlbmd0aDt1Kyspe3ZhciBzPWNbdV0sZD1yW3NdLGY9ZCYmZC5wcm90b3R5cGU7ZiYmIWZbYV0mJmkoZixhLHMpLG9bc109by5BcnJheX19LDEwNDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNDIpLGk9big3MCksbz1uKDMwKSxhPW4oNTEpO2UuZXhwb3J0cz1uKDUyKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1hKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2ssbj10aGlzLl9pKys7cmV0dXJuIWV8fG4+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxpKDEpKTppKDAsImtleXMiPT10P246InZhbHVlcyI9PXQ/ZVtuXTpbbixlW25dXSl9LCJ2YWx1ZXMiKSxvLkFyZ3VtZW50cz1vLkFycmF5LHIoImtleXMiKSxyKCJ2YWx1ZXMiKSxyKCJlbnRyaWVzIil9LDEwNTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTA2KSxpPW4oNzgpO2UuZXhwb3J0cz1uKDEwOCkoIlNldCIsZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0KHRoaXMsMDxhcmd1bWVudHMubGVuZ3RoP2U6dm9pZCAwKX19LHthZGQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHIuZGVmKGkodGhpcywiU2V0IiksZT0wPT09ZT8wOmUsZSl9fSxyKX0sMTA2OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYShlLHQpe3ZhciBuLHI9Zyh0KTtpZigiRiIhPT1yKXJldHVybiBlLl9pW3JdO2ZvcihuPWUuX2Y7bjtuPW4ubilpZihuLms9PXQpcmV0dXJuIG59dmFyIGM9bigyMCkuZix1PW4oNjgpLHM9big3MSksZD1uKDI2KSxmPW4oNzIpLGw9big0Mykscj1uKDUyKSxpPW4oNzApLG89bigxMDcpLHA9bigyMiksZz1uKDc3KS5mYXN0S2V5LGI9big3OCksdj1wPyJfcyI6InNpemUiO2UuZXhwb3J0cz17Z2V0Q29uc3RydWN0b3I6ZnVuY3Rpb24oZSxvLG4scil7dmFyIGk9ZShmdW5jdGlvbihlLHQpe2YoZSxpLG8sIl9pIiksZS5fdD1vLGUuX2k9dShudWxsKSxlLl9mPXZvaWQgMCxlLl9sPXZvaWQgMCxlW3ZdPTAsbnVsbCE9dCYmbCh0LG4sZVtyXSxlKX0pO3JldHVybiBzKGkucHJvdG90eXBlLHtjbGVhcjpmdW5jdGlvbigpe2Zvcih2YXIgZT1iKHRoaXMsbyksdD1lLl9pLG49ZS5fZjtuO249bi5uKW4ucj0hMCxuLnAmJihuLnA9bi5wLm49dm9pZCAwKSxkZWxldGUgdFtuLmldO2UuX2Y9ZS5fbD12b2lkIDAsZVt2XT0wfSxkZWxldGU6ZnVuY3Rpb24oZSl7dmFyIHQ9Yih0aGlzLG8pLG49YSh0LGUpO2lmKG4pe3ZhciByPW4ubixpPW4ucDtkZWxldGUgdC5faVtuLmldLG4ucj0hMCxpJiYoaS5uPXIpLHImJihyLnA9aSksdC5fZj09biYmKHQuX2Y9ciksdC5fbD09biYmKHQuX2w9aSksdFt2XS0tfXJldHVybiEhbn0sZm9yRWFjaDpmdW5jdGlvbihlLHQpe2IodGhpcyxvKTtmb3IodmFyIG4scj1kKGUsMTxhcmd1bWVudHMubGVuZ3RoP3Q6dm9pZCAwLDMpO249bj9uLm46dGhpcy5fZjspZm9yKHIobi52LG4uayx0aGlzKTtuJiZuLnI7KW49bi5wfSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuISFhKGIodGhpcyxvKSxlKX19KSxwJiZjKGkucHJvdG90eXBlLCJzaXplIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGIodGhpcyxvKVt2XX19KSxpfSxkZWY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz1hKGUsdCk7cmV0dXJuIG8/by52PW46KGUuX2w9bz17aTppPWcodCwhMCksazp0LHY6bixwOnI9ZS5fbCxuOnZvaWQgMCxyOiExfSxlLl9mfHwoZS5fZj1vKSxyJiYoci5uPW8pLGVbdl0rKywiRiIhPT1pJiYoZS5faVtpXT1vKSksZX0sZ2V0RW50cnk6YSxzZXRTdHJvbmc6ZnVuY3Rpb24oZSxuLHQpe3IoZSxuLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1iKGUsbiksdGhpcy5faz10LHRoaXMuX2w9dm9pZCAwfSxmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLHQ9ZS5fayxuPWUuX2w7biYmbi5yOyluPW4ucDtyZXR1cm4gZS5fdCYmKGUuX2w9bj1uP24ubjplLl90Ll9mKT9pKDAsImtleXMiPT10P24uazoidmFsdWVzIj09dD9uLnY6W24uayxuLnZdKTooZS5fdD12b2lkIDAsaSgxKSl9LHQ/ImVudHJpZXMiOiJ2YWx1ZXMiLCF0LCEwKSxvKG4pfX19LDEwNzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTkpLGk9bigxNiksbz1uKDIwKSxhPW4oMjIpLGM9bigxNCkoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIGlbZV0/aVtlXTpyW2VdO2EmJnQmJiF0W2NdJiZvLmYodCxjLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSwxMDg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgZj1uKDE5KSxsPW4oMTUpLHA9big3NyksZz1uKDM4KSxiPW4oMjEpLHY9big3MSkseT1uKDQzKSxoPW4oNzIpLG09bigxNyksUz1uKDU0KSxFPW4oMjApLmYsQT1uKDQ3KSgwKSxUPW4oMjIpO2UuZXhwb3J0cz1mdW5jdGlvbihuLGUsdCxyLGksbyl7dmFyIGE9ZltuXSxjPWEsdT1pPyJzZXQiOiJhZGQiLHM9YyYmYy5wcm90b3R5cGUsZD17fTtyZXR1cm4gVCYmImZ1bmN0aW9uIj09dHlwZW9mIGMmJihvfHxzLmZvckVhY2gmJiFnKGZ1bmN0aW9uKCl7KG5ldyBjKS5lbnRyaWVzKCkubmV4dCgpfSkpPyhjPWUoZnVuY3Rpb24oZSx0KXtoKGUsYyxuLCJfYyIpLGUuX2M9bmV3IGEsbnVsbCE9dCYmeSh0LGksZVt1XSxlKX0pLEEoImFkZCxjbGVhcixkZWxldGUsZm9yRWFjaCxnZXQsaGFzLHNldCxrZXlzLHZhbHVlcyxlbnRyaWVzLHRvSlNPTiIuc3BsaXQoIiwiKSxmdW5jdGlvbihyKXt2YXIgaT0iYWRkIj09cnx8InNldCI9PXI7ciBpbiBzJiYoIW98fCJjbGVhciIhPXIpJiZiKGMucHJvdG90eXBlLHIsZnVuY3Rpb24oZSx0KXtpZihoKHRoaXMsYyxyKSwhaSYmbyYmIW0oZSkpcmV0dXJuImdldCI9PXImJnZvaWQgMDt2YXIgbj10aGlzLl9jW3JdKDA9PT1lPzA6ZSx0KTtyZXR1cm4gaT90aGlzOm59KX0pLG98fEUoYy5wcm90b3R5cGUsInNpemUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYy5zaXplfX0pKTooYz1yLmdldENvbnN0cnVjdG9yKGUsbixpLHUpLHYoYy5wcm90b3R5cGUsdCkscC5ORUVEPSEwKSxTKGMsbiksZFtuXT1jLGwobC5HK2wuVytsLkYsZCksb3x8ci5zZXRTdHJvbmcoYyxuLGkpLGN9fSwxMDk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTUpO3Ioci5QK3IuUiwiU2V0Iix7dG9KU09OOm4oMTEwKSgiU2V0Iil9KX0sMTE6ZnVuY3Rpb24oZSx0LG4pe24oOTIpLGUuZXhwb3J0cz1uKDE2KS5BcnJheS5pbmNsdWRlc30sMTEwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDc2KSxpPW4oMTExKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYocih0aGlzKSE9ZSl0aHJvdyBUeXBlRXJyb3IoZSsiI3RvSlNPTiBpc24ndCBnZW5lcmljIik7cmV0dXJuIGkodGhpcyl9fX0sMTExOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDQzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXTtyZXR1cm4gcihlLCExLG4ucHVzaCxuLHQpLG59fSwxMTI6ZnVuY3Rpb24oZSx0LG4pe24oMTEzKSgiU2V0Iil9LDExMzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyKHIuUyxlLHtvZjpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpO2UtLTspdFtlXT1hcmd1bWVudHNbZV07cmV0dXJuIG5ldyB0aGlzKHQpfX0pfX0sMTE0OmZ1bmN0aW9uKGUsdCxuKXtuKDExNSkoIlNldCIpfSwxMTU6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSx1PW4oNjApLHM9bigyNiksZD1uKDQzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cihyLlMsZSx7ZnJvbTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEsYz10O3JldHVybiB1KHRoaXMpLChyPXZvaWQgMCE9PWMpJiZ1KGMpLG51bGw9PWU/bmV3IHRoaXM6KGk9W10scj8obz0wLGE9cyhjLG4sMiksZChlLCExLGZ1bmN0aW9uKGUpe2kucHVzaChhKGUsbysrKSl9KSk6ZChlLCExLGkucHVzaCxpKSxuZXcgdGhpcyhpKSl9fSl9fSwxMTY6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgZz1uKDI2KSxyPW4oMTUpLGI9big0OCksdj1uKDczKSx5PW4oNzQpLGg9big0MSksbT1uKDExNyksUz1uKDc1KTtyKHIuUytyLkYqIW4oMTE4KShmdW5jdGlvbihlKXtBcnJheS5mcm9tKGUpfSksIkFycmF5Iix7ZnJvbTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEsYz1iKGUpLHU9ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXM/dGhpczpBcnJheSxzPWFyZ3VtZW50cy5sZW5ndGgsZD0xPHM/dDp2b2lkIDAsZj12b2lkIDAhPT1kLGw9MCxwPVMoYyk7aWYoZiYmKGQ9ZyhkLDI8cz9uOnZvaWQgMCwyKSksbnVsbD09cHx8dT09QXJyYXkmJnkocCkpZm9yKGk9bmV3IHUocj1oKGMubGVuZ3RoKSk7bDxyO2wrKyltKGksbCxmP2QoY1tsXSxsKTpjW2xdKTtlbHNlIGZvcihhPXAuY2FsbChjKSxpPW5ldyB1OyEobz1hLm5leHQoKSkuZG9uZTtsKyspbShpLGwsZj92KGEsZCxbby52YWx1ZSxsXSwhMCk6by52YWx1ZSk7cmV0dXJuIGkubGVuZ3RoPWwsaX19KX0sMTE3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyMCksaT1uKDQ2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe3QgaW4gZT9yLmYoZSx0LGkoMCxuKSk6ZVt0XT1ufX0sMTE4OmZ1bmN0aW9uKGUsdCxuKXt2YXIgbz1uKDE0KSgiaXRlcmF0b3IiKSxhPSExO3RyeXt2YXIgcj1bN11bb10oKTtyLnJldHVybj1mdW5jdGlvbigpe2E9ITB9LEFycmF5LmZyb20ocixmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaChlKXt9ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFhKXJldHVybiExO3ZhciBuPSExO3RyeXt2YXIgcj1bN10saT1yW29dKCk7aS5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6bj0hMH19LHJbb109ZnVuY3Rpb24oKXtyZXR1cm4gaX0sZShyKX1jYXRjaChlKXt9cmV0dXJuIG59fSwxMTk6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24gZSh0KXt2YXIgbj1BcnJheS5pc0FycmF5KHQpP1tdOnt9O2Zvcih2YXIgciBpbiB0KXt2YXIgaT10W3JdO25bcl09aSYmIm9iamVjdCI9PXR5cGVvZiBpP2UoaSk6aX1yZXR1cm4gbn19LDEyOmZ1bmN0aW9uKGUsdCxuKXtuKDg2KSxlLmV4cG9ydHM9bigxNikuQXJyYXkuZmluZH0sMTIwOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUsdCxuLHIsaSl7Zm9yKHQ9dC5zcGxpdD90LnNwbGl0KCIuIik6dCxyPTA7cjx0Lmxlbmd0aDtyKyspZT1lP2VbdFtyXV06aTtyZXR1cm4gZT09PWk/bjplfX0sMTIxOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUsdCxuKXt0LnNwbGl0JiYodD10LnNwbGl0KCIuIikpO2Zvcih2YXIgcixpPTAsbz10Lmxlbmd0aCxhPWU7aTxvOysraSlyPWFbdFtpXV0sYT1hW3RbaV1dPWk9PT1vLTE/bjpudWxsIT1yP3I6IX50W2krMV0uaW5kZXhPZigiLiIpJiYtMTwrdFtpKzFdP1tdOnt9fX0sMTIyOmZ1bmN0aW9uKGUsdCl7aC5TWU5DPTEsaC5BU1lOQz0yLGguUVVFVUU9NDt2YXIgZz0iZnVuLWhvb2tzIjt2YXIgbj1PYmplY3QuZnJlZXplKHt1c2VQcm94eTohMCxyZWFkeTowfSksYj1uZXcgV2Vha01hcCxyPSIyLDEsMCI9PT1bMV0ucmVkdWNlKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm5bZSx0LG5dfSwyKS50b1N0cmluZygpP0FycmF5LnByb3RvdHlwZS5yZWR1Y2U6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPU9iamVjdCh0aGlzKSxpPXIubGVuZ3RoPj4+MCxvPTA7aWYodCluPXQ7ZWxzZXtmb3IoO288aSYmIShvIGluIHIpOylvKys7bj1yW28rK119Zm9yKDtvPGk7KW8gaW4gciYmKG49ZShuLHJbb10sbyxyKSksbysrO3JldHVybiBufTtmdW5jdGlvbiB2KGUsdCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUsdCl9dmFyIHk9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7cmV0dXJuIHIuY2FsbCh2KGFyZ3VtZW50cywxKSxmdW5jdGlvbih0LG4pe3JldHVybiBuJiZPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RbZV09bltlXX0pLHR9LGUpfTtmdW5jdGlvbiBoKHUpe3ZhciBzLGU9e30sZD1bXTtmdW5jdGlvbiB0KGUsdCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGU/Zi5jYWxsKG51bGwsInN5bmMiLGUsdCk6InN0cmluZyI9PXR5cGVvZiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgdD9mLmFwcGx5KG51bGwsYXJndW1lbnRzKToib2JqZWN0Ij09dHlwZW9mIGU/ZnVuY3Rpb24obyxlLGEpe3ZhciB0PSEwO3ZvaWQgMD09PWUmJihlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG8pLHQ9ITEpO3ZhciBjPXt9LG49WyJjb25zdHJ1Y3RvciJdO2Zvcig7KGU9ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuISgiZnVuY3Rpb24iIT10eXBlb2Ygb1tlXXx8LTEhPT1uLmluZGV4T2YoZSl8fGUubWF0Y2goL15fLykpfSkpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdCgiOiIpLG49dFswXSxyPXRbMV18fCJzeW5jIjtpZighY1tuXSl7dmFyIGk9b1tuXTtjW25dPW9bbl09ZihyLGksYT9bYSxuXTp2b2lkIDApfX0pLG89T2JqZWN0LmdldFByb3RvdHlwZU9mKG8pLHQmJm87KTtyZXR1cm4gY30uYXBwbHkobnVsbCxhcmd1bWVudHMpOnZvaWQgMH1mdW5jdGlvbiBsKG8pe3ZhciBhPUFycmF5LmlzQXJyYXkobyk/bzpvLnNwbGl0KCIuIik7cmV0dXJuIHIuY2FsbChhLGZ1bmN0aW9uKHQsbixlKXt2YXIgcj10W25dLGk9ITE7cmV0dXJuIHJ8fChlPT09YS5sZW5ndGgtMT8oc3x8ZC5wdXNoKGZ1bmN0aW9uKCl7aXx8Y29uc29sZS53YXJuKGcrIjogcmVmZXJlbmNlZCAnIitvKyInIGJ1dCBpdCB3YXMgbmV2ZXIgY3JlYXRlZCIpfSksdFtuXT1wKGZ1bmN0aW9uKGUpe3Rbbl09ZSxpPSEwfSkpOnRbbl09e30pfSxlKX1mdW5jdGlvbiBwKHIpe3ZhciBvPVtdLGE9W10sYz1mdW5jdGlvbigpe30sZT17YmVmb3JlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbCh0aGlzLG8sImJlZm9yZSIsZSx0KX0sYWZ0ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKHRoaXMsYSwiYWZ0ZXIiLGUsdCl9LGdldEhvb2tzOmZ1bmN0aW9uKG4pe3ZhciBlPW8uY29uY2F0KGEpO3JldHVybiJvYmplY3QiPT10eXBlb2YgbiYmKGU9ZS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5rZXlzKG4pLmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdPT09bltlXX0pfSkpLHkoZSx7cmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSksdGhpc319KX0scmVtb3ZlQWxsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SG9va3MoKS5yZW1vdmUoKX19LHQ9e2luc3RhbGw6ZnVuY3Rpb24oZSx0LG4pe3RoaXMudHlwZT1lLChjPW4pKG8sYSksciYmcih0KX19O3JldHVybiBiLnNldChlLmFmdGVyLHQpLGU7ZnVuY3Rpb24gbih0LGUsbixyKXt2YXIgaT17aG9vazpuLHR5cGU6ZSxwcmlvcml0eTpyfHwxMCxyZW1vdmU6ZnVuY3Rpb24oKXt2YXIgZT10LmluZGV4T2YoaSk7LTEhPT1lJiYodC5zcGxpY2UoZSwxKSxjKG8sYSkpfX07cmV0dXJuIHQucHVzaChpKSx0LnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5wcmlvcml0eS1lLnByaW9yaXR5fSksYyhvLGEpLHRoaXN9fWZ1bmN0aW9uIGYoZixlLHQpe3ZhciBuPWUuYWZ0ZXImJmIuZ2V0KGUuYWZ0ZXIpO2lmKG4pe2lmKG4udHlwZSE9PWYpdGhyb3cgZysiOiByZWNyZWF0ZWQgaG9va2FibGUgd2l0aCBkaWZmZXJlbnQgdHlwZSI7cmV0dXJuIGV9dmFyIHIsaSxvPXQ/bCh0KTpwKCksYT17Z2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG9bdF18fFJlZmxlY3QuZ2V0LmFwcGx5KFJlZmxlY3QsYXJndW1lbnRzKX19O3JldHVybiBzfHxkLnB1c2goYyksdS51c2VQcm94eSYmImZ1bmN0aW9uIj09dHlwZW9mIFByb3h5JiZQcm94eS5yZXZvY2FibGU/aT1uZXcgUHJveHkoZSxhKTp5KGk9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseT9hLmFwcGx5KGUsdGhpcyx2KGFyZ3VtZW50cykpOmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxvKSxiLmdldChpLmFmdGVyKS5pbnN0YWxsKGYsaSxmdW5jdGlvbihlLHQpe3ZhciBzLGQ9W107cj1lLmxlbmd0aHx8dC5sZW5ndGg/KGUuZm9yRWFjaChuKSxzPWQucHVzaCh2b2lkIDApLTEsdC5mb3JFYWNoKG4pLGZ1bmN0aW9uKG4scixlKXt2YXIgaSxvPTAsYT0iYXN5bmMiPT09ZiYmImZ1bmN0aW9uIj09dHlwZW9mIGVbZS5sZW5ndGgtMV0mJmUucG9wKCk7ZnVuY3Rpb24gYyhlKXsic3luYyI9PT1mP2k9ZTphJiZhLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiB1KGUpe2lmKGRbb10pe3ZhciB0PXYoYXJndW1lbnRzKTtyZXR1cm4gdS5iYWlsPWMsdC51bnNoaWZ0KHUpLGRbbysrXS5hcHBseShyLHQpfSJzeW5jIj09PWY/aT1lOmEmJmEuYXBwbHkobnVsbCxhcmd1bWVudHMpfXJldHVybiBkW3NdPWZ1bmN0aW9uKCl7dmFyIGU9dihhcmd1bWVudHMsMSk7ImFzeW5jIj09PWYmJmEmJihkZWxldGUgdS5iYWlsLGUucHVzaCh1KSk7dmFyIHQ9bi5hcHBseShyLGUpOyJzeW5jIj09PWYmJnUodCl9LHUuYXBwbHkobnVsbCxlKSxpfSk6dm9pZCAwO2Z1bmN0aW9uIG4oZSl7ZC5wdXNoKGUuaG9vayl9YygpfSksaTtmdW5jdGlvbiBjKCl7IXMmJigic3luYyIhPT1mfHx1LnJlYWR5JmguU1lOQykmJigiYXN5bmMiIT09Znx8dS5yZWFkeSZoLkFTWU5DKT8ic3luYyIhPT1mJiZ1LnJlYWR5JmguUVVFVUU/YS5hcHBseT1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cztkLnB1c2goZnVuY3Rpb24oKXtpLmFwcGx5KGVbMV0sZVsyXSl9KX06YS5hcHBseT1mdW5jdGlvbigpe3Rocm93IGcrIjogaG9va2VkIGZ1bmN0aW9uIG5vdCByZWFkeSJ9OmEuYXBwbHk9cn19cmV0dXJuKHU9eSh7fSxuLHUpKS5yZWFkeT90LnJlYWR5PWZ1bmN0aW9uKCl7cz0hMCxmdW5jdGlvbihlKXtmb3IodmFyIHQ7dD1lLnNoaWZ0KCk7KXQoKX0oZCl9OnM9ITAsdC5nZXQ9bCx0fWUuZXhwb3J0cz1ofSwxMzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJiIixmdW5jdGlvbigpe3JldHVybiBvfSksbi5kKHQsImEiLGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSx0LmQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj0yPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MTU7MD09PWUuZ2V0SG9va3Moe2hvb2s6dH0pLmxlbmd0aCYmZS5iZWZvcmUodCxuKX0sdC5jPWZ1bmN0aW9uKGUsbil7bygiYXN5bmMiLGZ1bmN0aW9uKGUpe2UuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gbi5hcHBseSh2b2lkIDAsZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciB0PTAsbj1uZXcgQXJyYXkoZS5sZW5ndGgpO3Q8ZS5sZW5ndGg7dCsrKW5bdF09ZVt0XTtyZXR1cm4gbn19KHQ9ZSl8fGZ1bmN0aW9uKGUpe2lmKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSl8fCJbb2JqZWN0IEFyZ3VtZW50c10iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXJldHVybiBBcnJheS5mcm9tKGUpfSh0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpfSgpKTt2YXIgdH0pfSxlKShbXSl9LHQuZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSgxPHQ/dC0xOjApLHI9MTtyPHQ7cisrKW5bci0xXT1hcmd1bWVudHNbcl07YShlKS5iZWZvcmUoZnVuY3Rpb24oZSx0KXt0LnB1c2gobiksZSh0KX0pfTt2YXIgcj1uKDEyMiksaT1uLm4ocik7dmFyIG89aSgpKHtyZWFkeTppLmEuU1lOQ3xpLmEuQVNZTkN8aS5hLlFVRVVFfSksYT1vLmdldH0sMTQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNjMpKCJ3a3MiKSxpPW4oNTApLG89bigxOSkuU3ltYm9sLGE9ImZ1bmN0aW9uIj09dHlwZW9mIG87KGUuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gcltlXXx8KHJbZV09YSYmb1tlXXx8KGE/bzppKSgiU3ltYm9sLiIrZSkpfSkuc3RvcmU9cn0sMTU6ZnVuY3Rpb24oZSx0LG4pe3ZhciBiPW4oMTkpLHY9bigxNikseT1uKDI2KSxoPW4oMjEpLG09bigyOSksUz0icHJvdG90eXBlIixFPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYT1lJkUuRixjPWUmRS5HLHU9ZSZFLlMscz1lJkUuUCxkPWUmRS5CLGY9ZSZFLlcsbD1jP3Y6dlt0XXx8KHZbdF09e30pLHA9bFtTXSxnPWM/Yjp1P2JbdF06KGJbdF18fHt9KVtTXTtmb3IociBpbiBjJiYobj10KSxuKShpPSFhJiZnJiZ2b2lkIDAhPT1nW3JdKSYmbShsLHIpfHwobz1pP2dbcl06bltyXSxsW3JdPWMmJiJmdW5jdGlvbiIhPXR5cGVvZiBnW3JdP25bcl06ZCYmaT95KG8sYik6ZiYmZ1tyXT09bz9mdW5jdGlvbihyKXtmdW5jdGlvbiBlKGUsdCxuKXtpZih0aGlzIGluc3RhbmNlb2Ygcil7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IHI7Y2FzZSAxOnJldHVybiBuZXcgcihlKTtjYXNlIDI6cmV0dXJuIG5ldyByKGUsdCl9cmV0dXJuIG5ldyByKGUsdCxuKX1yZXR1cm4gci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIGVbU109cltTXSxlfShvKTpzJiYiZnVuY3Rpb24iPT10eXBlb2Ygbz95KEZ1bmN0aW9uLmNhbGwsbyk6byxzJiYoKGwudmlydHVhbHx8KGwudmlydHVhbD17fSkpW3JdPW8sZSZFLlImJnAmJiFwW3JdJiZoKHAscixvKSkpfTtFLkY9MSxFLkc9MixFLlM9NCxFLlA9OCxFLkI9MTYsRS5XPTMyLEUuVT02NCxFLlI9MTI4LGUuZXhwb3J0cz1FfSwxNjpmdW5jdGlvbihlLHQpe3ZhciBuPWUuZXhwb3J0cz17dmVyc2lvbjoiMi42LjEwIn07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LDE2NzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9big0NykoNiksbz0iZmluZEluZGV4IixhPSEwO28gaW5bXSYmQXJyYXkoMSlbb10oZnVuY3Rpb24oKXthPSExfSkscihyLlArci5GKmEsIkFycmF5Iix7ZmluZEluZGV4OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkodGhpcyxlLDE8YXJndW1lbnRzLmxlbmd0aD90OnZvaWQgMCl9fSksbig0Mikobyl9LDE3OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LDE3MDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbigpe2FkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGEsITEpfTt2YXIgcj1uKDgpLGI9bi5uKHIpLHY9bigyNyksaT1uKDQpLHk9KG4ubihpKSxuKDApKSxoPW4oMjUpLG89bigxMiksbT1uLm4obyksUz1uKDEwKSxFPWkuRVZFTlRTLkJJRF9XT047ZnVuY3Rpb24gYShlKXt2YXIgdCxuLHIsaSxvLGEsYyx1LHMsZCxmPWUubWVzc2FnZT8ibWVzc2FnZSI6ImRhdGEiLGw9e307dHJ5e2w9SlNPTi5wYXJzZShlW2ZdKX1jYXRjaChlKXtyZXR1cm59aWYobCYmbC5hZElkKXt2YXIgcD1tKCkoaC5hLmdldEJpZHNSZWNlaXZlZCgpLGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkSWQ9PT1sLmFkSWR9KTtpZihwJiYiUHJlYmlkIFJlcXVlc3QiPT09bC5tZXNzYWdlJiYodD1wLG49bC5hZFNlcnZlckRvbWFpbixyPWUuc291cmNlLGk9dC5hZElkLG89dC5hZCxhPXQuYWRVcmwsYz10LndpZHRoLHU9dC5oZWlnaHQscz10LnJlbmRlcmVyLGQ9dC5jcG0sT2JqZWN0KFMuYykocyk/T2JqZWN0KFMuYikocyx0KTppJiYoZnVuY3Rpb24oZSl7dmFyIGk9ZS5hZFVuaXRDb2RlLHI9ZS53aWR0aCxvPWUuaGVpZ2h0O2Z1bmN0aW9uIGEoZSl7dmFyIHQsbj0odD1pLHdpbmRvdy5nb29nbGV0YWc/ZnVuY3Rpb24oZSl7cmV0dXJuIG0oKSh3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLmdldFNsb3RzKCkuZmlsdGVyKE9iamVjdCh5LmlzU2xvdE1hdGNoaW5nQWRVbml0Q29kZSkoZSkpLGZ1bmN0aW9uKGUpe3JldHVybiBlfSkuZ2V0U2xvdEVsZW1lbnRJZCgpfSh0KTp3aW5kb3cuYXBudGFnP2Z1bmN0aW9uKGUpe3ZhciB0PXdpbmRvdy5hcG50YWcuZ2V0VGFnKGUpO3JldHVybiB0JiZ0LnRhcmdldElkfSh0KTp0KSxyPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG4pO3JldHVybiByJiZyLnF1ZXJ5U2VsZWN0b3IoZSl9WyJkaXYiLCJpZnJhbWUiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWEoZSsnOm5vdChbc3R5bGUqPSJkaXNwbGF5OiBub25lIl0pJyk7aWYodCl7dmFyIG49dC5zdHlsZTtuLndpZHRoPXIrInB4IixuLmhlaWdodD1vKyJweCJ9ZWxzZSBPYmplY3QoeS5sb2dXYXJuKSgiVW5hYmxlIHRvIGxvY2F0ZSBtYXRjaGluZyBwYWdlIGVsZW1lbnQgZm9yIGFkVW5pdENvZGUgIi5jb25jYXQoaSwiLiAgQ2FuJ3QgcmVzaXplIGl0IHRvIGFkJ3MgZGltZW5zaW9ucy4gIFBsZWFzZSByZXZpZXcgc2V0dXAuIikpfSl9KHQpLHIucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoe21lc3NhZ2U6IlByZWJpZCBSZXNwb25zZSIsYWQ6T2JqZWN0KHkucmVwbGFjZUF1Y3Rpb25QcmljZSkobyxkKSxhZFVybDpPYmplY3QoeS5yZXBsYWNlQXVjdGlvblByaWNlKShhLGQpLGFkSWQ6aSx3aWR0aDpjLGhlaWdodDp1fSksbikpLGguYS5hZGRXaW5uaW5nQmlkKHApLGIuYS5lbWl0KEUscCkpLHAmJiJQcmViaWQgTmF0aXZlIj09PWwubWVzc2FnZSl7aWYoImFzc2V0UmVxdWVzdCI9PT1sLmFjdGlvbil7dmFyIGc9T2JqZWN0KHYuYykobCxwKTtyZXR1cm4gdm9pZCBlLnNvdXJjZS5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeShnKSxlLm9yaWdpbil9aWYoImNsaWNrIj09PU9iamVjdCh2LmIpKGwscCkpcmV0dXJuO2guYS5hZGRXaW5uaW5nQmlkKHApLGIuYS5lbWl0KEUscCl9fX19LDE3MTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlKXt2YXIgdDt0cnl7ZT1lfHx3aW5kb3cuc2Vzc2lvblN0b3JhZ2UsdD1KU09OLnBhcnNlKGUuZ2V0SXRlbSh1KSl9Y2F0Y2goZSl7fXQmJmYodCwhMCl9O3ZhciByPW4oMyksbz1uKDApLGk9big0NCk7ZnVuY3Rpb24gYSgpe3JldHVybihhPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGMsdT0idXBianM6ZGVidWdnaW5nIjtmdW5jdGlvbiBzKGUpe09iamVjdChvLmxvZ01lc3NhZ2UpKCJERUJVRzogIitlKX1mdW5jdGlvbiBkKCl7aS5jLmdldEhvb2tzKHtob29rOmN9KS5yZW1vdmUoKX1mdW5jdGlvbiBmKGUsdCl7dmFyIG49MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT10JiZ0O3IuYi5zZXRDb25maWcoe2RlYnVnOiEwfSkscygiYmlkZGVyIG92ZXJyaWRlcyBlbmFibGVkIi5jb25jYXQobj8iIGZyb20gc2Vzc2lvbiI6IiIpKSxkKCksYz1mdW5jdGlvbihlLHIsaSl7aWYoQXJyYXkuaXNBcnJheSh0aGlzLmJpZGRlcnMpJiYtMT09PXRoaXMuYmlkZGVycy5pbmRleE9mKGkuYmlkZGVyQ29kZSkpcmV0dXJuIHZvaWQgZnVuY3Rpb24oZSl7T2JqZWN0KG8ubG9nV2FybikoIkRFQlVHOiAiK2UpfSgiYmlkZGVyICciLmNvbmNhdChpLmJpZGRlckNvZGUsIicgZXhjbHVkZWQgZnJvbSBhdWN0aW9uIGJ5IGJpZGRlciBvdmVycmlkZXMiKSk7QXJyYXkuaXNBcnJheSh0aGlzLmJpZHMpJiZ0aGlzLmJpZHMuZm9yRWFjaChmdW5jdGlvbihuKXtuLmJpZGRlciYmbi5iaWRkZXIhPT1pLmJpZGRlckNvZGV8fG4uYWRVbml0Q29kZSYmbi5hZFVuaXRDb2RlIT09cnx8KGk9YSh7fSxpKSxPYmplY3Qua2V5cyhuKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT1bImJpZGRlciIsImFkVW5pdENvZGUiXS5pbmRleE9mKGUpfSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1uW2VdO3MoImJpZGRlciBvdmVycmlkZXMgY2hhbmdlZCAnIi5jb25jYXQociwiLyIpLmNvbmNhdChpLmJpZGRlckNvZGUsIicgYmlkLiIpLmNvbmNhdChlLCIgZnJvbSAnIikuY29uY2F0KGlbZV0sIicgdG8gJyIpLmNvbmNhdCh0LCInIikpLGlbZV09dH0pKX0pO2UocixpKX0uYmluZChlKSxpLmMuYmVmb3JlKGMsNSl9ZnVuY3Rpb24gbChlKXtpZihlLmVuYWJsZWQpe3RyeXt3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSh1LEpTT04uc3RyaW5naWZ5KGUpKX1jYXRjaChlKXt9ZihlKX1lbHNle2QoKSxzKCJiaWRkZXIgb3ZlcnJpZGVzIGRpc2FibGVkIik7dHJ5e3dpbmRvdy5zZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKHUpfWNhdGNoKGUpe319fXIuYi5nZXRDb25maWcoImRlYnVnZ2luZyIsZnVuY3Rpb24oZSl7cmV0dXJuIGwoZS5kZWJ1Z2dpbmcpfSl9LDE5OmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5leHBvcnRzPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOyJudW1iZXIiPT10eXBlb2YgX19nJiYoX19nPW4pfSwyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImMiLGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSxuLmQodCwiZCIsZnVuY3Rpb24oKXtyZXR1cm4gaX0pLG4uZCh0LCJiIixmdW5jdGlvbigpe3JldHVybiBvfSksbi5kKHQsImEiLGZ1bmN0aW9uKCl7cmV0dXJuIGF9KTt2YXIgcj0ibmF0aXZlIixpPSJ2aWRlbyIsbz0iYmFubmVyIixhPSJhZHBvZCJ9LDIwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI4KSxpPW4oODcpLG89big4OCksYT1PYmplY3QuZGVmaW5lUHJvcGVydHk7dC5mPW4oMjIpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihlLHQsbil7aWYocihlKSx0PW8odCwhMCkscihuKSxpKXRyeXtyZXR1cm4gYShlLHQsbil9Y2F0Y2goZSl7fWlmKCJnZXQiaW4gbnx8InNldCJpbiBuKXRocm93IFR5cGVFcnJvcigiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhIik7cmV0dXJuInZhbHVlImluIG4mJihlW3RdPW4udmFsdWUpLGV9fSwyMTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyMCksaT1uKDQ2KTtlLmV4cG9ydHM9bigyMik/ZnVuY3Rpb24oZSx0LG4pe3JldHVybiByLmYoZSx0LGkoMSxuKSl9OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZVt0XT1uLGV9fSwyMjpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPSFuKDM4KShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LDIzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyByKGUsdCl9O3ZhciBpPW4oMCk7ZnVuY3Rpb24gcihlLHQpe3ZhciBuPXQmJnQuc3JjfHwiY2xpZW50IixyPWV8fDA7dGhpcy5iaWRkZXJDb2RlPXQmJnQuYmlkZGVyfHwiIix0aGlzLndpZHRoPTAsdGhpcy5oZWlnaHQ9MCx0aGlzLnN0YXR1c01lc3NhZ2U9ZnVuY3Rpb24oKXtzd2l0Y2gocil7Y2FzZSAwOnJldHVybiJQZW5kaW5nIjtjYXNlIDE6cmV0dXJuIkJpZCBhdmFpbGFibGUiO2Nhc2UgMjpyZXR1cm4iQmlkIHJldHVybmVkIGVtcHR5IG9yIGVycm9yIHJlc3BvbnNlIjtjYXNlIDM6cmV0dXJuIkJpZCB0aW1lZCBvdXQifX0oKSx0aGlzLmFkSWQ9aS5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCksdGhpcy5yZXF1ZXN0SWQ9dCYmdC5iaWRJZCx0aGlzLm1lZGlhVHlwZT0iYmFubmVyIix0aGlzLnNvdXJjZT1uLHRoaXMuZ2V0U3RhdHVzQ29kZT1mdW5jdGlvbigpe3JldHVybiByfSx0aGlzLmdldFNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53aWR0aCsieCIrdGhpcy5oZWlnaHR9fX0sMjQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LnVwYmpzfSx3aW5kb3cudXBianM9d2luZG93LnVwYmpzfHx7fSx3aW5kb3cudXBianMuY21kPXdpbmRvdy51cGJqcy5jbWR8fFtdLHdpbmRvdy51cGJqcy5xdWU9d2luZG93LnVwYmpzLnF1ZXx8W10sd2luZG93Ll9wYmpzR2xvYmFscz13aW5kb3cuX3BianNHbG9iYWxzfHxbXSx3aW5kb3cuX3BianNHbG9iYWxzLnB1c2goInVwYmpzIil9LDI1OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLGZ1bmN0aW9uKCl7cmV0dXJuIHV9KTt2YXIgcj1uKDApLHM9big0NCksaT1uKDEyKSxvPW4ubihpKSxhPW4oNCk7dmFyIGQsYyx1PShkPVtdLChjPXt9KS5hZGRXaW5uaW5nQmlkPWZ1bmN0aW9uKHQpe3ZhciBlPW8oKShkLGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEF1Y3Rpb25JZCgpPT09dC5hdWN0aW9uSWR9KTtlP2UuYWRkV2lubmluZ0JpZCh0KTp1dGlscy5sb2dXYXJuKCJBdWN0aW9uIG5vdCBmb3VuZCB3aGVuIGFkZGluZyB3aW5uaW5nIGJpZCIpfSxjLmdldEFsbFdpbm5pbmdCaWRzPWZ1bmN0aW9uKCl7cmV0dXJuIGQubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFdpbm5pbmdCaWRzKCl9KS5yZWR1Y2Uoci5mbGF0dGVuLFtdKX0sYy5nZXRCaWRzUmVxdWVzdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIGQubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEJpZFJlcXVlc3RzKCl9KS5yZWR1Y2Uoci5mbGF0dGVuLFtdKX0sYy5nZXROb0JpZHM9ZnVuY3Rpb24oKXtyZXR1cm4gZC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0Tm9CaWRzKCl9KS5yZWR1Y2Uoci5mbGF0dGVuLFtdKX0sYy5nZXRCaWRzUmVjZWl2ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZC5tYXAoZnVuY3Rpb24oZSl7aWYoZS5nZXRBdWN0aW9uU3RhdHVzKCk9PT1zLmEpcmV0dXJuIGUuZ2V0Qmlkc1JlY2VpdmVkKCl9KS5yZWR1Y2Uoci5mbGF0dGVuLFtdKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KX0sYy5nZXRBZFVuaXRzPWZ1bmN0aW9uKCl7cmV0dXJuIGQubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEFkVW5pdHMoKX0pLnJlZHVjZShyLmZsYXR0ZW4sW10pfSxjLmdldEFkVW5pdENvZGVzPWZ1bmN0aW9uKCl7cmV0dXJuIGQubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEFkVW5pdENvZGVzKCl9KS5yZWR1Y2Uoci5mbGF0dGVuLFtdKS5maWx0ZXIoci51bmlxdWVzKX0sYy5jcmVhdGVBdWN0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5hZFVuaXRzLHI9ZS5hZFVuaXRDb2RlcyxpPWUuY2FsbGJhY2ssbz1lLmNiVGltZW91dCxhPWUubGFiZWxzLGM9ZS5hdWN0aW9uSWQsdT1PYmplY3Qocy5qKSh7YWRVbml0czpuLGFkVW5pdENvZGVzOnIsY2FsbGJhY2s6aSxjYlRpbWVvdXQ6byxsYWJlbHM6YSxhdWN0aW9uSWQ6Y30pO3JldHVybiB0PXUsZC5wdXNoKHQpLHV9LGMuZmluZEJpZEJ5QWRJZD1mdW5jdGlvbih0KXtyZXR1cm4gbygpKGQubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEJpZHNSZWNlaXZlZCgpfSkucmVkdWNlKHIuZmxhdHRlbixbXSksZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRJZD09PXR9KX0sYy5nZXRTdGFuZGFyZEJpZGRlckFkU2VydmVyVGFyZ2V0aW5nPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChzLmkpKClbYS5KU09OX01BUFBJTkcuQURTRVJWRVJfVEFSR0VUSU5HXX0sYy5zZXRTdGF0dXNGb3JCaWRzPWZ1bmN0aW9uKGUsdCl7dmFyIG49Yy5maW5kQmlkQnlBZElkKGUpO2lmKG4mJihuLnN0YXR1cz10KSxuJiZ0PT09YS5CSURfU1RBVFVTLkJJRF9UQVJHRVRJTkdfU0VUKXt2YXIgcj1vKCkoZCxmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdWN0aW9uSWQoKT09PW4uYXVjdGlvbklkfSk7ciYmci5zZXRCaWRUYXJnZXRpbmcobil9fSxjLmdldExhc3RBdWN0aW9uSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZC5sZW5ndGgmJmRbZC5sZW5ndGgtMV0uZ2V0QXVjdGlvbklkKCl9LGMpfSwyNjpmdW5jdGlvbihlLHQsbil7dmFyIG89big2MCk7ZS5leHBvcnRzPWZ1bmN0aW9uKHIsaSxlKXtpZihvKHIpLHZvaWQgMD09PWkpcmV0dXJuIHI7c3dpdGNoKGUpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHIuY2FsbChpLGUpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIuY2FsbChpLGUsdCl9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3JldHVybiByLmNhbGwoaSxlLHQsbil9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiByLmFwcGx5KGksYXJndW1lbnRzKX19fSwyNjg6ZnVuY3Rpb24oZSx0LG4pe24oMjY5KSxlLmV4cG9ydHM9bigxNikuU3RyaW5nLmluY2x1ZGVzfSwyNjk6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMjcwKSxvPSJpbmNsdWRlcyI7cihyLlArci5GKm4oMjcyKShvKSwiU3RyaW5nIix7aW5jbHVkZXM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4hIX5pKHRoaXMsZSxvKS5pbmRleE9mKGUsMTxhcmd1bWVudHMubGVuZ3RoP3Q6dm9pZCAwKX19KX0sMjc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiZSIsZnVuY3Rpb24oKXtyZXR1cm4gb30pLG4uZCh0LCJhIixmdW5jdGlvbigpe3JldHVybiBzfSksdC5nPWZ1bmN0aW9uKGUpe2lmKGUmJmUudHlwZSYmZnVuY3Rpb24oZSl7cmV0dXJuISghZXx8IWMoKShPYmplY3Qua2V5cyhkKSxlKSl8fChPYmplY3QoYS5sb2dFcnJvcikoIiIuY29uY2F0KGUsIiBuYXRpdmVQYXJhbSBpcyBub3Qgc3VwcG9ydGVkIikpLCExKX0oZS50eXBlKSlyZXR1cm4gZFtlLnR5cGVdO3JldHVybiBlfSx0LmY9ZnVuY3Rpb24odCxlKXt2YXIgbj1PYmplY3QoYS5nZXRCaWRSZXF1ZXN0KSh0LnJlcXVlc3RJZCxlKTtpZighbilyZXR1cm4hMTtpZighT2JqZWN0KGEuZGVlcEFjY2VzcykodCwibmF0aXZlLmNsaWNrVXJsIikpcmV0dXJuITE7aWYoT2JqZWN0KGEuZGVlcEFjY2VzcykodCwibmF0aXZlLmltYWdlIikmJighT2JqZWN0KGEuZGVlcEFjY2VzcykodCwibmF0aXZlLmltYWdlLmhlaWdodCIpfHwhT2JqZWN0KGEuZGVlcEFjY2VzcykodCwibmF0aXZlLmltYWdlLndpZHRoIikpKXJldHVybiExO2lmKE9iamVjdChhLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZS5pY29uIikmJighT2JqZWN0KGEuZGVlcEFjY2VzcykodCwibmF0aXZlLmljb24uaGVpZ2h0Iil8fCFPYmplY3QoYS5kZWVwQWNjZXNzKSh0LCJuYXRpdmUuaWNvbi53aWR0aCIpKSlyZXR1cm4hMTt2YXIgcj1uLm5hdGl2ZVBhcmFtcztpZighcilyZXR1cm4hMDt2YXIgaT1PYmplY3Qua2V5cyhyKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHJbZV0ucmVxdWlyZWR9KSxvPU9iamVjdC5rZXlzKHQubmF0aXZlKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHQubmF0aXZlW2VdfSk7cmV0dXJuIGkuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuIGMoKShvLGUpfSl9LHQuYj1mdW5jdGlvbihlLHQpe3ZhciBuOyJjbGljayI9PT1lLmFjdGlvbj9uPXQubmF0aXZlJiZ0Lm5hdGl2ZS5jbGlja1RyYWNrZXJzOihuPXQubmF0aXZlJiZ0Lm5hdGl2ZS5pbXByZXNzaW9uVHJhY2tlcnMsdC5uYXRpdmUmJnQubmF0aXZlLmphdmFzY3JpcHRUcmFja2VycyYmT2JqZWN0KGEuaW5zZXJ0SHRtbEludG9JZnJhbWUpKHQubmF0aXZlLmphdmFzY3JpcHRUcmFja2VycykpO3JldHVybihufHxbXSkuZm9yRWFjaChhLnRyaWdnZXJQaXhlbCksZS5hY3Rpb259LHQuZD1mdW5jdGlvbihyLGkpe3ZhciBvPXt9O3JldHVybiBPYmplY3Qua2V5cyhyLm5hdGl2ZSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD11Lk5BVElWRV9LRVlTW2VdLG49ZihyLm5hdGl2ZVtlXSk7T2JqZWN0KGEuZGVlcEFjY2VzcykoaSwibWVkaWFUeXBlcy5uYXRpdmUuIi5jb25jYXQoZSwiLnNlbmRJZCIpKSYmKG49IiIuY29uY2F0KHQsIjoiKS5jb25jYXQoci5hZElkKSk7dCYmbiYmKG9bdF09bil9KSxvfSx0LmM9ZnVuY3Rpb24oZSxyKXt2YXIgaT17bWVzc2FnZToiYXNzZXRSZXNwb25zZSIsYWRJZDplLmFkSWQsYXNzZXRzOltdfTtyZXR1cm4gZS5hc3NldHMuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1PYmplY3QoYS5nZXRLZXlCeVZhbHVlKSh1Lk5BVElWRV9LRVlTLGUpLG49ZihyLm5hdGl2ZVt0XSk7aS5hc3NldHMucHVzaCh7a2V5OnQsdmFsdWU6bn0pfSksaX07dmFyIGE9bigwKSxyPW4oMTEpLGM9bi5uKHIpO2Z1bmN0aW9uIGkoZSl7cmV0dXJuKGk9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgdT1uKDQpLG89W10scz1PYmplY3Qua2V5cyh1Lk5BVElWRV9LRVlTKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHUuTkFUSVZFX0tFWVNbZV19KSxkPXtpbWFnZTp7aW1hZ2U6e3JlcXVpcmVkOiEwfSx0aXRsZTp7cmVxdWlyZWQ6ITB9LHNwb25zb3JlZEJ5OntyZXF1aXJlZDohMH0sY2xpY2tVcmw6e3JlcXVpcmVkOiEwfSxib2R5OntyZXF1aXJlZDohMX0saWNvbjp7cmVxdWlyZWQ6ITF9fX07ZnVuY3Rpb24gZihlKXtyZXR1cm4ib2JqZWN0Ij09PWkoZSkmJmUudXJsP2UudXJsOmV9fSwyNzA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjcxKSxpPW4oNDApO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7aWYocih0KSl0aHJvdyBUeXBlRXJyb3IoIlN0cmluZyMiK24rIiBkb2Vzbid0IGFjY2VwdCByZWdleCEiKTtyZXR1cm4gU3RyaW5nKGkoZSkpfX0sMjcxOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE3KSxpPW4oMzkpLG89bigxNCkoIm1hdGNoIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiByKGUpJiYodm9pZCAwIT09KHQ9ZVtvXSk/ISF0OiJSZWdFeHAiPT1pKGUpKX19LDI3MjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNCkoIm1hdGNoIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBuPS8uLzt0cnl7Ii8uLyJbdF0obil9Y2F0Y2goZSl7dHJ5e3JldHVybiBuW3JdPSExLCEiLy4vIlt0XShuKX1jYXRjaChlKXt9fXJldHVybiEwfX0sMjg6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTcpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighcihlKSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhbiBvYmplY3QhIik7cmV0dXJuIGV9fSwyOTpmdW5jdGlvbihlLHQpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNhbGwoZSx0KX19LDM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsZnVuY3Rpb24oKXtyZXR1cm4geX0pLG4uZCh0LCJiIixmdW5jdGlvbigpe3JldHVybiB3fSk7dmFyIHI9big0NSksaT1uKDEyKSxhPW4ubihpKSxvPW4oMTEpLGM9bi5uKG8pLHU9big2Nikscz1uLm4odSksZD1uKDkpO2Z1bmN0aW9uIGYoKXtyZXR1cm4oZj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBsPW4oNzkpLHA9bigwKSxnPW4oNCksYj0iVFJVRSI9PT0oT2JqZWN0KGQuZCkod2luZG93LmxvY2F0aW9uLnNlYXJjaClbZy5ERUJVR19NT0RFXXx8IiIpLnRvVXBwZXJDYXNlKCksdj13aW5kb3cubG9jYXRpb24ub3JpZ2luLHk9InJhbmRvbSIsaD17fTtoW3ldPSEwLGguZml4ZWQ9ITA7dmFyIG09eSxTPXtMT1c6ImxvdyIsTUVESVVNOiJtZWRpdW0iLEhJR0g6ImhpZ2giLEFVVE86ImF1dG8iLERFTlNFOiJkZW5zZSIsQ1VTVE9NOiJjdXN0b20ifTt2YXIgRSxBLFQsTyxJLHc9KE89W10sST1udWxsLEMoKSx7Z2V0Q29uZmlnOmZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzLmxlbmd0aDw9MSYmImZ1bmN0aW9uIiE9dHlwZW9mKGFyZ3VtZW50cy5sZW5ndGg8PTA/dm9pZCAwOmFyZ3VtZW50c1swXSkpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTA/dm9pZCAwOmFyZ3VtZW50c1swXTtyZXR1cm4gZT9wLmRlZXBBY2Nlc3MoaigpLGUpOmooKX1yZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbj10O2lmKCJzdHJpbmciIT10eXBlb2YgZSYmKG49ZSxlPSIqIiksImZ1bmN0aW9uIj09dHlwZW9mIG4pe3ZhciByPXt0b3BpYzplLGNhbGxiYWNrOm59O3JldHVybiBPLnB1c2gociksZnVuY3Rpb24oKXtPLnNwbGljZShPLmluZGV4T2YociksMSl9fXAubG9nRXJyb3IoImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbiIpfS5hcHBseSh2b2lkIDAsYXJndW1lbnRzKX0sc2V0Q29uZmlnOmZ1bmN0aW9uKG4pe2lmKHAuaXNQbGFpbk9iamVjdChuKSl7dmFyIGU9T2JqZWN0LmtleXMobikscj17fTtlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bltlXTtwLmlzUGxhaW5PYmplY3QoRVtlXSkmJnAuaXNQbGFpbk9iamVjdCh0KSYmKHQ9Zih7fSxFW2VdLHQpKSxyW2VdPUFbZV09dH0pLF8ocil9ZWxzZSBwLmxvZ0Vycm9yKCJzZXRDb25maWcgb3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCIpfSxzZXREZWZhdWx0czpmdW5jdGlvbihlKXtwLmlzUGxhaW5PYmplY3QoRSk/KGYoRSxlKSxmKEEsZSkpOnAubG9nRXJyb3IoImRlZmF1bHRzIG11c3QgYmUgYW4gb2JqZWN0Iil9LHJlc2V0Q29uZmlnOkMscnVuV2l0aEJpZGRlcjpCLGNhbGxiYWNrV2l0aEJpZGRlcjpmdW5jdGlvbihvKXtyZXR1cm4gZnVuY3Rpb24oaSl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSh0KSxyPTA7cjx0O3IrKyluW3JdPWFyZ3VtZW50c1tyXTtyZXR1cm4gQihvLChlPXAuYmluZCkuY2FsbC5hcHBseShlLFtpLHRoaXNdLmNvbmNhdChuKSkpfX19LHNldEJpZGRlckNvbmZpZzpmdW5jdGlvbihyKXt0cnl7IWZ1bmN0aW9uKGUpe2lmKCFwLmlzUGxhaW5PYmplY3QoZSkpdGhyb3cic2V0QmlkZGVyQ29uZmlnIGJpZGRlciBvcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0IjtpZighQXJyYXkuaXNBcnJheShlLmJpZGRlcnMpfHwhZS5iaWRkZXJzLmxlbmd0aCl0aHJvdyJzZXRCaWRkZXJDb25maWcgYmlkZGVyIG9wdGlvbnMgbXVzdCBjb250YWluIGEgYmlkZGVycyBsaXN0IHdpdGggYXQgbGVhc3QgMSBiaWRkZXIiO2lmKCFwLmlzUGxhaW5PYmplY3QoZS5jb25maWcpKXRocm93InNldEJpZGRlckNvbmZpZyBiaWRkZXIgb3B0aW9ucyBtdXN0IGNvbnRhaW4gYSBjb25maWcgb2JqZWN0In0ociksci5iaWRkZXJzLmZvckVhY2goZnVuY3Rpb24obil7VFtuXXx8KFRbbl09e30pLE9iamVjdC5rZXlzKHIuY29uZmlnKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXIuY29uZmlnW2VdO3AuaXNQbGFpbk9iamVjdCh0KT9UW25dW2VdPWYoe30sVFtuXVtlXXx8e30sdCk6VFtuXVtlXT10fSl9KX1jYXRjaChlKXtwLmxvZ0Vycm9yKGUpfX0sZ2V0QmlkZGVyQ29uZmlnOmZ1bmN0aW9uKCl7cmV0dXJuIFR9fSk7ZnVuY3Rpb24gQygpe0U9e307dmFyIG49e19kZWJ1ZzpiLGdldCBkZWJ1Zygpe3JldHVybiB0aGlzLl9kZWJ1Z30sc2V0IGRlYnVnKGUpe3RoaXMuX2RlYnVnPWV9LF9iaWRkZXJUaW1lb3V0OjNlMyxnZXQgYmlkZGVyVGltZW91dCgpe3JldHVybiB0aGlzLl9iaWRkZXJUaW1lb3V0fSxzZXQgYmlkZGVyVGltZW91dChlKXt0aGlzLl9iaWRkZXJUaW1lb3V0PWV9LF9wdWJsaXNoZXJEb21haW46dixnZXQgcHVibGlzaGVyRG9tYWluKCl7cmV0dXJuIHRoaXMuX3B1Ymxpc2hlckRvbWFpbn0sc2V0IHB1Ymxpc2hlckRvbWFpbihlKXt0aGlzLl9wdWJsaXNoZXJEb21haW49ZX0sX3ByaWNlR3JhbnVsYXJpdHk6Uy5NRURJVU0sc2V0IHByaWNlR3JhbnVsYXJpdHkoZSl7byhlKSYmKCJzdHJpbmciPT10eXBlb2YgZT90aGlzLl9wcmljZUdyYW51bGFyaXR5PWkoZSk/ZTpTLk1FRElVTTpwLmlzUGxhaW5PYmplY3QoZSkmJih0aGlzLl9jdXN0b21QcmljZUJ1Y2tldD1lLHRoaXMuX3ByaWNlR3JhbnVsYXJpdHk9Uy5DVVNUT00scC5sb2dNZXNzYWdlKCJVc2luZyBjdXN0b20gcHJpY2UgZ3JhbnVsYXJpdHkiKSkpfSxnZXQgcHJpY2VHcmFudWxhcml0eSgpe3JldHVybiB0aGlzLl9wcmljZUdyYW51bGFyaXR5fSxfY3VzdG9tUHJpY2VCdWNrZXQ6e30sZ2V0IGN1c3RvbVByaWNlQnVja2V0KCl7cmV0dXJuIHRoaXMuX2N1c3RvbVByaWNlQnVja2V0fSxfbWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eTp7fSxnZXQgbWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eSgpe3JldHVybiB0aGlzLl9tZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5fSxzZXQgbWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eShuKXt2YXIgcj10aGlzO3RoaXMuX21lZGlhVHlwZVByaWNlR3JhbnVsYXJpdHk9T2JqZWN0LmtleXMobikucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8oblt0XSk/InN0cmluZyI9PXR5cGVvZiBuP2VbdF09aShuW3RdKT9uW3RdOnIuX3ByaWNlR3JhbnVsYXJpdHk6cC5pc1BsYWluT2JqZWN0KG4pJiYoZVt0XT1uW3RdLHAubG9nTWVzc2FnZSgiVXNpbmcgY3VzdG9tIHByaWNlIGdyYW51bGFyaXR5IGZvciAiLmNvbmNhdCh0KSkpOnAubG9nV2FybigiSW52YWxpZCBwcmljZSBncmFudWxhcml0eSBmb3IgbWVkaWEgdHlwZTogIi5jb25jYXQodCkpLGV9LHt9KX0sX3NlbmRBbGxCaWRzOiEwLGdldCBlbmFibGVTZW5kQWxsQmlkcygpe3JldHVybiB0aGlzLl9zZW5kQWxsQmlkc30sc2V0IGVuYWJsZVNlbmRBbGxCaWRzKGUpe3RoaXMuX3NlbmRBbGxCaWRzPWV9LF91c2VCaWRDYWNoZTohMSxnZXQgdXNlQmlkQ2FjaGUoKXtyZXR1cm4gdGhpcy5fdXNlQmlkQ2FjaGV9LHNldCB1c2VCaWRDYWNoZShlKXt0aGlzLl91c2VCaWRDYWNoZT1lfSxfYmlkZGVyU2VxdWVuY2U6bSxnZXQgYmlkZGVyU2VxdWVuY2UoKXtyZXR1cm4gdGhpcy5fYmlkZGVyU2VxdWVuY2V9LHNldCBiaWRkZXJTZXF1ZW5jZShlKXtoW2VdP3RoaXMuX2JpZGRlclNlcXVlbmNlPWU6cC5sb2dXYXJuKCJJbnZhbGlkIG9yZGVyOiAiLmNvbmNhdChlLCIuIEJpZGRlciBTZXF1ZW5jZSB3YXMgbm90IHNldC4iKSl9LF90aW1lb3V0QnVmZmVyOjQwMCxnZXQgdGltZW91dEJ1ZmZlcigpe3JldHVybiB0aGlzLl90aW1lb3V0QnVmZmVyfSxzZXQgdGltZW91dEJ1ZmZlcihlKXt0aGlzLl90aW1lb3V0QnVmZmVyPWV9LF9kaXNhYmxlQWpheFRpbWVvdXQ6ITEsZ2V0IGRpc2FibGVBamF4VGltZW91dCgpe3JldHVybiB0aGlzLl9kaXNhYmxlQWpheFRpbWVvdXR9LHNldCBkaXNhYmxlQWpheFRpbWVvdXQoZSl7dGhpcy5fZGlzYWJsZUFqYXhUaW1lb3V0PWV9fTtmdW5jdGlvbiBpKHQpe3JldHVybiBhKCkoT2JqZWN0LmtleXMoUyksZnVuY3Rpb24oZSl7cmV0dXJuIHQ9PT1TW2VdfSl9ZnVuY3Rpb24gbyhlKXtpZighZSlyZXR1cm4gcC5sb2dFcnJvcigiUHJlYmlkIEVycm9yOiBubyB2YWx1ZSBwYXNzZWQgdG8gYHNldFByaWNlR3JhbnVsYXJpdHkoKWAiKSwhMTtpZigic3RyaW5nIj09dHlwZW9mIGUpaShlKXx8cC5sb2dXYXJuKCJQcmViaWQgV2FybmluZzogc2V0UHJpY2VHcmFudWxhcml0eSB3YXMgY2FsbGVkIHdpdGggaW52YWxpZCBzZXR0aW5nLCB1c2luZyBgbWVkaXVtYCBhcyBkZWZhdWx0LiIpO2Vsc2UgaWYocC5pc1BsYWluT2JqZWN0KGUpJiYhT2JqZWN0KHIuYikoZSkpcmV0dXJuIHAubG9nRXJyb3IoIkludmFsaWQgY3VzdG9tIHByaWNlIHZhbHVlIHBhc3NlZCB0byBgc2V0UHJpY2VHcmFudWxhcml0eSgpYCIpLCExO3JldHVybiEwfUEmJl8oT2JqZWN0LmtleXMoQSkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIEFbdF0hPT1uW3RdJiYoZVt0XT1uW3RdfHx7fSksZX0se30pKSxBPW4sVD17fX1mdW5jdGlvbiBqKCl7aWYoSSYmVCYmcC5pc1BsYWluT2JqZWN0KFRbSV0pKXt2YXIgbj1UW0ldLGU9bmV3IHMuYShPYmplY3Qua2V5cyhBKS5jb25jYXQoT2JqZWN0LmtleXMobikpKTtyZXR1cm4gbChlKS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09blt0XT9lW3RdPUFbdF06dm9pZCAwPT09QVt0XT9lW3RdPW5bdF06cC5pc1BsYWluT2JqZWN0KG5bdF0pP2VbdF09Zih7fSxBW3RdLG5bdF0pOmVbdF09blt0XSxlfSx7fSl9cmV0dXJuIGYoe30sQSl9ZnVuY3Rpb24gXyhpKXt2YXIgdD1PYmplY3Qua2V5cyhpKTtPLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gYygpKHQsZS50b3BpYyl9KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0LG4scjtlLmNhbGxiYWNrKCh0PXt9LG49ZS50b3BpYyxyPWlbZS50b3BpY10sbiBpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W25dPXIsdCkpfSksTy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIioiPT09ZS50b3BpY30pLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2FsbGJhY2soaSl9KX1mdW5jdGlvbiBCKGUsdCl7ST1lO3RyeXtyZXR1cm4gdCgpfWZpbmFsbHl7ST1udWxsfX19LDMwOmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXt9fSwzMTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYj1mdW5jdGlvbihlKXtpLnB1c2goZSl9LHQuYz1mdW5jdGlvbih0KXt0cnl7dmFyIG49dDtyZXR1cm4gaS5mb3JFYWNoKGZ1bmN0aW9uKGUpe249ZShuKX0pLG59Y2F0Y2goZSl7cmV0dXJuIHR9fSx0LmE9ZnVuY3Rpb24oKXtyZXR1cm4gcn0sdC5kPWZ1bmN0aW9uKGUpe2UmJiJJRlJBTUUiPT09ZS50YWdOYW1lJiYocj1lKX07dmFyIHIsaT1bXX0sMzI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9cixuLmQodCwiYiIsZnVuY3Rpb24oKXtyZXR1cm4gaX0pO3ZhciBjPW4oMCk7ZnVuY3Rpb24gdSgpe3JldHVybih1PU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcihpKXtmdW5jdGlvbiBvKCl7dmFyIGU9ZnVuY3Rpb24oKXt2YXIgdCxuPVtdO2Rve3RyeXt0PXQ/dC5wYXJlbnQ6aTt0cnl7dmFyIGU9dD09aS50b3Ascj17cmVmZXJyZXI6dC5kb2N1bWVudC5yZWZlcnJlcnx8bnVsbCxsb2NhdGlvbjp0LmxvY2F0aW9uLmhyZWZ8fG51bGwsaXNUb3A6ZX07ZSYmKHI9dShyLHtjYW5vbmljYWxVcmw6YSh0LmRvY3VtZW50KX0pKSxuLnB1c2gocil9Y2F0Y2goZSl7bi5wdXNoKHtyZWZlcnJlcjpudWxsLGxvY2F0aW9uOm51bGwsaXNUb3A6dD09aS50b3B9KSxPYmplY3QoYy5sb2dXYXJuKSgiVHJ5aW5nIHRvIGFjY2VzcyBjcm9zcyBkb21haW4gaWZyYW1lLiBDb250aW51aW5nIHdpdGhvdXQgcmVmZXJyZXIgYW5kIGxvY2F0aW9uIil9fWNhdGNoKGUpe3JldHVybiBuLnB1c2goe3JlZmVycmVyOm51bGwsbG9jYXRpb246bnVsbCxpc1RvcDohMX0pLG59fXdoaWxlKHQhPWkudG9wKTtyZXR1cm4gbn0oKSx0PWZ1bmN0aW9uKCl7dHJ5e2lmKCFpLmxvY2F0aW9uLmFuY2VzdG9yT3JpZ2lucylyZXR1cm47cmV0dXJuIGkubG9jYXRpb24uYW5jZXN0b3JPcmlnaW5zfWNhdGNoKGUpe319KCk7aWYodClmb3IodmFyIG49MCxyPXQubGVuZ3RoO248cjtuKyspZVtuXS5hbmNlc3Rvcj10W25dO3JldHVybiBlfWZ1bmN0aW9uIGEoZSl7dHJ5e3ZhciB0PWUucXVlcnlTZWxlY3RvcigibGlua1tyZWw9J2Nhbm9uaWNhbCddIik7aWYobnVsbCE9PXQpcmV0dXJuIHQuaHJlZn1jYXRjaChlKXt9cmV0dXJuIG51bGx9cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3ZhciBlLHQ9bygpLG49dC5sZW5ndGgtMSxyPW51bGwhPT10W25dLmxvY2F0aW9ufHwwPG4mJm51bGwhPT10W24tMV0ucmVmZXJyZXIsaT1mdW5jdGlvbihlKXt2YXIgdCxuPVtdLHI9bnVsbCxpPW51bGwsbz1udWxsLGE9bnVsbCxjPW51bGw7Zm9yKHQ9ZS5sZW5ndGgtMTswPD10O3QtLSl7dHJ5e3I9ZVt0XS5sb2NhdGlvbn1jYXRjaChlKXt9aWYociluLnB1c2gociksYz1jfHxyO2Vsc2UgaWYoMCE9PXQpe2k9ZVt0LTFdO3RyeXtvPWkucmVmZXJyZXIsYT1pLmFuY2VzdG9yfWNhdGNoKGUpe31vPyhuLnB1c2gobyksYz1jfHxvKTphPyhuLnB1c2goYSksYz1jfHxhKTpuLnB1c2gobnVsbCl9ZWxzZSBuLnB1c2gobnVsbCl9cmV0dXJue3N0YWNrOm4sZGV0ZWN0ZWRSZWZlcmVyVXJsOmN9fSh0KTtyZXR1cm4gdFt0Lmxlbmd0aC0xXS5jYW5vbmljYWxVcmwmJihlPXRbdC5sZW5ndGgtMV0uY2Fub25pY2FsVXJsKSx7cmVmZXJlcjppLmRldGVjdGVkUmVmZXJlclVybCxyZWFjaGVkVG9wOnIsbnVtSWZyYW1lczpuLHN0YWNrOmkuc3RhY2ssY2Fub25pY2FsVXJsOmV9fWNhdGNoKGUpe319fXZhciBpPXIod2luZG93KX0sMzM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsZnVuY3Rpb24oKXtyZXR1cm4geX0pO3ZhciBhPW4oMCkscj1uKDMpLGk9bigxMSksbz1uLm4oaSk7ZnVuY3Rpb24gYyhlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXtpZighKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSl8fCJbb2JqZWN0IEFyZ3VtZW50c10iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKSlyZXR1cm47dmFyIG49W10scj0hMCxpPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIGEsYz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KGE9Yy5uZXh0KCkpLmRvbmUpJiYobi5wdXNoKGEudmFsdWUpLCF0fHxuLmxlbmd0aCE9PXQpO3I9ITApO31jYXRjaChlKXtpPSEwLG89ZX1maW5hbGx5e3RyeXtyfHxudWxsPT1jLnJldHVybnx8Yy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgb319cmV0dXJuIG59KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpfSgpfWZ1bmN0aW9uIHUoKXtyZXR1cm4odT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXIuYi5zZXREZWZhdWx0cyh7dXNlclN5bmM6e3N5bmNFbmFibGVkOiEwLHBpeGVsRW5hYmxlZDohMCxzeW5jc1BlckJpZGRlcjo1LHN5bmNEZWxheTozZTMsYXVjdGlvbkRlbGF5OjB9fSk7dmFyIHMsZCxmLGwscCxnLGIsdj0hYS5pc1NhZmFyaUJyb3dzZXIoKSYmYS5jb29raWVzQXJlRW5hYmxlZCgpLHk9KHM9e2NvbmZpZzpyLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYyIpLGJyb3dzZXJTdXBwb3J0c0Nvb2tpZXM6dn0sZD17fSxmPWgoKSxsPW5ldyBTZXQsZz17aW1hZ2U6IShwPXt9KSxpZnJhbWU6ITF9LGI9cy5jb25maWcsci5iLmdldENvbmZpZygidXNlclN5bmMiLGZ1bmN0aW9uKGUpe2I9dShiLGUudXNlclN5bmMpfSksZC5yZWdpc3RlclN5bmM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBsLmhhcyh0KT9hLmxvZ01lc3NhZ2UoJ2FscmVhZHkgZmlyZWQgc3luY3MgZm9yICInLmNvbmNhdCh0LCciLCBpZ25vcmluZyByZWdpc3RlclN5bmMgY2FsbCcpKTpiLnN5bmNFbmFibGVkJiZhLmlzQXJyYXkoZltlXSk/dD8wIT09Yi5zeW5jc1BlckJpZGRlciYmTnVtYmVyKHBbdF0pPj1iLnN5bmNzUGVyQmlkZGVyP2EubG9nV2FybignTnVtYmVyIG9mIHVzZXIgc3luY3MgZXhjZWVkZWQgZm9yICInLmNvbmNhdCh0LCciJykpOmQuY2FuQmlkZGVyUmVnaXN0ZXJTeW5jKGUsdCk/KGZbZV0ucHVzaChbdCxuXSksKHI9cClbaT10XT9yW2ldKz0xOnJbaV09MSx2b2lkKHA9cikpOmEubG9nV2FybignQmlkZGVyICInLmNvbmNhdCh0LCciIG5vdCBwZXJtaXR0ZWQgdG8gcmVnaXN0ZXIgdGhlaXIgIicpLmNvbmNhdChlLCciIHVzZXJTeW5jIHBpeGVscy4nKSk6YS5sb2dXYXJuKCJCaWRkZXIgaXMgcmVxdWlyZWQgZm9yIHJlZ2lzdGVyaW5nIHN5bmMiKTphLmxvZ1dhcm4oJ1VzZXIgc3luYyB0eXBlICInLmNvbmNhdChlLCciIG5vdCBzdXBwb3J0ZWQnKSk7dmFyIHIsaX0sZC5zeW5jVXNlcnM9ZnVuY3Rpb24oKXt2YXIgZT0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MDtpZihlKXJldHVybiBzZXRUaW1lb3V0KG0sTnVtYmVyKGUpKTttKCl9LGQudHJpZ2dlclVzZXJTeW5jcz1mdW5jdGlvbigpe2IuZW5hYmxlT3ZlcnJpZGUmJmQuc3luY1VzZXJzKCl9LGQuY2FuQmlkZGVyUmVnaXN0ZXJTeW5jPWZ1bmN0aW9uKGUsdCl7aWYoYi5maWx0ZXJTZXR0aW5ncyl7aWYoRShlLHQpKXJldHVybiExfWVsc2V7aWYoYi5lbmFibGVkQmlkZGVycyYmYi5lbmFibGVkQmlkZGVycy5sZW5ndGgmJmIuZW5hYmxlZEJpZGRlcnMuaW5kZXhPZih0KTwwKXJldHVybiExO2lmKCJpZnJhbWUiPT09ZSYmIWIuaWZyYW1lRW5hYmxlZCYmIWcuaWZyYW1lKXJldHVybiExO2lmKCJpbWFnZSI9PT1lJiYhYi5waXhlbEVuYWJsZWQmJiFnLmltYWdlKXJldHVybiExfXJldHVybiEwfSxkKTtmdW5jdGlvbiBoKCl7cmV0dXJue2ltYWdlOltdLGlmcmFtZTpbXX19ZnVuY3Rpb24gbSgpe2lmKGIuc3luY0VuYWJsZWQmJnMuYnJvd3NlclN1cHBvcnRzQ29va2llcyl7dHJ5eyFmdW5jdGlvbigpe2lmKCFiLnBpeGVsRW5hYmxlZCYmIWcuaW1hZ2UpcmV0dXJuO1MoZi5pbWFnZSxmdW5jdGlvbihlKXt2YXIgdD1jKGUsMiksbj10WzBdLHI9dFsxXTthLmxvZ01lc3NhZ2UoIkludm9raW5nIGltYWdlIHBpeGVsIHVzZXIgc3luYyBmb3IgYmlkZGVyOiAiLmNvbmNhdChuKSksYS50cmlnZ2VyUGl4ZWwocil9KX0oKSxmdW5jdGlvbigpe2lmKCFiLmlmcmFtZUVuYWJsZWQmJiFnLmlmcmFtZSlyZXR1cm47UyhmLmlmcmFtZSxmdW5jdGlvbihlKXt2YXIgdD1jKGUsMiksbj10WzBdLHI9dFsxXTthLmxvZ01lc3NhZ2UoIkludm9raW5nIGlmcmFtZSB1c2VyIHN5bmMgZm9yIGJpZGRlcjogIi5jb25jYXQobikpLGEuaW5zZXJ0VXNlclN5bmNJZnJhbWUocil9KX0oKX1jYXRjaChlKXtyZXR1cm4gYS5sb2dFcnJvcigiRXJyb3IgZmlyaW5nIHVzZXIgc3luY3MiLGUpfWY9aCgpfX1mdW5jdGlvbiBTKGUsdCl7YS5zaHVmZmxlKGUpLmZvckVhY2goZnVuY3Rpb24oZSl7dChlKSxsLmFkZChlWzBdKX0pfWZ1bmN0aW9uIEUoZSx0KXt2YXIgbj1iLmZpbHRlclNldHRpbmdzO2lmKGZ1bmN0aW9uKGUsdCl7aWYoZS5hbGwmJmVbdF0pcmV0dXJuIGEubG9nV2FybignRGV0ZWN0ZWQgcHJlc2VuY2Ugb2YgdGhlICJmaWx0ZXJTZXR0aW5ncy5hbGwiIGFuZCAiZmlsdGVyU2V0dGluZ3MuJy5jb25jYXQodCwnIiBpbiB1c2VyU3luYyBjb25maWcuICBZb3UgY2Fubm90IG1peCAiYWxsIiB3aXRoICJpZnJhbWUvaW1hZ2UiIGNvbmZpZ3M7IHRoZXkgYXJlIG11dHVhbGx5IGV4Y2x1c2l2ZS4nKSksITE7dmFyIG49ZS5hbGw/ZS5hbGw6ZVt0XSxyPWUuYWxsPyJhbGwiOnQ7aWYoIW4pcmV0dXJuITE7dmFyIGk9bi5maWx0ZXIsbz1uLmJpZGRlcnM7aWYoaSYmImluY2x1ZGUiIT09aSYmImV4Y2x1ZGUiIT09aSlyZXR1cm4gYS5sb2dXYXJuKCdVc2VyU3luYyAiZmlsdGVyU2V0dGluZ3MuJy5jb25jYXQociwiLmZpbHRlclwiIHNldHRpbmcgJyIpLmNvbmNhdChpLCInIGlzIG5vdCBhIHZhbGlkIG9wdGlvbjsgdXNlIGVpdGhlciAnaW5jbHVkZScgb3IgJ2V4Y2x1ZGUnLiIpKSwhMTtyZXR1cm4hISgiKiI9PT1vfHxBcnJheS5pc0FycmF5KG8pJiYwPG8ubGVuZ3RoJiZvLmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybiBhLmlzU3RyKGUpJiYiKiIhPT1lfSkpfHwoYS5sb2dXYXJuKCdEZXRlY3RlZCBhbiBpbnZhbGlkIHNldHVwIGluIHVzZXJTeW5jICJmaWx0ZXJTZXR0aW5ncy4nLmNvbmNhdChyLCIuYmlkZGVyc1wiOyB1c2UgZWl0aGVyICcqJyAodG8gcmVwcmVzZW50IGFsbCBiaWRkZXJzKSBvciBhbiBhcnJheSBvZiBiaWRkZXJzLiIpKSwhMSl9KG4sZSkpe2dbZV09ITA7dmFyIHI9bi5hbGw/bi5hbGw6bltlXSxpPSIqIj09PXIuYmlkZGVycz9bdF06ci5iaWRkZXJzO3JldHVybntpbmNsdWRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIW8oKShlLHQpfSxleGNsdWRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8oKShlLHQpfX1bci5maWx0ZXJ8fCJpbmNsdWRlIl0oaSx0KX1yZXR1cm4hMX19LDM0OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImIiLGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSxuLmQodCwiYSIsZnVuY3Rpb24oKXtyZXR1cm4gdX0pLHQuZD1mdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdChvLmdldEJpZFJlcXVlc3QpKGUucmVxdWVzdElkLHQpLHI9biYmT2JqZWN0KG8uZGVlcEFjY2VzcykobiwibWVkaWFUeXBlcy52aWRlbyIpLGk9ciYmT2JqZWN0KG8uZGVlcEFjY2VzcykociwiY29udGV4dCIpO3JldHVybiBzKGUsbixyLGkpfSxuLmQodCwiYyIsZnVuY3Rpb24oKXtyZXR1cm4gc30pO24oNyk7dmFyIG89bigwKSxpPW4oMykscj1uKDExKSxhPShuLm4ociksbigxMykpLGM9Im91dHN0cmVhbSIsdT0iaW5zdHJlYW0iO3ZhciBzPU9iamVjdChhLmIpKCJzeW5jIixmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4hdHx8biYmciE9PWM/aS5iLmdldENvbmZpZygiY2FjaGUudXJsIil8fCFlLnZhc3RYbWx8fGUudmFzdFVybD8hKCFlLnZhc3RVcmwmJiFlLnZhc3RYbWwpOihPYmplY3Qoby5sb2dFcnJvcikoJ1xuICAgICAgICBUaGlzIGJpZCBjb250YWlucyBvbmx5IHZhc3RYbWwgYW5kIHdpbGwgbm90IHdvcmsgd2hlbiBhIHByZWJpZCBjYWNoZSB1cmwgaXMgbm90IHNwZWNpZmllZC5cbiAgICAgICAgVHJ5IGVuYWJsaW5nIHByZWJpZCBjYWNoZSB3aXRoIHVwYmpzLnNldENvbmZpZyh7IGNhY2hlOiB7dXJsOiAiLi4uIn0gfSk7XG4gICAgICAnKSwhMSk6ciE9PWN8fCEoIWUucmVuZGVyZXImJiF0LnJlbmRlcmVyKX0sImNoZWNrVmlkZW9CaWRTZXR1cCIpfSwzNTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlLHQpe2lmKCF0fHwhZSlyZXR1cm4gdm9pZCBvLmxvZ0Vycm9yKCJjYW5ub3QgbG9hZCBleHRlcm5hbCBzY3JpcHQgd2l0aG91dCB1cmwgYW5kIG1vZHVsZUNvZGUiKTtpZighaSgpKHUsdCkpcmV0dXJuIHZvaWQgby5sb2dFcnJvcigiIi5jb25jYXQodCwiIG5vdCB3aGl0ZWxpc3RlZCBmb3IgbG9hZGluZyBleHRlcm5hbCBKYXZhU2NyaXB0IikpO2lmKGNbZV0pcmV0dXJuO2U9YS5jKGUpLG8ubG9nV2FybigibW9kdWxlICIuY29uY2F0KHQsIiBpcyBsb2FkaW5nIGV4dGVybmFsIEphdmFTY3JpcHQiKSk7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7bi50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiLG4uYXN5bmM9ITAsbi5zcmM9ZSxvLmluc2VydEVsZW1lbnQobiksY1tlXT0hMH0sdC5iPWZ1bmN0aW9uKGUsdCxuKXtpZighdHx8IWUpcmV0dXJuIHZvaWQgby5sb2dFcnJvcigiY2Fubm90IGxvYWQgZXh0ZXJuYWwgc2NyaXB0IHdpdGhvdXQgdXJsIGFuZCBtb2R1bGVDb2RlIik7aWYoIWkoKSh1LHQpKXJldHVybiB2b2lkIG8ubG9nRXJyb3IoIiIuY29uY2F0KHQsIiBub3Qgd2hpdGVsaXN0ZWQgZm9yIGxvYWRpbmcgZXh0ZXJuYWwgSmF2YVNjcmlwdCIpKTtpZihjW2VdKXJldHVybiB2b2lkIG4oKTtlPWEuYyhlKSxvLmxvZ1dhcm4oIm1vZHVsZSAiLmNvbmNhdCh0LCIgaXMgbG9hZGluZyBleHRlcm5hbCBKYXZhU2NyaXB0IikpO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO3IudHlwZT0idGV4dC9qYXZhc2NyaXB0IixyLmFzeW5jPSEwLHIuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsbiksci5zcmM9ZSxvLmluc2VydEVsZW1lbnQociksY1tlXT0hMH0sdC5jPWZ1bmN0aW9uKHQsZSxuKXtpZighdClyZXR1cm4gdm9pZCBvLmxvZ0Vycm9yKCJFcnJvciBhdHRlbXB0aW5nIHRvIHJlcXVlc3QgZW1wdHkgVVJMIiwiYWRsb2FkZXIuanM6bG9hZFNjcmlwdCIpO24/Y1t0XT9lJiYiZnVuY3Rpb24iPT10eXBlb2YgZSYmKGNbdF0ubG9hZGVkP2UoKTpjW3RdLmNhbGxiYWNrcy5wdXNoKGUpKTooY1t0XT17bG9hZGVkOiExLGNhbGxiYWNrczpbXX0sZSYmImZ1bmN0aW9uIj09dHlwZW9mIGUmJmNbdF0uY2FsbGJhY2tzLnB1c2goZSkscyh0LGZ1bmN0aW9uKCl7Y1t0XS5sb2FkZWQ9ITA7dHJ5e2Zvcih2YXIgZT0wO2U8Y1t0XS5jYWxsYmFja3MubGVuZ3RoO2UrKyljW3RdLmNhbGxiYWNrc1tlXSgpfWNhdGNoKGUpe28ubG9nRXJyb3IoIkVycm9yIGV4ZWN1dGluZyBjYWxsYmFjayIsImFkbG9hZGVyLmpzOmxvYWRTY3JpcHQiLGUpfX0pKTpzKHQsZSl9O3ZhciByPW4oMTEpLGk9bi5uKHIpLG89bigwKSxhPW4oMzEpLGM9e30sdT1bImNyaXRlbyIsImFkYWdpbyIsIm50diJdO2Z1bmN0aW9uIHMoZSx0KXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtuLnR5cGU9InRleHQvamF2YXNjcmlwdCIsbi5hc3luYz0hMCx0JiYiZnVuY3Rpb24iPT10eXBlb2YgdCYmKG4ucmVhZHlTdGF0ZT9uLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpeyJsb2FkZWQiIT09bi5yZWFkeVN0YXRlJiYiY29tcGxldGUiIT09bi5yZWFkeVN0YXRlfHwobi5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCx0KCkpfTpuLm9ubG9hZD1mdW5jdGlvbigpe3QoKX0pLG4uc3JjPWU7dmFyIHI9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKTsocj1yLmxlbmd0aD9yOmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IikpLmxlbmd0aCYmKHI9clswXSkuaW5zZXJ0QmVmb3JlKG4sci5maXJzdENoaWxkKX19LDM2OmZ1bmN0aW9uKGUsdCxuKXtuKDE2NyksZS5leHBvcnRzPW4oMTYpLkFycmF5LmZpbmRJbmRleH0sMzc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9QyxuLmQodCwiYiIsZnVuY3Rpb24oKXtyZXR1cm4gbH0pO3ZhciB5PW4oMCksaD1uKDMpLG09bigyNykscj1uKDI1KSxpPW4oODApLG89bigyKSxhPW4oMTEpLFM9bi5uKGEpO2Z1bmN0aW9uIEUoKXtyZXR1cm4oRT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEEoZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIFQoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgdD0wLG49bmV3IEFycmF5KGUubGVuZ3RoKTt0PGUubGVuZ3RoO3QrKyluW3RdPWVbdF07cmV0dXJuIG59fShlKXx8ZnVuY3Rpb24oZSl7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKXx8IltvYmplY3QgQXJndW1lbnRzXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9KCl9dmFyIGM9bigwKSxPPW4oNCksST1bXSx3PU9iamVjdC5rZXlzKE8uVEFSR0VUSU5HX0tFWVMpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gTy5UQVJHRVRJTkdfS0VZU1tlXX0pLHU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVzcG9uc2VUaW1lc3RhbXArMWUzKmUudHRsKzFlMz5PYmplY3QoeS50aW1lc3RhbXApKCl9LHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJihlLnN0YXR1cyYmIVMoKShbTy5CSURfU1RBVFVTLkJJRF9UQVJHRVRJTkdfU0VULE8uQklEX1NUQVRVUy5SRU5ERVJFRF0sZS5zdGF0dXMpfHwhZS5zdGF0dXMpfTtmdW5jdGlvbiBDKGUscil7dmFyIGk9Mjxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjAsbz1bXSxhPU9iamVjdCh5Lmdyb3VwQnkpKGUsImFkVW5pdENvZGUiKTtyZXR1cm4gT2JqZWN0LmtleXMoYSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1bXSxuPU9iamVjdCh5Lmdyb3VwQnkpKGFbZV0sImJpZGRlckNvZGUiKTtPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiB0LnB1c2gobltlXS5yZWR1Y2UocikpfSksMDxpPyh0LnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5jcG0tZS5jcG19KSxvLnB1c2guYXBwbHkobyxUKHQuc2xpY2UoMCxpKSkpKTpvLnB1c2guYXBwbHkobyx0KX0pLG99ZnVuY3Rpb24gaihlLHQpe3JldHVybiB2b2lkIDAhPT1lLmFkVW5pdFRhcmdldGluZy5oYl9kZWFsJiZ2b2lkIDA9PT10LmFkVW5pdFRhcmdldGluZy5oYl9kZWFsPy0xOnZvaWQgMD09PWUuYWRVbml0VGFyZ2V0aW5nLmhiX2RlYWwmJnZvaWQgMCE9PXQuYWRVbml0VGFyZ2V0aW5nLmhiX2RlYWw/MTp0LmFkVW5pdFRhcmdldGluZy5oYl9wYi1lLmFkVW5pdFRhcmdldGluZy5oYl9wYn12YXIgZCxfLGYsbD0oZD1yLmEsZj17fSwoXz17fSkuc2V0TGF0ZXN0QXVjdGlvbkZvckFkVW5pdD1mdW5jdGlvbihlLHQpe2ZbZV09dH0sXy5yZXNldFByZXNldFRhcmdldGluZz1mdW5jdGlvbihlKXtpZihPYmplY3QoeS5pc0dwdFB1YmFkc0RlZmluZWQpKCkpe3ZhciB0PVUoZSkscj1kLmdldEFkVW5pdHMoKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIFMoKSh0LGUuY29kZSl9KTt3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLmdldFNsb3RzKCkuZm9yRWFjaChmdW5jdGlvbihuKXtJLmZvckVhY2goZnVuY3Rpb24odCl7ci5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuY29kZSE9PW4uZ2V0QWRVbml0UGF0aCgpJiZlLmNvZGUhPT1uLmdldFNsb3RFbGVtZW50SWQoKXx8bi5zZXRUYXJnZXRpbmcodCxudWxsKX0pfSl9KX19LF8ucmVzZXRQcmVzZXRUYXJnZXRpbmdBU1Q9ZnVuY3Rpb24oZSl7VShlKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXdpbmRvdy5hcG50YWcuZ2V0VGFnKGUpO2lmKHQmJnQua2V5d29yZHMpe3ZhciBuPU9iamVjdC5rZXlzKHQua2V5d29yZHMpLHI9e307bi5mb3JFYWNoKGZ1bmN0aW9uKGUpe1MoKShJLGUudG9Mb3dlckNhc2UoKSl8fChyW2VdPXQua2V5d29yZHNbZV0pfSksd2luZG93LmFwbnRhZy5tb2RpZnlUYWcoZSx7a2V5d29yZHM6cn0pfX0pfSxfLmdldEFsbFRhcmdldGluZz1mdW5jdGlvbihlLHQpe3Q9dHx8UigpO3ZhciBuLHIsaSxvLGEsYyx1LHMsZCxmPVUoZSksbD0oYz1mLHU9dCxzPV8uZ2V0V2lubmluZ0JpZHMoYyx1KSxkPXgoKSxzPXMubWFwKGZ1bmN0aW9uKG8pe3JldHVybiBBKHt9LG8uYWRVbml0Q29kZSxPYmplY3Qua2V5cyhvLmFkc2VydmVyVGFyZ2V0aW5nKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PW8uc2VuZFN0YW5kYXJkVGFyZ2V0aW5nfHxvLnNlbmRTdGFuZGFyZFRhcmdldGluZ3x8LTE9PT1kLmluZGV4T2YoZSl9KS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXt2YXIgbj1bby5hZHNlcnZlclRhcmdldGluZ1t0XV0scj1BKHt9LHQuc3Vic3RyaW5nKDAsMjApLG4pO2lmKHQhPT1PLlRBUkdFVElOR19LRVlTLkRFQUwpcmV0dXJuW10uY29uY2F0KFQoZSksW3JdKTt2YXIgaT1BKHt9LCIiLmNvbmNhdCh0LCJfIikuY29uY2F0KG8uYmlkZGVyQ29kZSkuc3Vic3RyaW5nKDAsMjApLG4pO3JldHVybltdLmNvbmNhdChUKGUpLFtyLGldKX0sW10pKX0pKS5jb25jYXQoKGE9Zix0LmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gUygpKGEsZS5hZFVuaXRDb2RlKX0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gRSh7fSxlKX0pLnJlZHVjZShOLFtdKS5tYXAoRCkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpKS5jb25jYXQoaC5iLmdldENvbmZpZygiZW5hYmxlU2VuZEFsbEJpZHMiKT8obj1mLHI9dCxpPXcuY29uY2F0KG0uYSksbz1oLmIuZ2V0Q29uZmlnKCJzZW5kQmlkc0NvbnRyb2wuYmlkTGltaXQiKSxDKHIseS5nZXRIaWdoZXN0Q3BtLG8pLm1hcChmdW5jdGlvbih0KXtpZihCKHQsbikpcmV0dXJuIEEoe30sdC5hZFVuaXRDb2RlLGsodCxpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09dC5hZHNlcnZlclRhcmdldGluZ1tlXX0pKSl9KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSk6ZnVuY3Rpb24oZSx0KXtpZighMCE9PWguYi5nZXRDb25maWcoInRhcmdldGluZ0NvbnRyb2xzLmFsd2F5c0luY2x1ZGVEZWFscyIpKXJldHVybltdO3ZhciBuPXcuY29uY2F0KG0uYSk7cmV0dXJuIEModCx5LmdldEhpZ2hlc3RDcG0pLm1hcChmdW5jdGlvbih0KXtpZih0LmRlYWxJZCYmQih0LGUpKXJldHVybiBBKHt9LHQuYWRVbml0Q29kZSxrKHQsbi5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PXQuYWRzZXJ2ZXJUYXJnZXRpbmdbZV19KSkpfSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlfSl9KGYsdCkpO2wubWFwKGZ1bmN0aW9uKHQpe09iamVjdC5rZXlzKHQpLm1hcChmdW5jdGlvbihlKXt0W2VdLm1hcChmdW5jdGlvbihlKXstMT09PUkuaW5kZXhPZihPYmplY3Qua2V5cyhlKVswXSkmJihJPU9iamVjdC5rZXlzKGUpLmNvbmNhdChJKSl9KX0pfSksbD1sLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gQSh7fSxPYmplY3Qua2V5cyhlKVswXSxlW09iamVjdC5rZXlzKGUpWzBdXS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIEEoe30sT2JqZWN0LmtleXMoZSlbMF0sZVtPYmplY3Qua2V5cyhlKVswXV0uam9pbigiLCAiKSl9KS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gRSh0LGUpfSx7fSkpfSkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7dmFyIG49T2JqZWN0LmtleXModClbMF07cmV0dXJuIGVbbl09RSh7fSxlW25dLHRbbl0pLGV9LHt9KTt2YXIgcCxnLGIsdj1oLmIuZ2V0Q29uZmlnKCJ0YXJnZXRpbmdDb250cm9scy5hdWN0aW9uS2V5TWF4Q2hhcnMiKTtyZXR1cm4gdiYmKE9iamVjdCh5LmxvZ0luZm8pKCJEZXRlY3RlZCAndGFyZ2V0aW5nQ29udHJvbHMuYXVjdGlvbktleU1heENoYXJzJyB3YXMgYWN0aXZlIGZvciB0aGlzIGF1Y3Rpb247IHNldCB3aXRoIGEgbGltaXQgb2YgIi5jb25jYXQodiwiIGNoYXJhY3RlcnMuICBSdW5uaW5nIGNoZWNrcyBvbiBhdWN0aW9uIGtleXMuLi4iKSkscD1sLGc9dixiPU9iamVjdCh5LmRlZXBDbG9uZSkocCksbD1PYmplY3Qua2V5cyhiKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue2FkVW5pdENvZGU6ZSxhZFVuaXRUYXJnZXRpbmc6YltlXX19KS5zb3J0KGopLnJlZHVjZShmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvPShpPXQuYWRVbml0VGFyZ2V0aW5nLE9iamVjdC5rZXlzKGkpLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlKyIiLmNvbmNhdCh0LCIlM2QiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGlbdF0pLCIlMjYiKX0sIiIpKTtuKzE9PT1yLmxlbmd0aCYmKG89by5zbGljZSgwLC0zKSk7dmFyIGE9dC5hZFVuaXRDb2RlLGM9by5sZW5ndGg7cmV0dXJuIGM8PWc/KGctPWMsT2JqZWN0KHkubG9nSW5mbykoIkFkVW5pdCAnIi5jb25jYXQoYSwiJyBhdWN0aW9uIGtleXMgY29tcHJpc2VkIG9mICIpLmNvbmNhdChjLCIgY2hhcmFjdGVycy4gIERlZHVjdGVkIGZyb20gcnVubmluZyB0aHJlc2hvbGQ7IG5ldyBsaW1pdCBpcyAiKS5jb25jYXQoZyksYlthXSksZVthXT1iW2FdKTpPYmplY3QoeS5sb2dXYXJuKSgiVGhlIGZvbGxvd2luZyBrZXlzIGZvciBhZFVuaXRDb2RlICciLmNvbmNhdChhLCInIGV4Y2VlZGVkIHRoZSBjdXJyZW50IGxpbWl0IG9mIHRoZSAnYXVjdGlvbktleU1heENoYXJzJyBzZXR0aW5nLlxuVGhlIGtleS1zZXQgc2l6ZSB3YXMgIikuY29uY2F0KGMsIiwgdGhlIGN1cnJlbnQgYWxsb3R0ZWQgYW1vdW50IHdhcyAiKS5jb25jYXQoZywiLlxuIiksYlthXSksbisxPT09ci5sZW5ndGgmJjA9PT1PYmplY3Qua2V5cyhlKS5sZW5ndGgmJk9iamVjdCh5LmxvZ0Vycm9yKSgiTm8gYXVjdGlvbiB0YXJnZXRpbmcga2V5cyB3ZXJlIHBlcm1pdHRlZCBkdWUgdG8gdGhlIHNldHRpbmcgaW4gc2V0Q29uZmlnKHRhcmdldGluZ0NvbnRyb2xzLmF1Y3Rpb25LZXlNYXhDaGFycykuICBQbGVhc2UgcmV2aWV3IHNldHVwIGFuZCBjb25zaWRlciBhZGp1c3RpbmcuIiksZX0se30pKSxmLmZvckVhY2goZnVuY3Rpb24oZSl7bFtlXXx8KGxbZV09e30pfSksbH0sXy5zZXRUYXJnZXRpbmdGb3JHUFQ9ZnVuY3Rpb24oaSxlKXt3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLmdldFNsb3RzKCkuZm9yRWFjaChmdW5jdGlvbihyKXtPYmplY3Qua2V5cyhpKS5maWx0ZXIoZT9lKHIpOk9iamVjdCh5LmlzQWRVbml0Q29kZU1hdGNoaW5nU2xvdCkocikpLmZvckVhY2goZnVuY3Rpb24obil7cmV0dXJuIE9iamVjdC5rZXlzKGlbbl0pLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9aVtuXVt0XS5zcGxpdCgiLCIpOyhlPTE8ZS5sZW5ndGg/W2VdOmUpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gYy5sb2dNZXNzYWdlKCJBdHRlbXB0aW5nIHRvIHNldCBrZXkgdmFsdWUgZm9yIHNsb3Q6ICIuY29uY2F0KHIuZ2V0U2xvdEVsZW1lbnRJZCgpLCIga2V5OiAiKS5jb25jYXQodCwiIHZhbHVlOiAiKS5jb25jYXQoZSkpLGV9KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Iuc2V0VGFyZ2V0aW5nKHQsZSl9KX0pfSl9KX0sXy5nZXRXaW5uaW5nQmlkcz1mdW5jdGlvbihlKXt2YXIgbj0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06UigpLHQ9VShlKTtyZXR1cm4gbi5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIFMoKSh0LGUuYWRVbml0Q29kZSl9KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIDA8ZS5jcG19KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRVbml0Q29kZX0pLmZpbHRlcih5LnVuaXF1ZXMpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gbi5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRVbml0Q29kZT09PXQ/ZTpudWxsfSkucmVkdWNlKHkuZ2V0SGlnaGVzdENwbSl9KX0sXy5zZXRUYXJnZXRpbmdGb3JBc3Q9ZnVuY3Rpb24oZSl7dmFyIHI9Xy5nZXRBbGxUYXJnZXRpbmcoZSk7dHJ5e18ucmVzZXRQcmVzZXRUYXJnZXRpbmdBU1QoZSl9Y2F0Y2goZSl7Yy5sb2dFcnJvcigidW5hYmxlIHRvIHJlc2V0IHRhcmdldGluZyBmb3IgQVNUIitlKX1PYmplY3Qua2V5cyhyKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3JldHVybiBPYmplY3Qua2V5cyhyW25dKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKGMubG9nTWVzc2FnZSgiQXR0ZW1wdGluZyB0byBzZXQgdGFyZ2V0aW5nIGZvciB0YXJnZXRJZDogIi5jb25jYXQobiwiIGtleTogIikuY29uY2F0KGUsIiB2YWx1ZTogIikuY29uY2F0KHJbbl1bZV0pKSxjLmlzU3RyKHJbbl1bZV0pfHxjLmlzQXJyYXkocltuXVtlXSkpe3ZhciB0PXt9O2Uuc2VhcmNoKC9wdFswLTldLyk8MD90W2UudG9VcHBlckNhc2UoKV09cltuXVtlXTp0W2VdPXJbbl1bZV0sd2luZG93LmFwbnRhZy5zZXRLZXl3b3JkcyhuLHQse292ZXJyaWRlS2V5VmFsdWU6ITB9KX19KX0pfSxfLmlzQXBudGFnRGVmaW5lZD1mdW5jdGlvbigpe2lmKHdpbmRvdy5hcG50YWcmJmMuaXNGbih3aW5kb3cuYXBudGFnLnNldEtleXdvcmRzKSlyZXR1cm4hMH0sXyk7ZnVuY3Rpb24gQihlLHQpe3JldHVybiBlLmFkc2VydmVyVGFyZ2V0aW5nJiZ0JiYoYy5pc0FycmF5KHQpJiZTKCkodCxlLmFkVW5pdENvZGUpfHwic3RyaW5nIj09dHlwZW9mIHQmJmUuYWRVbml0Q29kZT09PXQpfWZ1bmN0aW9uIFUoZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlP1tlXTpjLmlzQXJyYXkoZSk/ZTpkLmdldEFkVW5pdENvZGVzKCl8fFtdfWZ1bmN0aW9uIFIoKXt2YXIgZT1kLmdldEJpZHNSZWNlaXZlZCgpO3JldHVybiBoLmIuZ2V0Q29uZmlnKCJ1c2VCaWRDYWNoZSIpfHwoZT1lLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZltlLmFkVW5pdENvZGVdPT09ZS5hdWN0aW9uSWR9KSksQyhlPWUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoeS5kZWVwQWNjZXNzKShlLCJ2aWRlby5jb250ZXh0IikhPT1vLmF9KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuImJhbm5lciIhPT1lLm1lZGlhVHlwZXx8T2JqZWN0KGkuYykoW2Uud2lkdGgsZS5oZWlnaHRdKX0pLmZpbHRlcihzKS5maWx0ZXIodSkseS5nZXRPbGRlc3RIaWdoZXN0Q3BtQmlkKX1mdW5jdGlvbiB4KCl7cmV0dXJuIGQuZ2V0U3RhbmRhcmRCaWRkZXJBZFNlcnZlclRhcmdldGluZygpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5rZXl9KS5jb25jYXQodykuZmlsdGVyKHkudW5pcXVlcyl9ZnVuY3Rpb24gTihyLGksZSx0KXtyZXR1cm4gT2JqZWN0LmtleXMoaS5hZHNlcnZlclRhcmdldGluZykuZmlsdGVyKHAoKSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdCxuO3IubGVuZ3RoJiZyLmZpbHRlcigobj1lLGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkVW5pdENvZGU9PT1pLmFkVW5pdENvZGUmJmUuYWRzZXJ2ZXJUYXJnZXRpbmdbbl19KSkuZm9yRWFjaCgodD1lLGZ1bmN0aW9uKGUpe2MuaXNBcnJheShlLmFkc2VydmVyVGFyZ2V0aW5nW3RdKXx8KGUuYWRzZXJ2ZXJUYXJnZXRpbmdbdF09W2UuYWRzZXJ2ZXJUYXJnZXRpbmdbdF1dKSxlLmFkc2VydmVyVGFyZ2V0aW5nW3RdPWUuYWRzZXJ2ZXJUYXJnZXRpbmdbdF0uY29uY2F0KGkuYWRzZXJ2ZXJUYXJnZXRpbmdbdF0pLmZpbHRlcih5LnVuaXF1ZXMpLGRlbGV0ZSBpLmFkc2VydmVyVGFyZ2V0aW5nW3RdfSkpfSksci5wdXNoKGkpLHJ9ZnVuY3Rpb24gcCgpe3ZhciB0PXgoKS5jb25jYXQobS5hKTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT10LmluZGV4T2YoZSl9fWZ1bmN0aW9uIEQodCl7cmV0dXJuIEEoe30sdC5hZFVuaXRDb2RlLE9iamVjdC5rZXlzKHQuYWRzZXJ2ZXJUYXJnZXRpbmcpLmZpbHRlcihwKCkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gQSh7fSxlLnN1YnN0cmluZygwLDIwKSxbdC5hZHNlcnZlclRhcmdldGluZ1tlXV0pfSkpfWZ1bmN0aW9uIGsodCxlKXtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIEEoe30sIiIuY29uY2F0KGUsIl8iKS5jb25jYXQodC5iaWRkZXJDb2RlKS5zdWJzdHJpbmcoMCwyMCksW3QuYWRzZXJ2ZXJUYXJnZXRpbmdbZV1dKX0pfX0sMzg6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKGUpe3JldHVybiEwfX19LDM5OmZ1bmN0aW9uKGUsdCl7dmFyIG49e30udG9TdHJpbmc7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSwzOTM6ZnVuY3Rpb24oZSx0LG4pe24oMzk0KSxlLmV4cG9ydHM9bigxNikuTnVtYmVyLmlzSW50ZWdlcn0sMzk0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE1KTtyKHIuUywiTnVtYmVyIix7aXNJbnRlZ2VyOm4oMzk1KX0pfSwzOTU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTcpLGk9TWF0aC5mbG9vcjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIXIoZSkmJmlzRmluaXRlKGUpJiZpKGUpPT09ZX19LDQ6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9e0pTT05fTUFQUElORzp7UExfQ09ERToiY29kZSIsUExfU0laRToic2l6ZXMiLFBMX0JJRFM6ImJpZHMiLEJEX0JJRERFUjoiYmlkZGVyIixCRF9JRDoicGFyYW1zZCIsQkRfUExfSUQ6InBsYWNlbWVudElkIixBRFNFUlZFUl9UQVJHRVRJTkc6ImFkc2VydmVyVGFyZ2V0aW5nIixCRF9TRVRUSU5HX1NUQU5EQVJEOiJzdGFuZGFyZCJ9LERFQlVHX01PREU6InBianNfZGVidWciLFNUQVRVUzp7R09PRDoxLE5PX0JJRDoyfSxDQjp7VFlQRTp7QUxMX0JJRFNfQkFDSzoiYWxsUmVxdWVzdGVkQmlkc0JhY2siLEFEX1VOSVRfQklEU19CQUNLOiJhZFVuaXRCaWRzQmFjayIsQklEX1dPTjoiYmlkV29uIixSRVFVRVNUX0JJRFM6InJlcXVlc3RCaWRzIn19LEVWRU5UUzp7QVVDVElPTl9JTklUOiJhdWN0aW9uSW5pdCIsQVVDVElPTl9FTkQ6ImF1Y3Rpb25FbmQiLEJJRF9BREpVU1RNRU5UOiJiaWRBZGp1c3RtZW50IixCSURfVElNRU9VVDoiYmlkVGltZW91dCIsQklEX1JFUVVFU1RFRDoiYmlkUmVxdWVzdGVkIixCSURfUkVTUE9OU0U6ImJpZFJlc3BvbnNlIixOT19CSUQ6Im5vQmlkIixCSURfV09OOiJiaWRXb24iLEJJRERFUl9ET05FOiJiaWRkZXJEb25lIixTRVRfVEFSR0VUSU5HOiJzZXRUYXJnZXRpbmciLFJFUVVFU1RfQklEUzoicmVxdWVzdEJpZHMiLEFERF9BRF9VTklUUzoiYWRkQWRVbml0cyIsQURfUkVOREVSX0ZBSUxFRDoiYWRSZW5kZXJGYWlsZWQifSxBRF9SRU5ERVJfRkFJTEVEX1JFQVNPTjp7UFJFVkVOVF9XUklUSU5HX09OX01BSU5fRE9DVU1FTlQ6InByZXZlbnRXcml0aW5nT25NYWluRG9jdWVtbnQiLE5PX0FEOiJub0FkIixFWENFUFRJT046ImV4Y2VwdGlvbiIsQ0FOTk9UX0ZJTkRfQUQ6ImNhbm5vdEZpbmRBZCIsTUlTU0lOR19ET0NfT1JfQURJRDoibWlzc2luZ0RvY09yQWRpZCJ9LEVWRU5UX0lEX1BBVEhTOntiaWRXb246ImFkVW5pdENvZGUifSxHUkFOVUxBUklUWV9PUFRJT05TOntMT1c6ImxvdyIsTUVESVVNOiJtZWRpdW0iLEhJR0g6ImhpZ2giLEFVVE86ImF1dG8iLERFTlNFOiJkZW5zZSIsQ1VTVE9NOiJjdXN0b20ifSxUQVJHRVRJTkdfS0VZUzp7QklEREVSOiJoYl9iaWRkZXIiLEFEX0lEOiJoYl9hZGlkIixQUklDRV9CVUNLRVQ6ImhiX3BiIixTSVpFOiJoYl9zaXplIixERUFMOiJoYl9kZWFsIixTT1VSQ0U6ImhiX3NvdXJjZSIsRk9STUFUOiJoYl9mb3JtYXQiLFVVSUQ6ImhiX3V1aWQiLENBQ0hFX0lEOiJoYl9jYWNoZV9pZCIsQ0FDSEVfSE9TVDoiaGJfY2FjaGVfaG9zdCJ9LE5BVElWRV9LRVlTOnt0aXRsZToiaGJfbmF0aXZlX3RpdGxlIixib2R5OiJoYl9uYXRpdmVfYm9keSIsYm9keTI6ImhiX25hdGl2ZV9ib2R5MiIscHJpdmFjeUxpbms6ImhiX25hdGl2ZV9wcml2YWN5Iixwcml2YWN5SWNvbjoiaGJfbmF0aXZlX3ByaXZpY29uIixzcG9uc29yZWRCeToiaGJfbmF0aXZlX2JyYW5kIixpbWFnZToiaGJfbmF0aXZlX2ltYWdlIixpY29uOiJoYl9uYXRpdmVfaWNvbiIsY2xpY2tVcmw6ImhiX25hdGl2ZV9saW5rdXJsIixkaXNwbGF5VXJsOiJoYl9uYXRpdmVfZGlzcGxheXVybCIsY3RhOiJoYl9uYXRpdmVfY3RhIixyYXRpbmc6ImhiX25hdGl2ZV9yYXRpbmciLGFkZHJlc3M6ImhiX25hdGl2ZV9hZGRyZXNzIixkb3dubG9hZHM6ImhiX25hdGl2ZV9kb3dubG9hZHMiLGxpa2VzOiJoYl9uYXRpdmVfbGlrZXMiLHBob25lOiJoYl9uYXRpdmVfcGhvbmUiLHByaWNlOiJoYl9uYXRpdmVfcHJpY2UiLHNhbGVQcmljZToiaGJfbmF0aXZlX3NhbGVwcmljZSJ9LFMyUzp7U1JDOiJzMnMiLERFRkFVTFRfRU5EUE9JTlQ6Imh0dHBzOi8vcHJlYmlkLmFkbnhzLmNvbS9wYnMvdjEvb3BlbnJ0YjIvYXVjdGlvbiIsU1lOQ0VEX0JJRERFUlNfS0VZOiJwYmpzU3luY3MifSxCSURfU1RBVFVTOntCSURfVEFSR0VUSU5HX1NFVDoidGFyZ2V0aW5nU2V0IixSRU5ERVJFRDoicmVuZGVyZWQifSxTVUJNT0RVTEVTX1RIQVRfQUxXQVlTX1JFRlJFU0hfSUQ6e3BhcnJhYmxlSWQ6ITB9fX0sNDA6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYobnVsbD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0sNDE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNDkpLGk9TWF0aC5taW47ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiAwPGU/aShyKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSw0MjpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbigpe319LDQzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgbD1uKDI2KSxwPW4oNzMpLGc9big3NCksYj1uKDI4KSx2PW4oNDEpLHk9big3NSksaD17fSxtPXt9Oyh0PWUuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixyLGkpe3ZhciBvLGEsYyx1LHM9aT9mdW5jdGlvbigpe3JldHVybiBlfTp5KGUpLGQ9bChuLHIsdD8yOjEpLGY9MDtpZigiZnVuY3Rpb24iIT10eXBlb2Ygcyl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihnKHMpKXtmb3Iobz12KGUubGVuZ3RoKTtmPG87ZisrKWlmKCh1PXQ/ZChiKGE9ZVtmXSlbMF0sYVsxXSk6ZChlW2ZdKSk9PT1ofHx1PT09bSlyZXR1cm4gdX1lbHNlIGZvcihjPXMuY2FsbChlKTshKGE9Yy5uZXh0KCkpLmRvbmU7KWlmKCh1PXAoYyxkLGEudmFsdWUsdCkpPT09aHx8dT09PW0pcmV0dXJuIHV9KS5CUkVBSz1oLHQuUkVUVVJOPW19LDQ0OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImIiLGZ1bmN0aW9uKCl7cmV0dXJuIEd9KSxuLmQodCwiYSIsZnVuY3Rpb24oKXtyZXR1cm4gV30pLHQuaj1mdW5jdGlvbihlKXt2YXIgdCxuLGIsdixvPWUuYWRVbml0cyxyPWUuYWRVbml0Q29kZXMsaT1lLmNhbGxiYWNrLGE9ZS5jYlRpbWVvdXQsYz1lLmxhYmVscyx1PWUuYXVjdGlvbklkLHk9byxzPWMsZD1yLGg9W10sZj1bXSxsPVtdLG09dXx8RC5nZW5lcmF0ZVVVSUQoKSxwPWksUz1hLGc9W10sRT1uZXcgU2V0O2Z1bmN0aW9uIEEoKXtyZXR1cm57YXVjdGlvbklkOm0sdGltZXN0YW1wOnQsYXVjdGlvbkVuZDpuLGF1Y3Rpb25TdGF0dXM6YixhZFVuaXRzOnksYWRVbml0Q29kZXM6ZCxsYWJlbHM6cyxiaWRkZXJSZXF1ZXN0czpoLG5vQmlkczpsLGJpZHNSZWNlaXZlZDpmLHdpbm5pbmdCaWRzOmcsdGltZW91dDpTfX1mdW5jdGlvbiBUKHIsZSl7aWYoZSYmY2xlYXJUaW1lb3V0KHYpLHZvaWQgMD09PW4pe3ZhciBpPVtdO3ImJihELmxvZ01lc3NhZ2UoIkF1Y3Rpb24gIi5jb25jYXQobSwiIHRpbWVkT3V0IikpLHQ9RSwoaT1oLm1hcChmdW5jdGlvbihlKXtyZXR1cm4oZS5iaWRzfHxbXSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiF0LmhhcyhlLmJpZGRlcil9KX0pLnJlZHVjZSh3LmZsYXR0ZW4sW10pLm1hcChmdW5jdGlvbihlKXtyZXR1cm57YmlkSWQ6ZS5iaWRJZCxiaWRkZXI6ZS5iaWRkZXIsYWRVbml0Q29kZTplLmFkVW5pdENvZGUsYXVjdGlvbklkOmUuYXVjdGlvbklkfX0pKS5sZW5ndGgmJlAuZW1pdChNLkVWRU5UUy5CSURfVElNRU9VVCxpKSksYj1XLG49RGF0ZS5ub3coKSxQLmVtaXQoTS5FVkVOVFMuQVVDVElPTl9FTkQsQSgpKSxLKGQsZnVuY3Rpb24oKXt0cnl7aWYobnVsbCE9cCl7dmFyIGU9ZCx0PWYuZmlsdGVyKEQuYmluZC5jYWxsKHcuYWRVbml0c0ZpbHRlcix0aGlzLGUpKS5yZWR1Y2UoWCx7fSk7cC5hcHBseSh1cGJqcyxbdCxyXSkscD1udWxsfX1jYXRjaChlKXtELmxvZ0Vycm9yKCJFcnJvciBleGVjdXRpbmcgYmlkc0JhY2tIYW5kbGVyIixudWxsLGUpfWZpbmFsbHl7aS5sZW5ndGgmJmsuY2FsbFRpbWVkT3V0QmlkZGVycyhvLGksUyk7dmFyIG49Xy5iLmdldENvbmZpZygidXNlclN5bmMiKXx8e307bi5lbmFibGVPdmVycmlkZXx8TihuLnN5bmNEZWxheSl9fSl9dmFyIHR9ZnVuY3Rpb24gTygpe0QubG9nSW5mbygiQmlkcyBSZWNlaXZlZCBmb3IgQXVjdGlvbiB3aXRoIGlkOiAiLmNvbmNhdChtKSxmKSxiPVcsVCghMSwhMCl9ZnVuY3Rpb24gSShlKXtFLmFkZChlKX1yZXR1cm57YWRkQmlkUmVjZWl2ZWQ6ZnVuY3Rpb24oZSl7Zj1mLmNvbmNhdChlKX0sYWRkTm9CaWQ6ZnVuY3Rpb24oZSl7bD1sLmNvbmNhdChlKX0sZXhlY3V0ZUNhbGxiYWNrOlQsY2FsbEJpZHM6ZnVuY3Rpb24oKXt2YXIgZD10aGlzO2I9cSx0PURhdGUubm93KCk7dmFyIGY9ay5tYWtlQmlkUmVxdWVzdHMoeSx0LG0sUyxzKTtELmxvZ0luZm8oIkJpZHMgUmVxdWVzdGVkIGZvciBBdWN0aW9uIHdpdGggaWQ6ICIuY29uY2F0KG0pLGYpLGYuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdDt0PWUsaD1oLmNvbmNhdCh0KX0pO3ZhciBsPXt9O2lmKGYubGVuZ3RoPDEpRC5sb2dXYXJuKCJObyB2YWxpZCBiaWQgcmVxdWVzdHMgcmV0dXJuZWQgZm9yIGF1Y3Rpb24iKSxPKCk7ZWxzZXt2YXIgZT17YmlkUmVxdWVzdHM6ZixydW46ZnVuY3Rpb24oKXt2YXIgZSx0O2U9VC5iaW5kKG51bGwsITApLHQ9c2V0VGltZW91dChlLFMpLHY9dCxiPUcsUC5lbWl0KE0uRVZFTlRTLkFVQ1RJT05fSU5JVCxBKCkpO3ZhciBuLHIsaSxvLGEsYyx1PShuPU8scj1kLGk9MCxvPSExLGE9bmV3IFNldCxjPXt9LHthZGRCaWRSZXNwb25zZTpmdW5jdGlvbihlLHQpe2NbdC5yZXF1ZXN0SWRdPSEwLGkrKzt2YXIgbj1mdW5jdGlvbihlKXt2YXIgdD1lLmFkVW5pdENvZGUsbj1lLmJpZCxyPWUuYmlkZGVyUmVxdWVzdCxpPWUuYXVjdGlvbklkLG89ci5zdGFydCxhPXgoe30sbix7YXVjdGlvbklkOmkscmVzcG9uc2VUaW1lc3RhbXA6T2JqZWN0KHcudGltZXN0YW1wKSgpLHJlcXVlc3RUaW1lc3RhbXA6byxjcG06cGFyc2VGbG9hdChuLmNwbSl8fDAsYmlkZGVyOm4uYmlkZGVyQ29kZSxhZFVuaXRDb2RlOnR9KTthLnRpbWVUb1Jlc3BvbmQ9YS5yZXNwb25zZVRpbWVzdGFtcC1hLnJlcXVlc3RUaW1lc3RhbXAsUC5lbWl0KE0uRVZFTlRTLkJJRF9BREpVU1RNRU5ULGEpO3ZhciBjPXIuYmlkcyYmQigpKHIuYmlkcyxmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlPT10fSksdT1jJiZjLnJlbmRlcmVyO3UmJnUudXJsJiYoYS5yZW5kZXJlcj1qLmEuaW5zdGFsbCh7dXJsOnUudXJsfSksYS5yZW5kZXJlci5zZXRSZW5kZXIodS5yZW5kZXIpKTt2YXIgcz1RKG4ubWVkaWFUeXBlLGMsXy5iLmdldENvbmZpZygibWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eSIpKSxkPU9iamVjdChDLmEpKGEuY3BtLCJvYmplY3QiPT09UihzKT9zOl8uYi5nZXRDb25maWcoImN1c3RvbVByaWNlQnVja2V0IiksXy5iLmdldENvbmZpZygiY3VycmVuY3kuZ3JhbnVsYXJpdHlNdWx0aXBsaWVyIikpO3JldHVybiBhLnBiTGc9ZC5sb3csYS5wYk1nPWQubWVkLGEucGJIZz1kLmhpZ2gsYS5wYkFnPWQuYXV0byxhLnBiRGc9ZC5kZW5zZSxhLnBiQ2c9ZC5jdXN0b20sYX0oe2FkVW5pdENvZGU6ZSxiaWQ6dCxiaWRkZXJSZXF1ZXN0OnRoaXMsYXVjdGlvbklkOnIuZ2V0QXVjdGlvbklkKCl9KTsidmlkZW8iPT09bi5tZWRpYVR5cGU/ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9ITAsbz1PYmplY3Qody5nZXRCaWRSZXF1ZXN0KSh0LnJlcXVlc3RJZCxbbl0pLGE9byYmT2JqZWN0KHcuZGVlcEFjY2VzcykobywibWVkaWFUeXBlcy52aWRlbyIpLGM9YSYmT2JqZWN0KHcuZGVlcEFjY2VzcykoYSwiY29udGV4dCIpO18uYi5nZXRDb25maWcoImNhY2hlLnVybCIpJiZjIT09VS5iJiYodC52aWRlb0NhY2hlS2V5P3QudmFzdFVybHx8KEQubG9nRXJyb3IoInZpZGVvQ2FjaGVLZXkgc3BlY2lmaWVkIGJ1dCBub3QgcmVxdWlyZWQgdmFzdFVybCBmb3IgdmlkZW8gYmlkIiksaT0hMSk6KGk9ITEsWShlLHQscixvKSkpLGkmJihKKGUsdCkscigpKX0ocixuLHRoaXMscyk6KEoocixuKSxzKCkpfSxhZGFwdGVyRG9uZTpmdW5jdGlvbigpe2EuYWRkKHRoaXMpLG89ci5nZXRCaWRSZXF1ZXN0cygpLmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybiBhLmhhcyhlKX0pLHRoaXMuYmlkcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2NbZS5iaWRJZF18fChyLmFkZE5vQmlkKGUpLFAuZW1pdChNLkVWRU5UUy5OT19CSUQsZSkpfSksbyYmMD09PWkmJm4oKX19KTtmdW5jdGlvbiBzKCl7aS0tLG8mJjA9PT1pJiZuKCl9ay5jYWxsQmlkcyh5LGYsZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtILmFwcGx5KHtkaXNwYXRjaDp1LmFkZEJpZFJlc3BvbnNlLGJpZGRlclJlcXVlc3Q6dGhpc30sdCl9LHUuYWRhcHRlckRvbmUse3JlcXVlc3Q6ZnVuY3Rpb24oZSx0KXtnKEYsdCksZyhsLGUpLHpbZV18fCh6W2VdPXtTUkE6ITAsb3JpZ2luOnR9KSwxPGxbZV0mJih6W2VdLlNSQT0hMSl9LGRvbmU6ZnVuY3Rpb24oZSl7RltlXS0tLFZbMF0mJnAoVlswXSkmJlYuc2hpZnQoKX19LFMsSSl9fTtwKGUpfHwoRC5sb2dXYXJuKCJxdWV1ZWluZyBhdWN0aW9uIGR1ZSB0byBsaW1pdGVkIGVuZHBvaW50IGNhcGFjaXR5IiksVi5wdXNoKGUpKX1mdW5jdGlvbiBwKGUpe3ZhciByPSEwLGk9Xy5iLmdldENvbmZpZygibWF4UmVxdWVzdHNQZXJPcmlnaW4iKXx8TDtyZXR1cm4gZS5iaWRSZXF1ZXN0cy5zb21lKGZ1bmN0aW9uKGUpe3ZhciB0PTEsbj12b2lkIDAhPT1lLnNyYyYmZS5zcmM9PT1NLlMyUy5TUkM/InMycyI6ZS5iaWRkZXJDb2RlO3JldHVybiB6W25dJiYoITE9PT16W25dLlNSQSYmKHQ9TWF0aC5taW4oZS5iaWRzLmxlbmd0aCxpKSksRlt6W25dLm9yaWdpbl0rdD5pJiYocj0hMSkpLCFyfSksciYmZS5ydW4oKSxyfWZ1bmN0aW9uIGcoZSx0KXt2b2lkIDA9PT1lW3RdP2VbdF09MTplW3RdKyt9fSxhZGRXaW5uaW5nQmlkOmZ1bmN0aW9uKGUpe2c9Zy5jb25jYXQoZSksay5jYWxsQmlkV29uQmlkZGVyKGUuYmlkZGVyLGUsbyl9LHNldEJpZFRhcmdldGluZzpmdW5jdGlvbihlKXtrLmNhbGxTZXRUYXJnZXRpbmdCaWRkZXIoZS5iaWRkZXIsZSl9LGdldFdpbm5pbmdCaWRzOmZ1bmN0aW9uKCl7cmV0dXJuIGd9LGdldFRpbWVvdXQ6ZnVuY3Rpb24oKXtyZXR1cm4gU30sZ2V0QXVjdGlvbklkOmZ1bmN0aW9uKCl7cmV0dXJuIG19LGdldEF1Y3Rpb25TdGF0dXM6ZnVuY3Rpb24oKXtyZXR1cm4gYn0sZ2V0QWRVbml0czpmdW5jdGlvbigpe3JldHVybiB5fSxnZXRBZFVuaXRDb2RlczpmdW5jdGlvbigpe3JldHVybiBkfSxnZXRCaWRSZXF1ZXN0czpmdW5jdGlvbigpe3JldHVybiBofSxnZXRCaWRzUmVjZWl2ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZn0sZ2V0Tm9CaWRzOmZ1bmN0aW9uKCl7cmV0dXJuIGx9fX0sbi5kKHQsImMiLGZ1bmN0aW9uKCl7cmV0dXJuIEh9KSx0LmY9ZCx0LmQ9SixuLmQodCwiZSIsZnVuY3Rpb24oKXtyZXR1cm4gWX0pLG4uZCh0LCJoIixmdW5jdGlvbigpe3JldHVybiBmfSksbi5kKHQsImciLGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSx0Lmk9cDt2YXIgdz1uKDApLHM9big5KSxDPW4oNDUpLGE9bigyNyksbz1uKDgyKSxqPW4oMTApLF89bigzKSxyPW4oMzMpLGk9bigxMyksYz1uKDEyKSxCPW4ubihjKSxVPW4oMzQpLHU9bigyKTtmdW5jdGlvbiBSKGUpe3JldHVybihSPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24geCgpe3JldHVybih4PU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIE49ci5hLnN5bmNVc2VycyxEPW4oMCksaz1uKDcpLmRlZmF1bHQsUD1uKDgpLE09big0KSxxPSJzdGFydGVkIixHPSJpblByb2dyZXNzIixXPSJjb21wbGV0ZWQiO1Aub24oTS5FVkVOVFMuQklEX0FESlVTVE1FTlQsZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5iaWRkZXJDb2RlLHI9ZS5jcG07aWYodXBianMuYmlkZGVyU2V0dGluZ3MmJihuJiZ1cGJqcy5iaWRkZXJTZXR0aW5nc1tuXSYmImZ1bmN0aW9uIj09dHlwZW9mIHVwYmpzLmJpZGRlclNldHRpbmdzW25dLmJpZENwbUFkanVzdG1lbnQ/dD11cGJqcy5iaWRkZXJTZXR0aW5nc1tuXS5iaWRDcG1BZGp1c3RtZW50OnVwYmpzLmJpZGRlclNldHRpbmdzW00uSlNPTl9NQVBQSU5HLkJEX1NFVFRJTkdfU1RBTkRBUkRdJiYiZnVuY3Rpb24iPT10eXBlb2YgdXBianMuYmlkZGVyU2V0dGluZ3NbTS5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF0uYmlkQ3BtQWRqdXN0bWVudCYmKHQ9dXBianMuYmlkZGVyU2V0dGluZ3NbTS5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF0uYmlkQ3BtQWRqdXN0bWVudCksdCkpdHJ5e3I9dChlLmNwbSx4KHt9LGUpKX1jYXRjaChlKXtELmxvZ0Vycm9yKCJFcnJvciBkdXJpbmcgYmlkIGFkanVzdG1lbnQiLCJiaWRtYW5hZ2VyLmpzIixlKX0wPD1yJiYoZS5jcG09cil9KGUpfSk7dmFyIEw9NCxGPXt9LHo9e30sVj1bXTt2YXIgSD1PYmplY3QoaS5iKSgiYXN5bmMiLGZ1bmN0aW9uKGUsdCl7dGhpcy5kaXNwYXRjaC5jYWxsKHRoaXMuYmlkZGVyUmVxdWVzdCxlLHQpfSwiYWRkQmlkUmVzcG9uc2UiKSxLPU9iamVjdChpLmIpKCJhc3luYyIsZnVuY3Rpb24oZSx0KXt0JiZ0KCl9LCJiaWRzQmFja0NhbGxiYWNrIik7ZnVuY3Rpb24gZChlLHQpe3QudGltZVRvUmVzcG9uZD5lLmdldFRpbWVvdXQoKStfLmIuZ2V0Q29uZmlnKCJ0aW1lb3V0QnVmZmVyIikmJmUuZXhlY3V0ZUNhbGxiYWNrKCEwKX1mdW5jdGlvbiBKKGUsdCl7dmFyIG49ZS5nZXRCaWRSZXF1ZXN0cygpLHI9QigpKG4sZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyQ29kZT09PXQuYmlkZGVyQ29kZX0pOyFmdW5jdGlvbih0LGUpe3ZhciBuO2lmKHQuYmlkZGVyQ29kZSYmKDA8dC5jcG18fHQuZGVhbElkKSl7dmFyIHI9QigpKGUuYmlkcyxmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlPT09dC5hZFVuaXRDb2RlfSk7bj1mdW5jdGlvbihlLHQsbil7aWYoIXQpcmV0dXJue307dmFyIHI9e30saT11cGJqcy5iaWRkZXJTZXR0aW5ncztpZihpKXt2YXIgbz1wKHQubWVkaWFUeXBlLGUsbik7ZyhyLG8sdCksZSYmaVtlXSYmaVtlXVtNLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddJiYoZyhyLGlbZV0sdCksdC5zZW5kU3RhbmRhcmRUYXJnZXRpbmc9aVtlXS5zZW5kU3RhbmRhcmRUYXJnZXRpbmcpfXQubmF0aXZlJiYocj14KHt9LHIsT2JqZWN0KGEuZCkodCxuKSkpO3JldHVybiByfSh0LmJpZGRlckNvZGUsdCxyKX10LmFkc2VydmVyVGFyZ2V0aW5nPXgodC5hZHNlcnZlclRhcmdldGluZ3x8e30sbil9KHQsciksUC5lbWl0KE0uRVZFTlRTLkJJRF9SRVNQT05TRSx0KSxlLmFkZEJpZFJlY2VpdmVkKHQpLGQoZSx0KX12YXIgWT1PYmplY3QoaS5iKSgiYXN5bmMiLGZ1bmN0aW9uKG4scixpLGUpe09iamVjdChvLmIpKFtyXSxmdW5jdGlvbihlLHQpe2U/KEQubG9nV2FybigiRmFpbGVkIHRvIHNhdmUgdG8gdGhlIHZpZGVvIGNhY2hlOiAiLmNvbmNhdChlLCIuIFZpZGVvIGJpZCBtdXN0IGJlIGRpc2NhcmRlZC4iKSksZChuLHIpKToiIj09PXRbMF0udXVpZD8oRC5sb2dXYXJuKCJTdXBwbGllZCB2aWRlbyBjYWNoZSBrZXkgd2FzIGFscmVhZHkgaW4gdXNlIGJ5IFByZWJpZCBDYWNoZTsgY2FjaGluZyBhdHRlbXB0IHdhcyByZWplY3RlZC4gVmlkZW8gYmlkIG11c3QgYmUgZGlzY2FyZGVkLiIpLGQobixyKSk6KHIudmlkZW9DYWNoZUtleT10WzBdLnV1aWQsci52YXN0VXJsfHwoci52YXN0VXJsPU9iamVjdChvLmEpKHIudmlkZW9DYWNoZUtleSkpLEoobixyKSxpKCkpfSl9LCJjYWxsUHJlYmlkQ2FjaGUiKTtmdW5jdGlvbiBRKGUsdCxuKXtpZihlJiZuKXtpZihlPT09dS5kKXt2YXIgcj1PYmplY3Qody5kZWVwQWNjZXNzKSh0LCJtZWRpYVR5cGVzLiIuY29uY2F0KHUuZCwiLmNvbnRleHQiKSwiaW5zdHJlYW0iKTtpZihuWyIiLmNvbmNhdCh1LmQsIi0iKS5jb25jYXQocildKXJldHVybiBuWyIiLmNvbmNhdCh1LmQsIi0iKS5jb25jYXQocildfXJldHVybiBuW2VdfX12YXIgZj1mdW5jdGlvbihlLHQpe3ZhciBuPVEoZSx0LF8uYi5nZXRDb25maWcoIm1lZGlhVHlwZVByaWNlR3JhbnVsYXJpdHkiKSk7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiZuPyJzdHJpbmciPT10eXBlb2Ygbj9uOiJjdXN0b20iOl8uYi5nZXRDb25maWcoInByaWNlR3JhbnVsYXJpdHkiKX0sbD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQ9PT1NLkdSQU5VTEFSSVRZX09QVElPTlMuQVVUTz9lLnBiQWc6dD09PU0uR1JBTlVMQVJJVFlfT1BUSU9OUy5ERU5TRT9lLnBiRGc6dD09PU0uR1JBTlVMQVJJVFlfT1BUSU9OUy5MT1c/ZS5wYkxnOnQ9PT1NLkdSQU5VTEFSSVRZX09QVElPTlMuTUVESVVNP2UucGJNZzp0PT09TS5HUkFOVUxBUklUWV9PUFRJT05TLkhJR0g/ZS5wYkhnOnQ9PT1NLkdSQU5VTEFSSVRZX09QVElPTlMuQ1VTVE9NP2UucGJDZzp2b2lkIDB9fTtmdW5jdGlvbiBwKGUsdCxuKXtmdW5jdGlvbiByKGUsdCl7cmV0dXJue2tleTplLHZhbDoiZnVuY3Rpb24iPT10eXBlb2YgdD9mdW5jdGlvbihlKXtyZXR1cm4gdChlKX06ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdCh3LmdldFZhbHVlKShlLHQpfX19dmFyIGk9TS5UQVJHRVRJTkdfS0VZUyxvPWYoZSxuKSxhPXVwYmpzLmJpZGRlclNldHRpbmdzO2lmKGFbTS5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF18fChhW00uSlNPTl9NQVBQSU5HLkJEX1NFVFRJTkdfU1RBTkRBUkRdPXt9KSxhW00uSlNPTl9NQVBQSU5HLkJEX1NFVFRJTkdfU1RBTkRBUkRdW00uSlNPTl9NQVBQSU5HLkFEU0VSVkVSX1RBUkdFVElOR118fChhW00uSlNPTl9NQVBQSU5HLkJEX1NFVFRJTkdfU1RBTkRBUkRdW00uSlNPTl9NQVBQSU5HLkFEU0VSVkVSX1RBUkdFVElOR109W3IoaS5CSURERVIsImJpZGRlckNvZGUiKSxyKGkuQURfSUQsImFkSWQiKSxyKGkuUFJJQ0VfQlVDS0VULGwobykpLHIoaS5TSVpFLCJzaXplIikscihpLkRFQUwsImRlYWxJZCIpLHIoaS5TT1VSQ0UsInNvdXJjZSIpLHIoaS5GT1JNQVQsIm1lZGlhVHlwZSIpXSksInZpZGVvIj09PWUpe3ZhciBjPWFbTS5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF1bTS5KU09OX01BUFBJTkcuQURTRVJWRVJfVEFSR0VUSU5HXTtpZihbaS5VVUlELGkuQ0FDSEVfSURdLmZvckVhY2goZnVuY3Rpb24odCl7dm9pZCAwPT09QigpKGMsZnVuY3Rpb24oZSl7cmV0dXJuIGUua2V5PT09dH0pJiZjLnB1c2gocih0LCJ2aWRlb0NhY2hlS2V5IikpfSksXy5iLmdldENvbmZpZygiY2FjaGUudXJsIikmJighdHx8ITEhPT1ELmRlZXBBY2Nlc3MoYSwiIi5jb25jYXQodCwiLnNlbmRTdGFuZGFyZFRhcmdldGluZyIpKSkpe3ZhciB1PU9iamVjdChzLmMpKF8uYi5nZXRDb25maWcoImNhY2hlLnVybCIpKTt2b2lkIDA9PT1CKCkoYyxmdW5jdGlvbihlKXtyZXR1cm4gZS5rZXk9PT1pLkNBQ0hFX0hPU1R9KSYmYy5wdXNoKHIoaS5DQUNIRV9IT1NULGZ1bmN0aW9uKGUpe3JldHVybiBELmRlZXBBY2Nlc3MoZSwiYWRzZXJ2ZXJUYXJnZXRpbmcuIi5jb25jYXQoaS5DQUNIRV9IT1NUKSk/ZS5hZHNlcnZlclRhcmdldGluZ1tpLkNBQ0hFX0hPU1RdOnUuaG9zdG5hbWV9KSl9fXJldHVybiBhW00uSlNPTl9NQVBQSU5HLkJEX1NFVFRJTkdfU1RBTkRBUkRdfWZ1bmN0aW9uIGcocixpLG8pe3ZhciBlPWlbTS5KU09OX01BUFBJTkcuQURTRVJWRVJfVEFSR0VUSU5HXTtyZXR1cm4gby5zaXplPW8uZ2V0U2l6ZSgpLEQuX2VhY2goZSxmdW5jdGlvbihlKXt2YXIgdD1lLmtleSxuPWUudmFsO2lmKHJbdF0mJkQubG9nV2FybigiVGhlIGtleTogIit0KyIgaXMgZ2V0dGluZyBvdmV3cml0dGVuIiksRC5pc0ZuKG4pKXRyeXtuPW4obyl9Y2F0Y2goZSl7RC5sb2dFcnJvcigiYmlkbWFuYWdlciIsIkVSUk9SIixlKX0odm9pZCAwPT09aS5zdXBwcmVzc0VtcHR5S2V5c3x8ITAhPT1pLnN1cHByZXNzRW1wdHlLZXlzKSYmdCE9PU0uVEFSR0VUSU5HX0tFWVMuREVBTHx8IUQuaXNFbXB0eVN0cihuKSYmbnVsbCE9bj9yW3RdPW46RC5sb2dJbmZvKCJzdXBwcmVzc2luZyBlbXB0eSBrZXkgJyIrdCsiJyBmcm9tIGFkc2VydmVyIHRhcmdldGluZyIpfSkscn1mdW5jdGlvbiBYKGUsdCl7cmV0dXJuIGVbdC5hZFVuaXRDb2RlXXx8KGVbdC5hZFVuaXRDb2RlXT17YmlkczpbXX0pLGVbdC5hZFVuaXRDb2RlXS5iaWRzLnB1c2godCksZX19LDQ1OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSxuLmQodCwiYiIsZnVuY3Rpb24oKXtyZXR1cm4geX0pO3ZhciByPW4oMTIpLGI9bi5uKHIpLGk9bigwKSx2PTIsbz17YnVja2V0czpbe21pbjowLG1heDo1LGluY3JlbWVudDouNX1dfSxhPXtidWNrZXRzOlt7bWluOjAsbWF4OjIwLGluY3JlbWVudDouMX1dfSxjPXtidWNrZXRzOlt7bWluOjAsbWF4OjIwLGluY3JlbWVudDouMDF9XX0sdT17YnVja2V0czpbe21pbjowLG1heDozLGluY3JlbWVudDouMDF9LHttaW46MyxtYXg6OCxpbmNyZW1lbnQ6LjA1fSx7bWluOjgsbWF4OjIwLGluY3JlbWVudDouNX1dfSxzPXtidWNrZXRzOlt7bWluOjAsbWF4OjUsaW5jcmVtZW50Oi4wNX0se21pbjo1LG1heDoxMCxpbmNyZW1lbnQ6LjF9LHttaW46MTAsbWF4OjIwLGluY3JlbWVudDouNX1dfTtmdW5jdGlvbiBkKGUsdCl7dmFyIG49Mjxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjEscj1wYXJzZUZsb2F0KGUpO3JldHVybiBpc05hTihyKSYmKHI9IiIpLHtsb3c6IiI9PT1yPyIiOmYoZSxvLG4pLG1lZDoiIj09PXI/IiI6ZihlLGEsbiksaGlnaDoiIj09PXI/IiI6ZihlLGMsbiksYXV0bzoiIj09PXI/IiI6ZihlLHMsbiksZGVuc2U6IiI9PT1yPyIiOmYoZSx1LG4pLGN1c3RvbToiIj09PXI/IiI6ZihlLHQsbil9fWZ1bmN0aW9uIGYobixlLHIpe3ZhciBpPSIiO2lmKCF5KGUpKXJldHVybiBpO3ZhciB0LG8sYSxjLHUscyxkLGYsbCxwPWUuYnVja2V0cy5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5tYXg+dC5tYXg/ZTp0fSx7bWF4OjB9KSxnPWIoKShlLmJ1Y2tldHMsZnVuY3Rpb24oZSl7aWYobj5wLm1heCpyKXt2YXIgdD1lLnByZWNpc2lvbjt2b2lkIDA9PT10JiYodD12KSxpPShlLm1heCpyKS50b0ZpeGVkKHQpfWVsc2UgaWYobjw9ZS5tYXgqciYmbj49ZS5taW4qcilyZXR1cm4gZX0pO3JldHVybiBnJiYodD1uLGE9cixjPXZvaWQgMCE9PShvPWcpLnByZWNpc2lvbj9vLnByZWNpc2lvbjp2LHU9by5pbmNyZW1lbnQqYSxzPW8ubWluKmEsZD1NYXRoLnBvdygxMCxjKzIpLGY9KHQqZC1zKmQpLyh1KmQpLGw9TWF0aC5mbG9vcihmKSp1K3MsaT0obD1OdW1iZXIobC50b0ZpeGVkKDEwKSkpLnRvRml4ZWQoYykpLGl9ZnVuY3Rpb24geShlKXtpZihpLmlzRW1wdHkoZSl8fCFlLmJ1Y2tldHN8fCFBcnJheS5pc0FycmF5KGUuYnVja2V0cykpcmV0dXJuITE7dmFyIHQ9ITA7cmV0dXJuIGUuYnVja2V0cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUubWluJiZlLm1heCYmZS5pbmNyZW1lbnR8fCh0PSExKX0pLHR9fSw0NjpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LDQ3OmZ1bmN0aW9uKGUsdCxuKXt2YXIgbT1uKDI2KSxTPW4oNjIpLEU9big0OCksQT1uKDQxKSxyPW4oODkpO2UuZXhwb3J0cz1mdW5jdGlvbihmLGUpe3ZhciBsPTE9PWYscD0yPT1mLGc9Mz09ZixiPTQ9PWYsdj02PT1mLHk9NT09Znx8dixoPWV8fHI7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHIsaSxvPUUoZSksYT1TKG8pLGM9bSh0LG4sMyksdT1BKGEubGVuZ3RoKSxzPTAsZD1sP2goZSx1KTpwP2goZSwwKTp2b2lkIDA7czx1O3MrKylpZigoeXx8cyBpbiBhKSYmKGk9YyhyPWFbc10scyxvKSxmKSlpZihsKWRbc109aTtlbHNlIGlmKGkpc3dpdGNoKGYpe2Nhc2UgMzpyZXR1cm4hMDtjYXNlIDU6cmV0dXJuIHI7Y2FzZSA2OnJldHVybiBzO2Nhc2UgMjpkLnB1c2gocil9ZWxzZSBpZihiKXJldHVybiExO3JldHVybiB2Py0xOmd8fGI/YjpkfX19LDQ4OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDQwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChyKGUpKX19LDQ5OmZ1bmN0aW9uKGUsdCl7dmFyIG49TWF0aC5jZWlsLHI9TWF0aC5mbG9vcjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KDA8ZT9yOm4pKGUpfX0sNTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIixmdW5jdGlvbigpe3JldHVybiByfSksdC5iPWk7dmFyIGw9big5KSxwPW4oMyksZz1uKDMxKTtmdW5jdGlvbiBiKCl7cmV0dXJuKGI9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB2KGUpe3JldHVybih2PSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIHk9bigwKSxoPTQscj1pKCk7ZnVuY3Rpb24gaSgpe3ZhciBzPTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTozZTMsZT0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sZD1lLnJlcXVlc3QsZj1lLmRvbmU7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj0zPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106e307dHJ5ezA9PWUuaW5kZXhPZigiaHR0cDovLyIpP2U9ZS5yZXBsYWNlKCJodHRwOiIsImh0dHBzOiIpOjA8PXdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbC5pbmRleE9mKCJodHRwIikmJjA9PWUuaW5kZXhPZigiLy8iKSYmKGU9ZS5yZXBsYWNlKCIvLyIsImh0dHBzOi8vIikpfWNhdGNoKGUpe31lPWcuYyhlKTt0cnl7dmFyIGksbz1yLm1ldGhvZHx8KG4/IlBPU1QiOiJHRVQiKSxhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTthLmhyZWY9ZTt2YXIgYz0ib2JqZWN0Ij09PXYodCkmJm51bGwhPT10P3Q6e3N1Y2Nlc3M6ZnVuY3Rpb24oKXt5LmxvZ01lc3NhZ2UoInhociBzdWNjZXNzIil9LGVycm9yOmZ1bmN0aW9uKGUpe3kubG9nRXJyb3IoInhociBlcnJvciIsbnVsbCxlKX19O2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0JiYoYy5zdWNjZXNzPXQpLChpPW5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QpLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKGkucmVhZHlTdGF0ZT09PWgpeyJmdW5jdGlvbiI9PXR5cGVvZiBmJiZmKGEub3JpZ2luKTt2YXIgZT1pLnN0YXR1czsyMDA8PWUmJmU8MzAwfHwzMDQ9PT1lP2Muc3VjY2VzcyhpLnJlc3BvbnNlVGV4dCxpKTpjLmVycm9yKGkuc3RhdHVzVGV4dCxpKX19LHAuYi5nZXRDb25maWcoImRpc2FibGVBamF4VGltZW91dCIpfHwoaS5vbnRpbWVvdXQ9ZnVuY3Rpb24oKXt5LmxvZ0Vycm9yKCIgIHhociB0aW1lb3V0IGFmdGVyICIsaS50aW1lb3V0LCJtcyIpfSksIkdFVCI9PT1vJiZuKXt2YXIgdT1PYmplY3QobC5jKShlLHIpO2IodS5zZWFyY2gsbiksZT1PYmplY3QobC5hKSh1KX1pLm9wZW4obyxlLCEwKSxwLmIuZ2V0Q29uZmlnKCJkaXNhYmxlQWpheFRpbWVvdXQiKXx8KGkudGltZW91dD1zKSxyLndpdGhDcmVkZW50aWFscyYmKGkud2l0aENyZWRlbnRpYWxzPSEwKSx5Ll9lYWNoKHIuY3VzdG9tSGVhZGVycyxmdW5jdGlvbihlLHQpe2kuc2V0UmVxdWVzdEhlYWRlcih0LGUpfSksci5wcmVmbGlnaHQmJmkuc2V0UmVxdWVzdEhlYWRlcigiWC1SZXF1ZXN0ZWQtV2l0aCIsIlhNTEh0dHBSZXF1ZXN0IiksaS5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLHIuY29udGVudFR5cGV8fCJ0ZXh0L3BsYWluIiksImZ1bmN0aW9uIj09dHlwZW9mIGQmJmQoYS5vcmlnaW4pLCJQT1NUIj09PW8mJm4/aS5zZW5kKG4pOmkuc2VuZCgpfWNhdGNoKGUpe3kubG9nRXJyb3IoInhociBjb25zdHJ1Y3Rpb24iLGUpfX19fSw1MDpmdW5jdGlvbihlLHQpe3ZhciBuPTAscj1NYXRoLnJhbmRvbSgpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4iU3ltYm9sKCIuY29uY2F0KHZvaWQgMD09PWU/IiI6ZSwiKV8iLCgrK24rcikudG9TdHJpbmcoMzYpKX19LDUxOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDYyKSxpPW4oNDApO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gcihpKGUpKX19LDUyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbSgpe3JldHVybiB0aGlzfXZhciBTPW4oNjQpLEU9bigxNSksQT1uKDk2KSxUPW4oMjEpLE89bigzMCksST1uKDk3KSx3PW4oNTQpLEM9bigxMDIpLGo9bigxNCkoIml0ZXJhdG9yIiksXz0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSxCPSJ2YWx1ZXMiO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixyLGksbyxhKXtJKG4sdCxyKTtmdW5jdGlvbiBjKGUpe2lmKCFfJiZlIGluIGcpcmV0dXJuIGdbZV07c3dpdGNoKGUpe2Nhc2Uia2V5cyI6Y2FzZSBCOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyxlKX19dmFyIHUscyxkLGY9dCsiIEl0ZXJhdG9yIixsPWk9PUIscD0hMSxnPWUucHJvdG90eXBlLGI9Z1tqXXx8Z1siQEBpdGVyYXRvciJdfHxpJiZnW2ldLHY9Ynx8YyhpKSx5PWk/bD9jKCJlbnRyaWVzIik6djp2b2lkIDAsaD0iQXJyYXkiPT10JiZnLmVudHJpZXN8fGI7aWYoaCYmKGQ9QyhoLmNhbGwobmV3IGUpKSkhPT1PYmplY3QucHJvdG90eXBlJiZkLm5leHQmJih3KGQsZiwhMCksU3x8ImZ1bmN0aW9uIj09dHlwZW9mIGRbal18fFQoZCxqLG0pKSxsJiZiJiZiLm5hbWUhPT1CJiYocD0hMCx2PWZ1bmN0aW9uKCl7cmV0dXJuIGIuY2FsbCh0aGlzKX0pLFMmJiFhfHwhXyYmIXAmJmdbal18fFQoZyxqLHYpLE9bdF09dixPW2ZdPW0saSlpZih1PXt2YWx1ZXM6bD92OmMoQiksa2V5czpvP3Y6Yygia2V5cyIpLGVudHJpZXM6eX0sYSlmb3IocyBpbiB1KXMgaW4gZ3x8QShnLHMsdVtzXSk7ZWxzZSBFKEUuUCtFLkYqKF98fHApLHQsdSk7cmV0dXJuIHV9fSw1MzpmdW5jdGlvbihlLHQsbil7dmFyIHI9big2MykoImtleXMiKSxpPW4oNTApO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gcltlXXx8KHJbZV09aShlKSl9fSw1NDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyMCkuZixpPW4oMjkpLG89bigxNCkoInRvU3RyaW5nVGFnIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXtlJiYhaShlPW4/ZTplLnByb3RvdHlwZSxvKSYmcihlLG8se2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSl9fSw1NTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlKXt2YXIgdD1lO3JldHVybntjYWxsQmlkczpmdW5jdGlvbigpe30sc2V0QmlkZGVyQ29kZTpmdW5jdGlvbihlKXt0PWV9LGdldEJpZGRlckNvZGU6ZnVuY3Rpb24oKXtyZXR1cm4gdH19fX0sNTk6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24odCxuKXtvLmFkU2VydmVycz1vLmFkU2VydmVyc3x8e30sby5hZFNlcnZlcnNbdF09by5hZFNlcnZlcnNbdF18fHt9LE9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oZSl7by5hZFNlcnZlcnNbdF1bZV0/T2JqZWN0KGkubG9nV2FybikoIkF0dGVtcHRpbmcgdG8gYWRkIGFuIGFscmVhZHkgcmVnaXN0ZXJlZCBmdW5jdGlvbiBwcm9wZXJ0eSAiLmNvbmNhdChlLCIgZm9yIEFkU2VydmVyICIpLmNvbmNhdCh0LCIuIikpOm8uYWRTZXJ2ZXJzW3RdW2VdPW5bZV19KX07dmFyIHI9bigyNCksaT1uKDApLG89T2JqZWN0KHIuYSkoKX0sNjA6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gZX19LDYxOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE3KSxpPW4oMTkpLmRvY3VtZW50LG89cihpKSYmcihpLmNyZWF0ZUVsZW1lbnQpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbz9pLmNyZWF0ZUVsZW1lbnQoZSk6e319fSw2MjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzOSk7ZS5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09cihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSw2MzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNiksaT1uKDE5KSxvPSJfX2NvcmUtanNfc2hhcmVkX18iLGE9aVtvXXx8KGlbb109e30pOyhlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYVtlXXx8KGFbZV09dm9pZCAwIT09dD90Ont9KX0pKCJ2ZXJzaW9ucyIsW10pLnB1c2goe3ZlcnNpb246ci52ZXJzaW9uLG1vZGU6big2NCk/InB1cmUiOiJnbG9iYWwiLGNvcHlyaWdodDoiwqkgMjAxOSBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KSJ9KX0sNjQ6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ITB9LDY1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgdT1uKDUxKSxzPW4oNDEpLGQ9big5Myk7ZS5leHBvcnRzPWZ1bmN0aW9uKGMpe3JldHVybiBmdW5jdGlvbihlLHQsbil7dmFyIHIsaT11KGUpLG89cyhpLmxlbmd0aCksYT1kKG4sbyk7aWYoYyYmdCE9dCl7Zm9yKDthPG87KWlmKChyPWlbYSsrXSkhPXIpcmV0dXJuITB9ZWxzZSBmb3IoO2E8bzthKyspaWYoKGN8fGEgaW4gaSkmJmlbYV09PT10KXJldHVybiBjfHxhfHwwO3JldHVybiFjJiYtMX19fSw2NjpmdW5jdGlvbihlLHQsbil7big5NCksbig2NyksbigxMDMpLG4oMTA1KSxuKDEwOSksbigxMTIpLG4oMTE0KSxlLmV4cG9ydHM9bigxNikuU2V0fSw2NzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oOTUpKCEwKTtuKDUyKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxuPXRoaXMuX2k7cmV0dXJuIG4+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9cih0LG4pLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSw2ODpmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gaSgpe312YXIgbz1yKDI4KSxhPXIoOTgpLGM9cig2OSksdT1yKDUzKSgiSUVfUFJPVE8iKSxzPSJwcm90b3R5cGUiLGQ9ZnVuY3Rpb24oKXt2YXIgZSx0PXIoNjEpKCJpZnJhbWUiKSxuPWMubGVuZ3RoO2Zvcih0LnN0eWxlLmRpc3BsYXk9Im5vbmUiLHIoMTAxKS5hcHBlbmRDaGlsZCh0KSx0LnNyYz0iamF2YXNjcmlwdDoiLChlPXQuY29udGVudFdpbmRvdy5kb2N1bWVudCkub3BlbigpLGUud3JpdGUoIjxzY3JpcHQ+ZG9jdW1lbnQuRj1PYmplY3Q8XC9zY3JpcHQ+IiksZS5jbG9zZSgpLGQ9ZS5GO24tLTspZGVsZXRlIGRbc11bY1tuXV07cmV0dXJuIGQoKX07ZS5leHBvcnRzPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKGUsdCl7dmFyIG47cmV0dXJuIG51bGwhPT1lPyhpW3NdPW8oZSksbj1uZXcgaSxpW3NdPW51bGwsblt1XT1lKTpuPWQoKSx2b2lkIDA9PT10P246YShuLHQpfX0sNjk6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0sNzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQodCwiZ2RwckRhdGFIYW5kbGVyIixmdW5jdGlvbigpe3JldHVybiBSfSksbi5kKHQsInVzcERhdGFIYW5kbGVyIixmdW5jdGlvbigpe3JldHVybiB4fSksdC5zZXRTMlNUZXN0aW5nTW9kdWxlPWZ1bmN0aW9uKGUpe3c9ZX07dmFyIEU9bigwKSxwPW4oODApLGc9bigyNyksZD1uKDEpLGg9big1KSxBPW4oMykscj1uKDExKSxUPW4ubihyKSxpPW4oMTIpLE89bi5uKGkpLGI9big4MSksST1uKDMyKTtmdW5jdGlvbiBtKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe2lmKCEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKXx8IltvYmplY3QgQXJndW1lbnRzXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpKXJldHVybjt2YXIgbj1bXSxyPSEwLGk9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgYSxjPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0oYT1jLm5leHQoKSkuZG9uZSkmJihuLnB1c2goYS52YWx1ZSksIXR8fG4ubGVuZ3RoIT09dCk7cj0hMCk7fWNhdGNoKGUpe2k9ITAsbz1lfWZpbmFsbHl7dHJ5e3J8fG51bGw9PWMucmV0dXJufHxjLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBvfX1yZXR1cm4gbn0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9KCl9ZnVuY3Rpb24gdigpe3JldHVybih2PU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIHcsQz1uKDApLGo9big0KSxTPW4oOCksZj17fSxfPWYuYmlkZGVyUmVnaXN0cnk9e30sbD1mLmFsaWFzUmVnaXN0cnk9e30sQj17fTtBLmIuZ2V0Q29uZmlnKCJzMnNDb25maWciLGZ1bmN0aW9uKGUpe0I9ZS5zMnNDb25maWd9KTt2YXIgbz17fTtmdW5jdGlvbiBVKGUpe3ZhciBpPWUuYmlkZGVyQ29kZSxzPWUuYXVjdGlvbklkLGQ9ZS5iaWRkZXJSZXF1ZXN0SWQsdD1lLmFkVW5pdHMsZj1lLmxhYmVscyxsPWUuc3JjO3JldHVybiB0LnJlZHVjZShmdW5jdGlvbihlLGMpe3ZhciB0PU9iamVjdChwLmIpKE9iamVjdChwLmEpKGMsZiksYy5tZWRpYVR5cGVzLGMuc2l6ZXMpLG49dC5hY3RpdmUsdT10Lm1lZGlhVHlwZXMscj10LmZpbHRlclJlc3VsdHM7cmV0dXJuIG4/ciYmQy5sb2dJbmZvKCdTaXplIG1hcHBpbmcgZmlsdGVyZWQgYWRVbml0ICInLmNvbmNhdChjLmNvZGUsJyIgYmFubmVyIHNpemVzIGZyb20gJyksci5iZWZvcmUsInRvICIsci5hZnRlcik6Qy5sb2dJbmZvKCdTaXplIG1hcHBpbmcgZGlzYWJsZWQgYWRVbml0ICInLmNvbmNhdChjLmNvZGUsJyInKSksbiYmZS5wdXNoKGMuYmlkcy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyPT09aX0pLnJlZHVjZShmdW5jdGlvbihlLHQpe3ZhciBuPWMubmF0aXZlUGFyYW1zfHxDLmRlZXBBY2Nlc3MoYywibWVkaWFUeXBlcy5uYXRpdmUiKTtuJiYodD12KHt9LHQse25hdGl2ZVBhcmFtczpPYmplY3QoZy5nKShuKX0pKSx0PXYoe30sdCxPYmplY3QoRS5nZXREZWZpbmVkUGFyYW1zKShjLFsibWVkaWFUeXBlIiwicmVuZGVyZXIiXSkpO3ZhciByPU9iamVjdChwLmIpKE9iamVjdChwLmEpKHQsZiksdSksaT1yLmFjdGl2ZSxvPXIubWVkaWFUeXBlcyxhPXIuZmlsdGVyUmVzdWx0cztyZXR1cm4gaT9hJiZDLmxvZ0luZm8oJ1NpemUgbWFwcGluZyBmaWx0ZXJlZCBhZFVuaXQgIicuY29uY2F0KGMuY29kZSwnIiBiaWRkZXIgIicpLmNvbmNhdCh0LmJpZGRlciwnIiBiYW5uZXIgc2l6ZXMgZnJvbSAnKSxhLmJlZm9yZSwidG8gIixhLmFmdGVyKTpDLmxvZ0luZm8oJ1NpemUgbWFwcGluZyBkZWFjdGl2YXRlZCBhZFVuaXQgIicuY29uY2F0KGMuY29kZSwnIiBiaWRkZXIgIicpLmNvbmNhdCh0LmJpZGRlciwnIicpKSxDLmlzVmFsaWRNZWRpYVR5cGVzKG8pP3Q9dih7fSx0LHttZWRpYVR5cGVzOm99KTpDLmxvZ0Vycm9yKCJtZWRpYVR5cGVzIGlzIG5vdCBjb3JyZWN0bHkgY29uZmlndXJlZCBmb3IgYWR1bml0ICIuY29uY2F0KGMuY29kZSkpLGkmJmUucHVzaCh2KHt9LHQse2FkVW5pdENvZGU6Yy5jb2RlLHRyYW5zYWN0aW9uSWQ6Yy50cmFuc2FjdGlvbklkLHNpemVzOkMuZGVlcEFjY2VzcyhvLCJiYW5uZXIuc2l6ZXMiKXx8Qy5kZWVwQWNjZXNzKG8sInZpZGVvLnBsYXllclNpemUiKXx8W10sYmlkSWQ6dC5iaWRfaWR8fEMuZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLGJpZGRlclJlcXVlc3RJZDpkLGF1Y3Rpb25JZDpzLHNyYzpsLGJpZFJlcXVlc3RzQ291bnQ6Yi5hLmdldFJlcXVlc3RzQ291bnRlcihjLmNvZGUpLGJpZGRlclJlcXVlc3RzQ291bnQ6Yi5hLmdldEJpZGRlclJlcXVlc3RzQ291bnRlcihjLmNvZGUsdC5iaWRkZXIpLGJpZGRlcldpbnNDb3VudDpiLmEuZ2V0QmlkZGVyV2luc0NvdW50ZXIoYy5jb2RlLHQuYmlkZGVyKX0pKSxlfSxbXSkpLGV9LFtdKS5yZWR1Y2UoRS5mbGF0dGVuLFtdKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIiIhPT1lfSl9dmFyIFI9e2NvbnNlbnREYXRhOm51bGwsc2V0Q29uc2VudERhdGE6ZnVuY3Rpb24oZSl7Ui5jb25zZW50RGF0YT1lfSxnZXRDb25zZW50RGF0YTpmdW5jdGlvbigpe3JldHVybiBSLmNvbnNlbnREYXRhfX0seD17Y29uc2VudERhdGE6bnVsbCxzZXRDb25zZW50RGF0YTpmdW5jdGlvbihlKXt4LmNvbnNlbnREYXRhPWV9LGdldENvbnNlbnREYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHguY29uc2VudERhdGF9fTtmdW5jdGlvbiBOKCl7cmV0dXJuIEImJkIuZW5hYmxlZCYmQi50ZXN0aW5nJiZ3fWZ1bmN0aW9uIGEodCxuLGUpe3RyeXt2YXIgcj1fW3RdLmdldFNwZWMoKTtyJiZyW25dJiYiZnVuY3Rpb24iPT10eXBlb2YgcltuXSYmKEMubG9nSW5mbygiSW52b2tpbmcgIi5jb25jYXQodCwiLiIpLmNvbmNhdChuKSksQS5iLnJ1bldpdGhCaWRkZXIodCxFLmJpbmQuY2FsbChyW25dLHIsZSkpKX1jYXRjaChlKXtDLmxvZ1dhcm4oIkVycm9yIGNhbGxpbmcgIi5jb25jYXQobiwiIG9mICIpLmNvbmNhdCh0KSl9fWYubWFrZUJpZFJlcXVlc3RzPWZ1bmN0aW9uKGUsaSxvLGEsYyl7dmFyIHU9W10sdD1PYmplY3QoRS5nZXRCaWRkZXJDb2RlcykoZSk7QS5iLmdldENvbmZpZygiYmlkZGVyU2VxdWVuY2UiKT09PUEuYSYmKHQ9T2JqZWN0KEUuc2h1ZmZsZSkodCkpO3ZhciBuLHIscyxkLGY9T2JqZWN0KEkuYikoKSxsPXQscD1bXTtpZihCLmVuYWJsZWQpe2lmKE4oKSl7dmFyIGc9dy5nZXRTb3VyY2VCaWRkZXJNYXAoZSk7cD1nW3cuQ0xJRU5UXX12YXIgYj1CLmJpZGRlcnM7bD10LmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hVCgpKGIsZSl8fFQoKShwLGUpfSk7Qm9vbGVhbihOKCkmJkIudGVzdFNlcnZlck9ubHkpJiYoZD1lLEJvb2xlYW4oTygpKGQsZnVuY3Rpb24oZSl7cmV0dXJuIE8oKShlLmJpZHMsZnVuY3Rpb24oZSl7cmV0dXJuKGUuYmlkU291cmNlfHxCLmJpZGRlckNvbnRyb2wmJkIuYmlkZGVyQ29udHJvbFtlLmJpZGRlcl0pJiZlLmZpbmFsU291cmNlPT09dy5TRVJWRVJ9KX0pKSkmJihsLmxlbmd0aD0wKTt2YXIgdj0obj1lLHI9Qi5iaWRkZXJzLChzPUMuZGVlcENsb25lKG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuYmlkcz1lLmJpZHMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBUKCkocixlLmJpZGRlcikmJighTigpfHxlLmZpbmFsU291cmNlIT09dy5DTElFTlQpfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZF9pZD1DLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxlfSl9KSxzPXMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiAwIT09ZS5iaWRzLmxlbmd0aH0pKSx5PUMuZ2VuZXJhdGVVVUlEKCk7Yi5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PUMuZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLG49e2JpZGRlckNvZGU6ZSxhdWN0aW9uSWQ6byxiaWRkZXJSZXF1ZXN0SWQ6dCx0aWQ6eSxiaWRzOlUoe2JpZGRlckNvZGU6ZSxhdWN0aW9uSWQ6byxiaWRkZXJSZXF1ZXN0SWQ6dCxhZFVuaXRzOkMuZGVlcENsb25lKHYpLGxhYmVsczpjLHNyYzpqLlMyUy5TUkN9KSxhdWN0aW9uU3RhcnQ6aSx0aW1lb3V0OkIudGltZW91dCxzcmM6ai5TMlMuU1JDLHJlZmVyZXJJbmZvOmZ9OzAhPT1uLmJpZHMubGVuZ3RoJiZ1LnB1c2gobil9KSx2LmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5iaWRzLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gTygpKHUsZnVuY3Rpb24oZSl7cmV0dXJuIE8oKShlLmJpZHMsZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkSWQ9PT10LmJpZF9pZH0pfSl9KTtlLmJpZHM9dH0pLHUuZm9yRWFjaChmdW5jdGlvbihlKXtlLmFkVW5pdHNTMlNDb3B5PXYuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiAwPGUuYmlkcy5sZW5ndGh9KX0pfXZhciBoLG0sUz0oaD1lLChtPUMuZGVlcENsb25lKGgpKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuYmlkcz1lLmJpZHMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFOKCl8fGUuZmluYWxTb3VyY2UhPT13LlNFUlZFUn0pfSksbT1tLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMCE9PWUuYmlkcy5sZW5ndGh9KSk7cmV0dXJuIGwuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1DLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxuPXtiaWRkZXJDb2RlOmUsYXVjdGlvbklkOm8sYmlkZGVyUmVxdWVzdElkOnQsYmlkczpVKHtiaWRkZXJDb2RlOmUsYXVjdGlvbklkOm8sYmlkZGVyUmVxdWVzdElkOnQsYWRVbml0czpDLmRlZXBDbG9uZShTKSxsYWJlbHM6YyxzcmM6ImNsaWVudCJ9KSxhdWN0aW9uU3RhcnQ6aSx0aW1lb3V0OmEscmVmZXJlckluZm86Zn0scj1fW2VdO3J8fEMubG9nRXJyb3IoIlRyeWluZyB0byBtYWtlIGEgcmVxdWVzdCBmb3IgYmlkZGVyIHRoYXQgZG9lcyBub3QgZXhpc3Q6ICIuY29uY2F0KGUpKSxyJiZuLmJpZHMmJjAhPT1uLmJpZHMubGVuZ3RoJiZ1LnB1c2gobil9KSxSLmdldENvbnNlbnREYXRhKCkmJnUuZm9yRWFjaChmdW5jdGlvbihlKXtlLmdkcHJDb25zZW50PVIuZ2V0Q29uc2VudERhdGEoKX0pLHguZ2V0Q29uc2VudERhdGEoKSYmdS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UudXNwQ29uc2VudD14LmdldENvbnNlbnREYXRhKCl9KSx1fSxmLmNhbGxCaWRzPWZ1bmN0aW9uKGUsdCxyLGksbyxhLGMpe2lmKHQubGVuZ3RoKXt2YXIgbj1tKHQucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbTnVtYmVyKHZvaWQgMCE9PXQuc3JjJiZ0LnNyYz09PWouUzJTLlNSQyldLnB1c2godCksZX0sW1tdLFtdXSksMiksdT1uWzBdLHM9blsxXTtpZihzLmxlbmd0aCl7dmFyIGQ9T2JqZWN0KGguYikoYSxvP3tyZXF1ZXN0Om8ucmVxdWVzdC5iaW5kKG51bGwsInMycyIpLGRvbmU6by5kb25lfTp2b2lkIDApLGY9Qi5iaWRkZXJzLGw9X1tCLmFkYXB0ZXJdLHA9c1swXS50aWQsZz1zWzBdLmFkVW5pdHNTMlNDb3B5O2lmKGwpe3ZhciBiPXt0aWQ6cCxhZF91bml0czpnfTtpZihiLmFkX3VuaXRzLmxlbmd0aCl7dmFyIHY9cy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhcnQ9T2JqZWN0KEUudGltZXN0YW1wKSgpLGkuYmluZChlKX0pLHk9Yi5hZF91bml0cy5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQoKHQuYmlkc3x8W10pLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCh0LmJpZGRlcil9LFtdKSl9LFtdKTtDLmxvZ01lc3NhZ2UoIkNBTExJTkcgUzJTIEhFQURFUiBCSURERVJTID09PT0gIi5jb25jYXQoZi5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIFQoKSh5LGUpfSkuam9pbigiLCIpKSkscy5mb3JFYWNoKGZ1bmN0aW9uKGUpe1MuZW1pdChqLkVWRU5UUy5CSURfUkVRVUVTVEVELGUpfSksbC5jYWxsQmlkcyhiLHMsZnVuY3Rpb24oZSx0KXt2YXIgbj1PYmplY3QoRS5nZXRCaWRkZXJSZXF1ZXN0KShzLHQuYmlkZGVyQ29kZSxlKTtuJiZyLmNhbGwobixlLHQpfSxmdW5jdGlvbigpe3JldHVybiB2LmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUoKX0pfSxkKX19ZWxzZSBDLmxvZ0Vycm9yKCJtaXNzaW5nICIrQi5hZGFwdGVyKX11LmZvckVhY2goZnVuY3Rpb24oZSl7ZS5zdGFydD1PYmplY3QoRS50aW1lc3RhbXApKCk7dmFyIHQ9X1tlLmJpZGRlckNvZGVdO0MubG9nTWVzc2FnZSgiQ0FMTElORyBCSURERVIgPT09PT09PSAiLmNvbmNhdChlLmJpZGRlckNvZGUpKSxTLmVtaXQoai5FVkVOVFMuQklEX1JFUVVFU1RFRCxlKTt2YXIgbj1PYmplY3QoaC5iKShhLG8/e3JlcXVlc3Q6by5yZXF1ZXN0LmJpbmQobnVsbCxlLmJpZGRlckNvZGUpLGRvbmU6by5kb25lfTp2b2lkIDApO0EuYi5ydW5XaXRoQmlkZGVyKGUuYmlkZGVyQ29kZSxFLmJpbmQuY2FsbCh0LmNhbGxCaWRzLHQsZSxyLmJpbmQoZSksaS5iaW5kKGUpLG4sYyxBLmIuY2FsbGJhY2tXaXRoQmlkZGVyKGUuYmlkZGVyQ29kZSkpKX0pfWVsc2UgQy5sb2dXYXJuKCJjYWxsQmlkcyBleGVjdXRlZCB3aXRoIG5vIGJpZFJlcXVlc3RzLiAgV2VyZSB0aGV5IGZpbHRlcmVkIGJ5IGxhYmVscyBvciBzaXppbmc/Iil9LGYudmlkZW9BZGFwdGVycz1bXSxmLnJlZ2lzdGVyQmlkQWRhcHRlcj1mdW5jdGlvbihlLHQpe3ZhciBuPSgyPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30pLnN1cHBvcnRlZE1lZGlhVHlwZXMscj12b2lkIDA9PT1uP1tdOm47ZSYmdD8iZnVuY3Rpb24iPT10eXBlb2YgZS5jYWxsQmlkcz8oX1t0XT1lLFQoKShyLCJ2aWRlbyIpJiZmLnZpZGVvQWRhcHRlcnMucHVzaCh0KSxUKCkociwibmF0aXZlIikmJmcuZS5wdXNoKHQpKTpDLmxvZ0Vycm9yKCJCaWRkZXIgYWRhcHRvciBlcnJvciBmb3IgYmlkZGVyIGNvZGU6ICIrdCsiYmlkZGVyIG11c3QgaW1wbGVtZW50IGEgY2FsbEJpZHMoKSBmdW5jdGlvbiIpOkMubG9nRXJyb3IoImJpZEFkYXB0b3Igb3IgYmlkZGVyQ29kZSBub3Qgc3BlY2lmaWVkIil9LGYuYWxpYXNCaWRBZGFwdGVyPWZ1bmN0aW9uKHQsZSl7dmFyIG4scjtpZih2b2lkIDA9PT1fW2VdKXt2YXIgaT1fW3RdO2lmKHZvaWQgMD09PWkpe3ZhciBvPUEuYi5nZXRDb25maWcoInMyc0NvbmZpZyIpLGE9byYmby5iaWRkZXJzO2EmJlQoKShhLGUpP2xbZV09dDpDLmxvZ0Vycm9yKCdiaWRkZXJDb2RlICInK3QrJyIgaXMgbm90IGFuIGV4aXN0aW5nIGJpZGRlci4nLCJhZGFwdGVyTWFuYWdlci5hbGlhc0JpZEFkYXB0ZXIiKX1lbHNlIHRyeXt2YXIgYyx1PShuPXQscj1bXSxUKCkoZi52aWRlb0FkYXB0ZXJzLG4pJiZyLnB1c2goInZpZGVvIiksVCgpKGcuZSxuKSYmci5wdXNoKCJuYXRpdmUiKSxyKTtpZihpLmNvbnN0cnVjdG9yLnByb3RvdHlwZSE9T2JqZWN0LnByb3RvdHlwZSkoYz1uZXcgaS5jb25zdHJ1Y3Rvcikuc2V0QmlkZGVyQ29kZShlKTtlbHNle3ZhciBzPWkuZ2V0U3BlYygpO2M9T2JqZWN0KGQubmV3QmlkZGVyKSh2KHt9LHMse2NvZGU6ZX0pKSxsW2VdPXR9Zi5yZWdpc3RlckJpZEFkYXB0ZXIoYyxlLHtzdXBwb3J0ZWRNZWRpYVR5cGVzOnV9KX1jYXRjaChlKXtDLmxvZ0Vycm9yKHQrIiBiaWRkZXIgZG9lcyBub3QgY3VycmVudGx5IHN1cHBvcnQgYWxpYXNpbmcuIiwiYWRhcHRlck1hbmFnZXIuYWxpYXNCaWRBZGFwdGVyIil9fWVsc2UgQy5sb2dNZXNzYWdlKCdhbGlhcyBuYW1lICInK2UrJyIgaGFzIGJlZW4gYWxyZWFkeSBzcGVjaWZpZWQuJyl9LGYucmVnaXN0ZXJBbmFseXRpY3NBZGFwdGVyPWZ1bmN0aW9uKGUpe3ZhciB0PWUuYWRhcHRlcixuPWUuY29kZTt0JiZuPyJmdW5jdGlvbiI9PXR5cGVvZiB0LmVuYWJsZUFuYWx5dGljcz8odC5jb2RlPW4sb1tuXT10KTpDLmxvZ0Vycm9yKCdQcmViaWQgRXJyb3I6IEFuYWx5dGljcyBhZGFwdG9yIGVycm9yIGZvciBhbmFseXRpY3MgIicuY29uY2F0KG4sJyJcbiAgICAgICAgYW5hbHl0aWNzIGFkYXB0ZXIgbXVzdCBpbXBsZW1lbnQgYW4gZW5hYmxlQW5hbHl0aWNzKCkgZnVuY3Rpb24nKSk6Qy5sb2dFcnJvcigiUHJlYmlkIEVycm9yOiBhbmFseXRpY3NBZGFwdGVyIG9yIGFuYWx5dGljc0NvZGUgbm90IHNwZWNpZmllZCIpfSxmLmVuYWJsZUFuYWx5dGljcz1mdW5jdGlvbihlKXtDLmlzQXJyYXkoZSl8fChlPVtlXSksQy5fZWFjaChlLGZ1bmN0aW9uKGUpe3ZhciB0PW9bZS5wcm92aWRlcl07dD90LmVuYWJsZUFuYWx5dGljcyhlKTpDLmxvZ0Vycm9yKCJQcmViaWQgRXJyb3I6IG5vIGFuYWx5dGljcyBhZGFwdGVyIGZvdW5kIGluIHJlZ2lzdHJ5IGZvclxuICAgICAgICAiLmNvbmNhdChlLnByb3ZpZGVyLCIuIikpfSl9LGYuZ2V0QmlkQWRhcHRlcj1mdW5jdGlvbihlKXtyZXR1cm4gX1tlXX0sZi5jYWxsVGltZWRPdXRCaWRkZXJzPWZ1bmN0aW9uKHQsbixyKXtuPW4ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtcz1DLmdldFVzZXJDb25maWd1cmVkUGFyYW1zKHQsZS5hZFVuaXRDb2RlLGUuYmlkZGVyKSxlLnRpbWVvdXQ9cixlfSksbj1DLmdyb3VwQnkobiwiYmlkZGVyIiksT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXthKGUsIm9uVGltZW91dCIsbltlXSl9KX0sZi5jYWxsQmlkV29uQmlkZGVyPWZ1bmN0aW9uKGUsdCxuKXt0LnBhcmFtcz1DLmdldFVzZXJDb25maWd1cmVkUGFyYW1zKG4sdC5hZFVuaXRDb2RlLHQuYmlkZGVyKSxiLmEuaW5jcmVtZW50QmlkZGVyV2luc0NvdW50ZXIodC5hZFVuaXRDb2RlLHQuYmlkZGVyKSxhKGUsIm9uQmlkV29uIix0KX0sZi5jYWxsU2V0VGFyZ2V0aW5nQmlkZGVyPWZ1bmN0aW9uKGUsdCl7YShlLCJvblNldFRhcmdldGluZyIsdCl9LHQuZGVmYXVsdD1mfSw3MDpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybnt2YWx1ZTp0LGRvbmU6ISFlfX19LDcxOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uKDIxKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgciBpbiB0KW4mJmVbcl0/ZVtyXT10W3JdOmkoZSxyLHRbcl0pO3JldHVybiBlfX0sNzI6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4scil7aWYoIShlIGluc3RhbmNlb2YgdCl8fHZvaWQgMCE9PXImJnIgaW4gZSl0aHJvdyBUeXBlRXJyb3IobisiOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEiKTtyZXR1cm4gZX19LDczOmZ1bmN0aW9uKGUsdCxuKXt2YXIgbz1uKDI4KTtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4scil7dHJ5e3JldHVybiByP2UobyhuKVswXSxuWzFdKTplKG4pfWNhdGNoKGUpe3ZhciBpPXQucmV0dXJuO3Rocm93IHZvaWQgMCE9PWkmJm8oaS5jYWxsKHQpKSxlfX19LDczMTpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oODMpfSw3NDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMCksaT1uKDE0KSgiaXRlcmF0b3IiKSxvPUFycmF5LnByb3RvdHlwZTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihyLkFycmF5PT09ZXx8b1tpXT09PWUpfX0sNzU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNzYpLGk9bigxNCkoIml0ZXJhdG9yIiksbz1uKDMwKTtlLmV4cG9ydHM9bigxNikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7aWYobnVsbCE9ZSlyZXR1cm4gZVtpXXx8ZVsiQEBpdGVyYXRvciJdfHxvW3IoZSldfX0sNzY6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4oMzkpLG89bigxNCkoInRvU3RyaW5nVGFnIiksYT0iQXJndW1lbnRzIj09aShmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxuLHI7cmV0dXJuIHZvaWQgMD09PWU/IlVuZGVmaW5lZCI6bnVsbD09PWU/Ik51bGwiOiJzdHJpbmciPT10eXBlb2Yobj1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChlKXt9fSh0PU9iamVjdChlKSxvKSk/bjphP2kodCk6Ik9iamVjdCI9PShyPWkodCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6cn19LDc3OmZ1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiByKGUpe2MoZSxpLHt2YWx1ZTp7aToiTyIrICsrdSx3Ont9fX0pfXZhciBpPW4oNTApKCJtZXRhIiksbz1uKDE3KSxhPW4oMjkpLGM9bigyMCkuZix1PTAscz1PYmplY3QuaXNFeHRlbnNpYmxlfHxmdW5jdGlvbigpe3JldHVybiEwfSxkPSFuKDM4KShmdW5jdGlvbigpe3JldHVybiBzKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpfSksZj1lLmV4cG9ydHM9e0tFWTppLE5FRUQ6ITEsZmFzdEtleTpmdW5jdGlvbihlLHQpe2lmKCFvKGUpKXJldHVybiJzeW1ib2wiPT10eXBlb2YgZT9lOigic3RyaW5nIj09dHlwZW9mIGU/IlMiOiJQIikrZTtpZighYShlLGkpKXtpZighcyhlKSlyZXR1cm4iRiI7aWYoIXQpcmV0dXJuIkUiO3IoZSl9cmV0dXJuIGVbaV0uaX0sZ2V0V2VhazpmdW5jdGlvbihlLHQpe2lmKCFhKGUsaSkpe2lmKCFzKGUpKXJldHVybiEwO2lmKCF0KXJldHVybiExO3IoZSl9cmV0dXJuIGVbaV0ud30sb25GcmVlemU6ZnVuY3Rpb24oZSl7cmV0dXJuIGQmJmYuTkVFRCYmcyhlKSYmIWEoZSxpKSYmcihlKSxlfX19LDc4OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE3KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighcihlKXx8ZS5fdCE9PXQpdGhyb3cgVHlwZUVycm9yKCJJbmNvbXBhdGlibGUgcmVjZWl2ZXIsICIrdCsiIHJlcXVpcmVkISIpO3JldHVybiBlfX0sNzk6ZnVuY3Rpb24oZSx0LG4pe24oNjcpLG4oMTE2KSxlLmV4cG9ydHM9bigxNikuQXJyYXkuZnJvbX0sODpmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcigpe3JldHVybihyPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGMsaSx1PW4oMCksbz1uKDQpLGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLHM9QXJyYXkucHJvdG90eXBlLnB1c2gsZD11Ll9tYXAoby5FVkVOVFMsZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSxmPW8uRVZFTlRfSURfUEFUSFMsbD1bXTtlLmV4cG9ydHM9KGM9e30sKGk9e30pLm9uPWZ1bmN0aW9uKGUsdCxuKXtpZihpPWUsdS5jb250YWlucyhkLGkpKXt2YXIgcj1jW2VdfHx7cXVlOltdfTtuPyhyW25dPXJbbl18fHtxdWU6W119LHJbbl0ucXVlLnB1c2godCkpOnIucXVlLnB1c2godCksY1tlXT1yfWVsc2UgdS5sb2dFcnJvcigiV3JvbmcgZXZlbnQgbmFtZSA6ICIrZSsiIFZhbGlkIGV2ZW50IG5hbWVzIDoiK2QpO3ZhciBpfSxpLmVtaXQ9ZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUsdCl7dS5sb2dNZXNzYWdlKCJFbWl0dGluZyBldmVudCBmb3I6ICIrZSk7dmFyIG49dFswXXx8e30scj1uW2ZbZV1dLGk9Y1tlXXx8e3F1ZTpbXX0sbz11Ll9tYXAoaSxmdW5jdGlvbihlLHQpe3JldHVybiB0fSksYT1bXTtsLnB1c2goe2V2ZW50VHlwZTplLGFyZ3M6bixpZDpyfSksciYmdS5jb250YWlucyhvLHIpJiZzLmFwcGx5KGEsaVtyXS5xdWUpLHMuYXBwbHkoYSxpLnF1ZSksdS5fZWFjaChhLGZ1bmN0aW9uKGUpe2lmKGUpdHJ5e2UuYXBwbHkobnVsbCx0KX1jYXRjaChlKXt1LmxvZ0Vycm9yKCJFcnJvciBleGVjdXRpbmcgaGFuZGxlcjoiLCJldmVudHMuanMiLGUpfX0pfShlLGEuY2FsbChhcmd1bWVudHMsMSkpfSxpLm9mZj1mdW5jdGlvbihlLG4scil7dmFyIGk9Y1tlXTt1LmlzRW1wdHkoaSl8fHUuaXNFbXB0eShpLnF1ZSkmJnUuaXNFbXB0eShpW3JdKXx8ciYmKHUuaXNFbXB0eShpW3JdKXx8dS5pc0VtcHR5KGlbcl0ucXVlKSl8fChyP3UuX2VhY2goaVtyXS5xdWUsZnVuY3Rpb24oZSl7dmFyIHQ9aVtyXS5xdWU7ZT09PW4mJnQuc3BsaWNlKHUuaW5kZXhPZi5jYWxsKHQsZSksMSl9KTp1Ll9lYWNoKGkucXVlLGZ1bmN0aW9uKGUpe3ZhciB0PWkucXVlO2U9PT1uJiZ0LnNwbGljZSh1LmluZGV4T2YuY2FsbCh0LGUpLDEpfSksY1tlXT1pKX0saS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gY30saS5nZXRFdmVudHM9ZnVuY3Rpb24oKXt2YXIgbj1bXTtyZXR1cm4gdS5fZWFjaChsLGZ1bmN0aW9uKGUpe3ZhciB0PXIoe30sZSk7bi5wdXNoKHQpfSksbn0saSl9LDgwOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUsdCl7aWYoZS5sYWJlbEFsbClyZXR1cm57bGFiZWxBbGw6ITAsbGFiZWxzOmUubGFiZWxBbGwsYWN0aXZlTGFiZWxzOnR9O3JldHVybntsYWJlbEFsbDohMSxsYWJlbHM6ZS5sYWJlbEFueSxhY3RpdmVMYWJlbHM6dH19LHQuYz1mdW5jdGlvbihlKXt2YXIgdD12KDE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpiKTtyZXR1cm4hdC5zaG91bGRGaWx0ZXJ8fCEhdC5zaXplc1N1cHBvcnRlZFtlXX0sdC5iPWZ1bmN0aW9uKCl7dmFyIGU9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5sYWJlbHMsbj12b2lkIDA9PT10P1tdOnQscj1lLmxhYmVsQWxsLGk9dm9pZCAwIT09ciYmcixvPWUuYWN0aXZlTGFiZWxzLGE9dm9pZCAwPT09bz9bXTpvLGM9MTxhcmd1bWVudHMubGVuZ3RoP2FyZ3VtZW50c1sxXTp2b2lkIDAsdT0yPGFyZ3VtZW50cy5sZW5ndGg/YXJndW1lbnRzWzJdOnZvaWQgMCxzPXYoMzxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOmIpO2M9T2JqZWN0KHAuaXNQbGFpbk9iamVjdCkoYyk/T2JqZWN0KHAuZGVlcENsb25lKShjKTp1P3tiYW5uZXI6e3NpemVzOnV9fTp7fTt2YXIgZD1PYmplY3QocC5kZWVwQWNjZXNzKShjLCJiYW5uZXIuc2l6ZXMiKTtzLnNob3VsZEZpbHRlciYmZCYmKGMuYmFubmVyLnNpemVzPWQuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBzLnNpemVzU3VwcG9ydGVkW2VdfSkpO3ZhciBmPU9iamVjdC5rZXlzKGMpLGw9e2FjdGl2ZTpmLmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybiJiYW5uZXIiIT09ZX0pfHxmLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuImJhbm5lciI9PT1lfSkmJjA8T2JqZWN0KHAuZGVlcEFjY2VzcykoYywiYmFubmVyLnNpemVzLmxlbmd0aCIpJiYoMD09PW4ubGVuZ3RofHwhaSYmKG4uc29tZShmdW5jdGlvbihlKXtyZXR1cm4gcy5sYWJlbHNbZV19KXx8bi5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBnKCkoYSxlKX0pKXx8aSYmbi5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT9zLmxhYmVsc1t0XXx8ZygpKGEsdCk6ZX0sITApKSxtZWRpYVR5cGVzOmN9O2QmJmQubGVuZ3RoIT09Yy5iYW5uZXIuc2l6ZXMubGVuZ3RoJiYobC5maWx0ZXJSZXN1bHRzPXtiZWZvcmU6ZCxhZnRlcjpjLmJhbm5lci5zaXplc30pO3JldHVybiBsfTt2YXIgcj1uKDMpLHA9bigwKSxpPW4oMTEpLGc9bi5uKGkpO2Z1bmN0aW9uIG8oZSl7cmV0dXJuKG89ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgYj1bXTtmdW5jdGlvbiB2KGUpe3JldHVybiBlLnJlZHVjZShmdW5jdGlvbihuLHIpe2lmKCJvYmplY3QiPT09byhyKSYmInN0cmluZyI9PXR5cGVvZiByLm1lZGlhUXVlcnkpe3ZhciB0PSExO3RyeXt0PU9iamVjdChwLmdldFdpbmRvd1RvcCkoKS5tYXRjaE1lZGlhKHIubWVkaWFRdWVyeSkubWF0Y2hlc31jYXRjaChlKXtPYmplY3QocC5sb2dXYXJuKSgiVW5mcmllbmRseSBpRnJhbWUgYmxvY2tzIHNpemVDb25maWcgZnJvbSBiZWluZyBjb3JyZWN0bHkgZXZhbHVhdGVkIiksdD1tYXRjaE1lZGlhKHIubWVkaWFRdWVyeSkubWF0Y2hlc310JiYoQXJyYXkuaXNBcnJheShyLnNpemVzU3VwcG9ydGVkKSYmKG4uc2hvdWxkRmlsdGVyPSEwKSxbImxhYmVscyIsInNpemVzU3VwcG9ydGVkIl0uZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4oclt0XXx8W10pLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIG5bdF1bZV09ITB9KX0pKX1lbHNlIE9iamVjdChwLmxvZ1dhcm4pKCdzaXplQ29uZmlnIHJ1bGUgbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSAibWVkaWFRdWVyeSInKTtyZXR1cm4gbn0se2xhYmVsczp7fSxzaXplc1N1cHBvcnRlZDp7fSxzaG91bGRGaWx0ZXI6ITF9KX1yLmIuZ2V0Q29uZmlnKCJzaXplQ29uZmlnIixmdW5jdGlvbihlKXtyZXR1cm4gdD1lLnNpemVDb25maWcsdm9pZChiPXQpO3ZhciB0fSl9LDgxOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLGZ1bmN0aW9uKCl7cmV0dXJuIG99KTt2YXIgcj1uKDApLGM9e307ZnVuY3Rpb24gaShlLHQsbil7dmFyIHIsaSxvLGE9KGk9bixvPWNbcj1lXT1jW3JdfHx7YmlkZGVyczp7fX0saT9vLmJpZGRlcnNbaV09by5iaWRkZXJzW2ldfHx7fTpvKTtyZXR1cm4gYVt0XT0oYVt0XXx8MCkrMSxhW3RdfXZhciBvPXtpbmNyZW1lbnRSZXF1ZXN0c0NvdW50ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSwicmVxdWVzdHNDb3VudGVyIil9LGluY3JlbWVudEJpZGRlclJlcXVlc3RzQ291bnRlcjpmdW5jdGlvbihlLHQpe3JldHVybiBpKGUsInJlcXVlc3RzQ291bnRlciIsdCl9LGluY3JlbWVudEJpZGRlcldpbnNDb3VudGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoZSwid2luc0NvdW50ZXIiLHQpfSxnZXRSZXF1ZXN0c0NvdW50ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChyLmRlZXBBY2Nlc3MpKGMsIiIuY29uY2F0KGUsIi5yZXF1ZXN0c0NvdW50ZXIiKSl8fDB9LGdldEJpZGRlclJlcXVlc3RzQ291bnRlcjpmdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShjLCIiLmNvbmNhdChlLCIuYmlkZGVycy4iKS5jb25jYXQodCwiLnJlcXVlc3RzQ291bnRlciIpKXx8MH0sZ2V0QmlkZGVyV2luc0NvdW50ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0KHIuZGVlcEFjY2VzcykoYywiIi5jb25jYXQoZSwiLmJpZGRlcnMuIikuY29uY2F0KHQsIi53aW5zQ291bnRlciIpKXx8MH19fSw4MjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYj1mdW5jdGlvbihlLHQpe3ZhciBuPXtwdXRzOmUubWFwKGkpfTtPYmplY3Qoci5hKShvLmIuZ2V0Q29uZmlnKCJjYWNoZS51cmwiKSxmdW5jdGlvbihuKXtyZXR1cm57c3VjY2VzczpmdW5jdGlvbihlKXt2YXIgdDt0cnl7dD1KU09OLnBhcnNlKGUpLnJlc3BvbnNlc31jYXRjaChlKXtyZXR1cm4gdm9pZCBuKGUsW10pfXQ/bihudWxsLHQpOm4obmV3IEVycm9yKCJUaGUgY2FjaGUgc2VydmVyIGRpZG4ndCByZXNwb25kIHdpdGggYSByZXNwb25zZXMgcHJvcGVydHkuIiksW10pfSxlcnJvcjpmdW5jdGlvbihlLHQpe24obmV3IEVycm9yKCJFcnJvciBzdG9yaW5nIHZpZGVvIGFkIGluIHRoZSBjYWNoZTogIi5jb25jYXQoZSwiOiAiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkodCkpKSxbXSl9fX0odCksSlNPTi5zdHJpbmdpZnkobikse2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIix3aXRoQ3JlZGVudGlhbHM6ITB9KX0sdC5hPWZ1bmN0aW9uKGUpe3JldHVybiIiLmNvbmNhdChvLmIuZ2V0Q29uZmlnKCJjYWNoZS51cmwiKSwiP3V1aWQ9IikuY29uY2F0KGUpfTt2YXIgcj1uKDUpLG89bigzKTtmdW5jdGlvbiBpKGUpe3ZhciB0LG4scixpPXt0eXBlOiJ4bWwiLHZhbHVlOmUudmFzdFhtbD9lLnZhc3RYbWw6KHQ9ZS52YXN0VXJsLG49ZS52YXN0SW1wVXJsLHI9bj8iPCFbQ0RBVEFbIi5jb25jYXQobiwiXV0+Iik6IiIsJzxWQVNUIHZlcnNpb249IjMuMCI+XG4gICAgPEFkPlxuICAgICAgPFdyYXBwZXI+XG4gICAgICAgIDxBZFN5c3RlbT5wcmViaWQub3JnIHdyYXBwZXI8L0FkU3lzdGVtPlxuICAgICAgICA8VkFTVEFkVGFnVVJJPjwhW0NEQVRBWycuY29uY2F0KHQsIl1dPjwvVkFTVEFkVGFnVVJJPlxuICAgICAgICA8SW1wcmVzc2lvbj4iKS5jb25jYXQociwiPC9JbXByZXNzaW9uPlxuICAgICAgICA8Q3JlYXRpdmVzPjwvQ3JlYXRpdmVzPlxuICAgICAgPC9XcmFwcGVyPlxuICAgIDwvQWQ+XG4gIDwvVkFTVD4iKSksdHRsc2Vjb25kczpOdW1iZXIoZS50dGwpfTtyZXR1cm4gby5iLmdldENvbmZpZygiY2FjaGUudmFzdHRyYWNrIikmJihpLmJpZGRlcj1lLmJpZGRlcixpLmJpZGlkPWUucmVxdWVzdElkKSwic3RyaW5nIj09dHlwZW9mIGUuY3VzdG9tQ2FjaGVLZXkmJiIiIT09ZS5jdXN0b21DYWNoZUtleSYmKGkua2V5PWUuY3VzdG9tQ2FjaGVLZXkpLGl9fSw4MzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQodCwiY2hlY2tBZFVuaXRTZXR1cCIsZnVuY3Rpb24oKXtyZXR1cm4gV30pO3ZhciByPW4oMjQpLGM9bigwKSxpPW4oMTcwKSxvPW4oMzMpLGE9bigzNSksZD1uKDMpLG09bigyNSksZj1uKDM3KSx1PW4oMTMpLHM9bigxNzEpLGw9bigxMSkscD1uLm4obCksZz1uKDgxKSxTPW4oMTApLGI9bigyMyksdj1uKDMxKTtmdW5jdGlvbiB5KGUpe3JldHVybih5PSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gaCgpe3JldHVybihoPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIEU9T2JqZWN0KHIuYSkoKSxBPW4oNCksVD1uKDApLE89big3KS5kZWZhdWx0LEk9big4KSx3PW8uYS50cmlnZ2VyVXNlclN5bmNzLEM9QS5FVkVOVFMsaj1DLkFERF9BRF9VTklUUyxfPUMuQklEX1dPTixCPUMuUkVRVUVTVF9CSURTLFU9Qy5TRVRfVEFSR0VUSU5HLFI9Qy5BRF9SRU5ERVJfRkFJTEVELHg9QS5BRF9SRU5ERVJfRkFJTEVEX1JFQVNPTixOPXguUFJFVkVOVF9XUklUSU5HX09OX01BSU5fRE9DVU1FTlQsRD14Lk5PX0FELGs9eC5FWENFUFRJT04sUD14LkNBTk5PVF9GSU5EX0FELE09eC5NSVNTSU5HX0RPQ19PUl9BRElELHE9e2JpZFdvbjpmdW5jdGlvbihlKXt2YXIgdD1tLmEuZ2V0Qmlkc1JlcXVlc3RlZCgpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlfSl9KS5yZWR1Y2UoYy5mbGF0dGVuKS5maWx0ZXIoYy51bmlxdWVzKTtyZXR1cm4hIVQuY29udGFpbnModCxlKXx8dm9pZCBULmxvZ0Vycm9yKCdUaGUgIicrZSsnIiBwbGFjZW1lbnQgaXMgbm90IGRlZmluZWQuJyl9fTtmdW5jdGlvbiBHKGUsdCxuKXtlJiYoZS53aWR0aD10LGUuaGVpZ2h0PW4pfXdpbmRvdy51cGJqcy5wcmViaWRWZXJzaW9uPSIyLjIzLjAiLE9iamVjdChzLmEpKCksRS5iaWRkZXJTZXR0aW5ncz1FLmJpZGRlclNldHRpbmdzfHx7fSxFLmxpYkxvYWRlZD0hMCxFLnZlcnNpb249InYyLjQ0LjEiLFQubG9nSW5mbygiUHJlYmlkLmpzIHYyLjQ0LjEgbG9hZGVkIiksRS5hZFVuaXRzPUUuYWRVbml0c3x8W10sRS5zZXRVcENvb2tpZUZyYW1lPWZ1bmN0aW9uKGUpe1QubG9nSW5mbygiSW52b2tpbmcgdXBianMuc2V0VXBDb29raWVGcmFtZSIsYXJndW1lbnRzKSx2LmQoZSl9LEUub25CZWZvcmVSZXF1ZXN0PWZ1bmN0aW9uKGUpe1QubG9nSW5mbygiSW52b2tpbmcgdXBianMub25CZWZvcmVSZXF1ZXN0Iixhcmd1bWVudHMpLHYuYihlKX0sRS50cmlnZ2VyVXNlclN5bmNzPXc7dmFyIFc9T2JqZWN0KHUuYikoInN5bmMiLGZ1bmN0aW9uKGUpe3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tZWRpYVR5cGVzLG49VC5nZXRBZFVuaXRTaXplcyhlKTtpZih0JiZ0LmJhbm5lcil7dmFyIHI9dC5iYW5uZXI7ci5zaXplcz8oci5zaXplcz1uLGUuc2l6ZXM9bik6KFQubG9nRXJyb3IoIkRldGVjdGVkIGEgbWVkaWFUeXBlcy5iYW5uZXIgb2JqZWN0IGRpZCBub3QgaW5jbHVkZSBzaXplcy4gIFRoaXMgaXMgYSByZXF1aXJlZCBmaWVsZCBmb3IgdGhlIG1lZGlhVHlwZXMuYmFubmVyIG9iamVjdC4gIFJlbW92aW5nIGludmFsaWQgbWVkaWFUeXBlcy5iYW5uZXIgb2JqZWN0IGZyb20gcmVxdWVzdC4iKSxkZWxldGUgZS5tZWRpYVR5cGVzLmJhbm5lcil9ZWxzZSBlLnNpemVzJiYoVC5sb2dXYXJuKCJVc2FnZSBvZiBhZFVuaXRzLnNpemVzIHdpbGwgZXZlbnR1YWxseSBiZSBkZXByZWNhdGVkLiAgUGxlYXNlIGRlZmluZSBzaXplIGRpbWVuc2lvbnMgd2l0aGluIHRoZSBjb3JyZXNwb25kaW5nIGFyZWEgb2YgdGhlIG1lZGlhVHlwZXMuPG9iamVjdD4gKGVnIG1lZGlhVHlwZXMuYmFubmVyLnNpemVzKS4iKSxlLnNpemVzPW4pO2lmKHQmJnQudmlkZW8pe3ZhciBpPXQudmlkZW87aWYoaS5wbGF5ZXJTaXplKWlmKEFycmF5LmlzQXJyYXkoaS5wbGF5ZXJTaXplKSYmMT09PWkucGxheWVyU2l6ZS5sZW5ndGgmJmkucGxheWVyU2l6ZS5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGMuaXNBcnJheU9mTnVtcykoZSwyKX0pKWUuc2l6ZXM9aS5wbGF5ZXJTaXplO2Vsc2UgaWYoT2JqZWN0KGMuaXNBcnJheU9mTnVtcykoaS5wbGF5ZXJTaXplLDIpKXt2YXIgbz1bXTtvLnB1c2goaS5wbGF5ZXJTaXplKSxULmxvZ0luZm8oIlRyYW5zZm9ybWluZyB2aWRlby5wbGF5ZXJTaXplIGZyb20gWyIuY29uY2F0KGkucGxheWVyU2l6ZSwiXSB0byBbWyIpLmNvbmNhdChvLCJdXSBzbyBpdCdzIGluIHRoZSBwcm9wZXIgZm9ybWF0LiIpKSxlLnNpemVzPWkucGxheWVyU2l6ZT1vfWVsc2UgVC5sb2dFcnJvcigiRGV0ZWN0ZWQgaW5jb3JyZWN0IGNvbmZpZ3VyYXRpb24gb2YgbWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplLiAgUGxlYXNlIHNwZWNpZnkgb25seSBvbmUgc2V0IG9mIGRpbWVuc2lvbnMgaW4gYSBmb3JtYXQgbGlrZTogW1s2NDAsIDQ4MF1dLiBSZW1vdmluZyBpbnZhbGlkIG1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSBwcm9wZXJ0eSBmcm9tIHJlcXVlc3QuIiksZGVsZXRlIGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplfWlmKHQmJnQubmF0aXZlKXt2YXIgYT10Lm5hdGl2ZTthLmltYWdlJiZhLmltYWdlLnNpemVzJiYhQXJyYXkuaXNBcnJheShhLmltYWdlLnNpemVzKSYmKFQubG9nRXJyb3IoIlBsZWFzZSB1c2UgYW4gYXJyYXkgb2Ygc2l6ZXMgZm9yIG5hdGl2ZS5pbWFnZS5zaXplcyBmaWVsZC4gIFJlbW92aW5nIGludmFsaWQgbWVkaWFUeXBlcy5uYXRpdmUuaW1hZ2Uuc2l6ZXMgcHJvcGVydHkgZnJvbSByZXF1ZXN0LiIpLGRlbGV0ZSBlLm1lZGlhVHlwZXMubmF0aXZlLmltYWdlLnNpemVzKSxhLmltYWdlJiZhLmltYWdlLmFzcGVjdF9yYXRpb3MmJiFBcnJheS5pc0FycmF5KGEuaW1hZ2UuYXNwZWN0X3JhdGlvcykmJihULmxvZ0Vycm9yKCJQbGVhc2UgdXNlIGFuIGFycmF5IG9mIHNpemVzIGZvciBuYXRpdmUuaW1hZ2UuYXNwZWN0X3JhdGlvcyBmaWVsZC4gIFJlbW92aW5nIGludmFsaWQgbWVkaWFUeXBlcy5uYXRpdmUuaW1hZ2UuYXNwZWN0X3JhdGlvcyBwcm9wZXJ0eSBmcm9tIHJlcXVlc3QuIiksZGVsZXRlIGUubWVkaWFUeXBlcy5uYXRpdmUuaW1hZ2UuYXNwZWN0X3JhdGlvcyksYS5pY29uJiZhLmljb24uc2l6ZXMmJiFBcnJheS5pc0FycmF5KGEuaWNvbi5zaXplcykmJihULmxvZ0Vycm9yKCJQbGVhc2UgdXNlIGFuIGFycmF5IG9mIHNpemVzIGZvciBuYXRpdmUuaWNvbi5zaXplcyBmaWVsZC4gIFJlbW92aW5nIGludmFsaWQgbWVkaWFUeXBlcy5uYXRpdmUuaWNvbi5zaXplcyBwcm9wZXJ0eSBmcm9tIHJlcXVlc3QuIiksZGVsZXRlIGUubWVkaWFUeXBlcy5uYXRpdmUuaWNvbi5zaXplcyl9fSksZX0sImNoZWNrQWRVbml0U2V0dXAiKTtmdW5jdGlvbiBMKGUpe3ZhciBuPW0uYVtlXSgpLmZpbHRlcihULmJpbmQuY2FsbChjLmFkVW5pdHNGaWx0ZXIsdGhpcyxtLmEuZ2V0QWRVbml0Q29kZXMoKSkpLHI9bS5hLmdldExhc3RBdWN0aW9uSWQoKTtyZXR1cm4gbi5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRVbml0Q29kZX0pLmZpbHRlcihjLnVuaXF1ZXMpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gbi5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYXVjdGlvbklkPT09ciYmZS5hZFVuaXRDb2RlPT09dH0pfSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlWzBdJiZlWzBdLmFkVW5pdENvZGV9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHQ9e30sbj1lWzBdLmFkVW5pdENvZGUscj17YmlkczplfSxuIGluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbbl09cix0O3ZhciB0LG4scn0pLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBoKGUsdCl9LHt9KX1mdW5jdGlvbiBGKGUpe3ZhciB0PWUucmVhc29uLG49ZS5tZXNzYWdlLHI9ZS5iaWQsaT1lLmlkLG89e3JlYXNvbjp0LG1lc3NhZ2U6bn07ciYmKG8uYmlkPXIpLGkmJihvLmFkSWQ9aSksVC5sb2dFcnJvcihuKSxJLmVtaXQoUixvKX1mdW5jdGlvbiB6KGUpe2UuZm9yRWFjaChmdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lLmNhbGxlZCl0cnl7ZS5jYWxsKCksZS5jYWxsZWQ9ITB9Y2F0Y2goZSl7VC5sb2dFcnJvcigiRXJyb3IgcHJvY2Vzc2luZyBjb21tYW5kIDoiLCJwcmViaWQuanMiLGUpfX0pfUUuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmdGb3JBZFVuaXRDb2RlU3RyPWZ1bmN0aW9uKGUpe2lmKFQubG9nSW5mbygiSW52b2tpbmcgdXBianMuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmdGb3JBZFVuaXRDb2RlU3RyIixhcmd1bWVudHMpLGUpe3ZhciB0PUUuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmdGb3JBZFVuaXRDb2RlKGUpO3JldHVybiBULnRyYW5zZm9ybUFkU2VydmVyVGFyZ2V0aW5nT2JqKHQpfVQubG9nTWVzc2FnZSgiTmVlZCB0byBjYWxsIGdldEFkc2VydmVyVGFyZ2V0aW5nRm9yQWRVbml0Q29kZVN0ciB3aXRoIGFkdW5pdENvZGUiKX0sRS5nZXRBZHNlcnZlclRhcmdldGluZ0ZvckFkVW5pdENvZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIEUuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmcoZSlbZV19LEUuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gVC5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5nZXRBZHNlcnZlclRhcmdldGluZyIsYXJndW1lbnRzKSxmLmIuZ2V0QWxsVGFyZ2V0aW5nKGUsdCl9LEUuZ2V0Tm9CaWRzPWZ1bmN0aW9uKCl7cmV0dXJuIFQubG9nSW5mbygiSW52b2tpbmcgdXBianMuZ2V0Tm9CaWRzIixhcmd1bWVudHMpLEwoImdldE5vQmlkcyIpfSxFLmdldEJpZFJlc3BvbnNlcz1mdW5jdGlvbigpe3JldHVybiBULmxvZ0luZm8oIkludm9raW5nIHVwYmpzLmdldEJpZFJlc3BvbnNlcyIsYXJndW1lbnRzKSxMKCJnZXRCaWRzUmVjZWl2ZWQiKX0sRS5nZXRCaWRSZXNwb25zZXNGb3JBZFVuaXRDb2RlPWZ1bmN0aW9uKHQpe3JldHVybntiaWRzOm0uYS5nZXRCaWRzUmVjZWl2ZWQoKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRVbml0Q29kZT09PXR9KX19LEUuc2V0VGFyZ2V0aW5nRm9yR1BUQXN5bmM9ZnVuY3Rpb24oZSx0LG4pe2lmKFQubG9nSW5mbygiSW52b2tpbmcgdXBianMuc2V0VGFyZ2V0aW5nRm9yR1BUQXN5bmMiLGFyZ3VtZW50cyksT2JqZWN0KGMuaXNHcHRQdWJhZHNEZWZpbmVkKSgpKXt2YXIgcj1mLmIuZ2V0QWxsVGFyZ2V0aW5nKGUsdCk7Zi5iLnJlc2V0UHJlc2V0VGFyZ2V0aW5nKGUpLGYuYi5zZXRUYXJnZXRpbmdGb3JHUFQocixuKSxPYmplY3Qua2V5cyhyKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe09iamVjdC5rZXlzKHJbdF0pLmZvckVhY2goZnVuY3Rpb24oZSl7ImhiX2FkaWQiPT09ZSYmbS5hLnNldFN0YXR1c0ZvckJpZHMoclt0XVtlXSxBLkJJRF9TVEFUVVMuQklEX1RBUkdFVElOR19TRVQpfSl9KSxJLmVtaXQoVSxyKX1lbHNlIFQubG9nRXJyb3IoIndpbmRvdy5nb29nbGV0YWcgaXMgbm90IGRlZmluZWQgb24gdGhlIHBhZ2UiKX0sRS5zZXRUYXJnZXRpbmdGb3JBc3Q9ZnVuY3Rpb24oZSl7VC5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5zZXRUYXJnZXRpbmdGb3JBbiIsYXJndW1lbnRzKSxmLmIuaXNBcG50YWdEZWZpbmVkKCk/KGYuYi5zZXRUYXJnZXRpbmdGb3JBc3QoZSksSS5lbWl0KFUsZi5iLmdldEFsbFRhcmdldGluZygpKSk6VC5sb2dFcnJvcigid2luZG93LmFwbnRhZyBpcyBub3QgZGVmaW5lZCBvbiB0aGUgcGFnZSIpfSxFLnJlbmRlckFkPWZ1bmN0aW9uKGUsdCxuLHIpe1QubG9nSW5mbygiSW52b2tpbmcgdXBianMucmVuZGVyQWQiLGFyZ3VtZW50cyksVC5sb2dNZXNzYWdlKCJDYWxsaW5nIHJlbmRlckFkIHdpdGggYWRJZCA6Iit0KTt2YXIgaT1yJiZyLnNyYyYmMDw9ci5zcmMuaW5kZXhPZigibXJiLnVwYXBpLm5ldC9zYWZlRnJhbWUuaHRtbCIpO2lmKHQmJihlfHxpKSl0cnl7dmFyIG89bS5hLmZpbmRCaWRCeUFkSWQodCk7aWYobyl7by5zdGF0dXM9QS5CSURfU1RBVFVTLlJFTkRFUkVELG8uYWQ9VC5yZXBsYWNlQXVjdGlvblByaWNlKG8uYWQsby5jcG0pLG8uYWRVcmw9VC5yZXBsYWNlQXVjdGlvblByaWNlKG8uYWRVcmwsby5jcG0pLG0uYS5hZGRXaW5uaW5nQmlkKG8pLEkuZW1pdChfLG8pO3ZhciBhPW8uaGVpZ2h0LGM9by53aWR0aCx1PW8uYWQscz1vLm1lZGlhVHlwZSxkPW8uYWRVcmwsZj1vLnJlbmRlcmVyO2lmKE9iamVjdChTLmMpKGYpKU9iamVjdChTLmIpKGYsbyk7ZWxzZSBpZihlPT09ZG9jdW1lbnQmJiFULmluSWZyYW1lKCl8fCJ2aWRlbyI9PT1zKXt2YXIgbD0iRXJyb3IgdHJ5aW5nIHRvIHdyaXRlIGFkLiBBZCByZW5kZXIgY2FsbCBhZCBpZCAiLmNvbmNhdCh0LCIgd2FzIHByZXZlbnRlZCBmcm9tIHdyaXRpbmcgdG8gdGhlIG1haW4gZG9jdW1lbnQuIik7Rih7cmVhc29uOk4sbWVzc2FnZTpsLGJpZDpvLGlkOnR9KX1lbHNlIGlmKHUpe2lmKGkpe3ZhciBwPSJ0cnkgeyBpZiAoIituKyIpIHsgZG9jdW1lbnQub3BlbigndGV4dC9odG1sJywgJ3JlcGxhY2UnKTsgfTsgZG9jdW1lbnQud3JpdGUoZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShhdG9iKCciK2J0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHUpKSkrIicpKSkpOyBkb2N1bWVudC5jbG9zZSgpOyB9IGNhdGNoIChlcnJvcikgeyB9IjtyLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe3R5cGU6ImV2YWwiLGNvZGU6cH0sIioiKX1lbHNlIG4mJmUub3BlbigidGV4dC9odG1sIiwicmVwbGFjZSIpLGUud3JpdGUodSksZS5jbG9zZSgpO0cocixjLGEpLFQuY2FsbEJ1cmwobyl9ZWxzZSBpZihkKXt2YXIgZz1ULmNyZWF0ZUludmlzaWJsZUlmcmFtZSgpO2lmKGcuaGVpZ2h0PWEsZy53aWR0aD1jLGcuc3R5bGUuZGlzcGxheT0iaW5saW5lIixnLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iLGcuc3JjPWQsaSl7cD0idHJ5IHsgaWYgKCIrbisiKSB7IGRvY3VtZW50Lm9wZW4oJ3RleHQvaHRtbCcsICdyZXBsYWNlJyk7IH07IGRvY3VtZW50LndyaXRlKGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoYXRvYignIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChnLm91dGVySFRNTCkpKSsiJykpKSk7IGRvY3VtZW50LmNsb3NlKCk7IH0gY2F0Y2ggKGVycm9yKSB7IH0iO3IuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh7dHlwZToiZXZhbCIsY29kZTpwfSwiKiIpfWVsc2UgVC5pbnNlcnRFbGVtZW50KGcsZSwiYm9keSIpO0cocixjLGEpLFQuY2FsbEJ1cmwobyl9ZWxzZXt2YXIgYj0iRXJyb3IgdHJ5aW5nIHRvIHdyaXRlIGFkLiBObyBhZCBmb3IgYmlkIHJlc3BvbnNlIGlkOiAiLmNvbmNhdCh0KTtGKHtyZWFzb246RCxtZXNzYWdlOmIsYmlkOm8saWQ6dH0pfX1lbHNle3ZhciB2PSJFcnJvciB0cnlpbmcgdG8gd3JpdGUgYWQuIENhbm5vdCBmaW5kIGFkIGJ5IGdpdmVuIGlkIDogIi5jb25jYXQodCk7Rih7cmVhc29uOlAsbWVzc2FnZTp2LGlkOnR9KX19Y2F0Y2goZSl7dmFyIHk9IkVycm9yIHRyeWluZyB0byB3cml0ZSBhZCBJZCA6Ii5jb25jYXQodCwiIHRvIHRoZSBwYWdlOiIpLmNvbmNhdChlLm1lc3NhZ2UpO0Yoe3JlYXNvbjprLG1lc3NhZ2U6eSxpZDp0fSl9ZWxzZXt2YXIgaD0iRXJyb3IgdHJ5aW5nIHRvIHdyaXRlIGFkIElkIDoiLmNvbmNhdCh0LCIgdG8gdGhlIHBhZ2UuIE1pc3NpbmcgZG9jdW1lbnQgb3IgYWRJZCIpO0Yoe3JlYXNvbjpNLG1lc3NhZ2U6aCxpZDp0fSl9fSxFLnJlbW92ZUFkVW5pdD1mdW5jdGlvbihlKXsoVC5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5yZW1vdmVBZFVuaXQiLGFyZ3VtZW50cyksZSk/KFQuaXNBcnJheShlKT9lOltlXSkuZm9yRWFjaChmdW5jdGlvbihlKXtmb3IodmFyIHQ9RS5hZFVuaXRzLmxlbmd0aC0xOzA8PXQ7dC0tKUUuYWRVbml0c1t0XS5jb2RlPT09ZSYmRS5hZFVuaXRzLnNwbGljZSh0LDEpfSk6RS5hZFVuaXRzPVtdfSxFLnJlcXVlc3RCaWRzPU9iamVjdCh1LmIpKCJhc3luYyIsZnVuY3Rpb24oKXt2YXIgZT0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLmJpZHNCYWNrSGFuZGxlcixuPWUudGltZW91dCxyPWUuYWRVbml0cyxpPWUuYWRVbml0Q29kZXMsbz1lLmxhYmVscyxhPWUuYXVjdGlvbklkO0kuZW1pdChCKTt2YXIgYz1ufHxkLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0Iik7aWYocj1yfHxFLmFkVW5pdHMsVC5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5yZXF1ZXN0QmlkcyIsYXJndW1lbnRzKSxpJiZpLmxlbmd0aD9yPXIuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBwKCkoaSxlLmNvZGUpfSk6aT1yJiZyLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5jb2RlfSksKHI9VyhyKSkuZm9yRWFjaChmdW5jdGlvbihpKXt2YXIgbz1PYmplY3Qua2V5cyhpLm1lZGlhVHlwZXN8fHtiYW5uZXI6ImJhbm5lciJ9KSxlPWkuYmlkcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyfSksYT1PLmJpZGRlclJlZ2lzdHJ5LHQ9ZC5iLmdldENvbmZpZygiczJzQ29uZmlnIiksbj10JiZ0LmJpZGRlcnMscj1uP2UuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFwKCkobixlKX0pOmU7aS50cmFuc2FjdGlvbklkPVQuZ2VuZXJhdGVVVUlEKCksci5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPWFbdF0sbj1lJiZlLmdldFNwZWMmJmUuZ2V0U3BlYygpLHI9biYmbi5zdXBwb3J0ZWRNZWRpYVR5cGVzfHxbImJhbm5lciJdO28uc29tZShmdW5jdGlvbihlKXtyZXR1cm4gcCgpKHIsZSl9KT9nLmEuaW5jcmVtZW50QmlkZGVyUmVxdWVzdHNDb3VudGVyKGkuY29kZSx0KTooVC5sb2dXYXJuKFQudW5zdXBwb3J0ZWRCaWRkZXJNZXNzYWdlKGksdCkpLGkuYmlkcz1pLmJpZHMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlciE9PXR9KSl9KSxnLmEuaW5jcmVtZW50UmVxdWVzdHNDb3VudGVyKGkuY29kZSl9KSxyJiYwIT09ci5sZW5ndGgpe3ZhciB1PW0uYS5jcmVhdGVBdWN0aW9uKHthZFVuaXRzOnIsYWRVbml0Q29kZXM6aSxjYWxsYmFjazp0LGNiVGltZW91dDpjLGxhYmVsczpvLGF1Y3Rpb25JZDphfSkscz1yLmxlbmd0aDtyZXR1cm4gMTU8cyYmVC5sb2dJbmZvKCJDdXJyZW50IGF1Y3Rpb24gIi5jb25jYXQodS5nZXRBdWN0aW9uSWQoKSwiIGNvbnRhaW5zICIpLmNvbmNhdChzLCIgYWRVbml0cy4iKSxyKSxpLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGYuYi5zZXRMYXRlc3RBdWN0aW9uRm9yQWRVbml0KGUsdS5nZXRBdWN0aW9uSWQoKSl9KSx1LmNhbGxCaWRzKCksdX1pZihULmxvZ01lc3NhZ2UoIk5vIGFkVW5pdHMgY29uZmlndXJlZC4gTm8gYmlkcyByZXF1ZXN0ZWQuIiksImZ1bmN0aW9uIj09dHlwZW9mIHQpdHJ5e3QoKX1jYXRjaChlKXtULmxvZ0Vycm9yKCJFcnJvciBleGVjdXRpbmcgYmlkc0JhY2tIYW5kbGVyIixudWxsLGUpfX0pLEUuYWRkQWRVbml0cz1mdW5jdGlvbihlKXtULmxvZ0luZm8oIkludm9raW5nIHVwYmpzLmFkZEFkVW5pdHMiLGFyZ3VtZW50cyksVC5pc0FycmF5KGUpP0UuYWRVbml0cy5wdXNoLmFwcGx5KEUuYWRVbml0cyxlKToib2JqZWN0Ij09PXkoZSkmJkUuYWRVbml0cy5wdXNoKGUpLEkuZW1pdChqKX0sRS5vbkV2ZW50PWZ1bmN0aW9uKGUsdCxuKXtULmxvZ0luZm8oIkludm9raW5nIHVwYmpzLm9uRXZlbnQiLGFyZ3VtZW50cyksVC5pc0ZuKHQpPyFufHxxW2VdLmNhbGwobnVsbCxuKT9JLm9uKGUsdCxuKTpULmxvZ0Vycm9yKCdUaGUgaWQgcHJvdmlkZWQgaXMgbm90IHZhbGlkIGZvciBldmVudCAiJytlKyciIGFuZCBubyBoYW5kbGVyIHdhcyBzZXQuJyk6VC5sb2dFcnJvcignVGhlIGV2ZW50IGhhbmRsZXIgcHJvdmlkZWQgaXMgbm90IGEgZnVuY3Rpb24gYW5kIHdhcyBub3Qgc2V0IG9uIGV2ZW50ICInK2UrJyIuJyl9LEUub2ZmRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe1QubG9nSW5mbygiSW52b2tpbmcgdXBianMub2ZmRXZlbnQiLGFyZ3VtZW50cyksbiYmIXFbZV0uY2FsbChudWxsLG4pfHxJLm9mZihlLHQsbil9LEUucmVnaXN0ZXJCaWRBZGFwdGVyPWZ1bmN0aW9uKGUsdCl7VC5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5yZWdpc3RlckJpZEFkYXB0ZXIiLGFyZ3VtZW50cyk7dHJ5e08ucmVnaXN0ZXJCaWRBZGFwdGVyKGUoKSx0KX1jYXRjaChlKXtULmxvZ0Vycm9yKCJFcnJvciByZWdpc3RlcmluZyBiaWRkZXIgYWRhcHRlciA6ICIrZS5tZXNzYWdlKX19LEUucmVnaXN0ZXJBbmFseXRpY3NBZGFwdGVyPWZ1bmN0aW9uKGUpe1QubG9nSW5mbygiSW52b2tpbmcgdXBianMucmVnaXN0ZXJBbmFseXRpY3NBZGFwdGVyIixhcmd1bWVudHMpO3RyeXtPLnJlZ2lzdGVyQW5hbHl0aWNzQWRhcHRlcihlKX1jYXRjaChlKXtULmxvZ0Vycm9yKCJFcnJvciByZWdpc3RlcmluZyBhbmFseXRpY3MgYWRhcHRlciA6ICIrZS5tZXNzYWdlKX19LEUuY3JlYXRlQmlkPWZ1bmN0aW9uKGUpe3JldHVybiBULmxvZ0luZm8oIkludm9raW5nIHVwYmpzLmNyZWF0ZUJpZCIsYXJndW1lbnRzKSxPYmplY3QoYi5hKShlKX0sRS5sb2FkU2NyaXB0PWZ1bmN0aW9uKGUsdCxuKXtULmxvZ0luZm8oIkludm9raW5nIHVwYmpzLmxvYWRTY3JpcHQiLGFyZ3VtZW50cyksT2JqZWN0KGEuYykoZSx0LG4pfSxFLmVuYWJsZUFuYWx5dGljcz1mdW5jdGlvbihlKXtlJiYhVC5pc0VtcHR5KGUpPyhULmxvZ0luZm8oIkludm9raW5nIHVwYmpzLmVuYWJsZUFuYWx5dGljcyBmb3I6ICIsZSksTy5lbmFibGVBbmFseXRpY3MoZSkpOlQubG9nRXJyb3IoInVwYmpzLmVuYWJsZUFuYWx5dGljcyBzaG91bGQgYmUgY2FsbGVkIHdpdGggb3B0aW9uIHt9Iil9LEUuYWxpYXNCaWRkZXI9ZnVuY3Rpb24oZSx0KXtULmxvZ0luZm8oIkludm9raW5nIHVwYmpzLmFsaWFzQmlkZGVyIixhcmd1bWVudHMpLGUmJnQ/Ty5hbGlhc0JpZEFkYXB0ZXIoZSx0KTpULmxvZ0Vycm9yKCJiaWRkZXJDb2RlIGFuZCBhbGlhcyBtdXN0IGJlIHBhc3NlZCBhcyBhcmd1bWVudHMiLCJ1cGJqcy5hbGlhc0JpZGRlciIpfSxFLmdldEFsbFdpbm5pbmdCaWRzPWZ1bmN0aW9uKCl7cmV0dXJuIG0uYS5nZXRBbGxXaW5uaW5nQmlkcygpfSxFLmdldEFsbFByZWJpZFdpbm5pbmdCaWRzPWZ1bmN0aW9uKCl7cmV0dXJuIG0uYS5nZXRCaWRzUmVjZWl2ZWQoKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhdHVzPT09QS5CSURfU1RBVFVTLkJJRF9UQVJHRVRJTkdfU0VUfSl9LEUuZ2V0SGlnaGVzdENwbUJpZHM9ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KGYuYSkobS5hLmdldEJpZHNSZWNlaXZlZCgpLGMuZ2V0TGF0ZXN0SGlnaGVzdENwbUJpZCk7cmV0dXJuIGYuYi5nZXRXaW5uaW5nQmlkcyhlLHQpfSxFLm1hcmtXaW5uaW5nQmlkQXNVc2VkPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO3QuYWRVbml0Q29kZSYmdC5hZElkP2U9bS5hLmdldEJpZHNSZWNlaXZlZCgpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5hZElkPT09dC5hZElkJiZlLmFkVW5pdENvZGU9PT10LmFkVW5pdENvZGV9KTp0LmFkVW5pdENvZGU/ZT1mLmIuZ2V0V2lubmluZ0JpZHModC5hZFVuaXRDb2RlKTp0LmFkSWQ/ZT1tLmEuZ2V0Qmlkc1JlY2VpdmVkKCkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkSWQ9PT10LmFkSWR9KTpULmxvZ1dhcm4oIklucHJvcGVyIHVzYWdlIG9mIG1hcmtXaW5uaW5nQmlkQXNVc2VkLiBJdCdsbCBuZWVkIGFuIGFkVW5pdENvZGUgYW5kL29yIGFkSWQgdG8gZnVuY3Rpb24uIiksMDxlLmxlbmd0aCYmKGVbMF0uc3RhdHVzPUEuQklEX1NUQVRVUy5SRU5ERVJFRCl9LEUuZ2V0Q29uZmlnPWQuYi5nZXRDb25maWcsRS5zZXRDb25maWc9ZC5iLnNldENvbmZpZyxFLnNldEJpZGRlckNvbmZpZz1kLmIuc2V0QmlkZGVyQ29uZmlnLEUucXVlLnB1c2goZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGkuYSkoKX0pLEUuY21kLnB1c2g9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUpdHJ5e2UuY2FsbCgpfWNhdGNoKGUpe1QubG9nRXJyb3IoIkVycm9yIHByb2Nlc3NpbmcgY29tbWFuZCA6IixlLm1lc3NhZ2UsZS5zdGFjayl9ZWxzZSBULmxvZ0Vycm9yKCJDb21tYW5kcyB3cml0dGVuIGludG8gdXBianMuY21kLnB1c2ggbXVzdCBiZSB3cmFwcGVkIGluIGEgZnVuY3Rpb24iKX0sRS5xdWUucHVzaD1FLmNtZC5wdXNoLEUucHJvY2Vzc1F1ZXVlPWZ1bmN0aW9uKCl7dS5iLnJlYWR5KCkseihFLnF1ZSkseihFLmNtZCl9LHQuZGVmYXVsdD1FfSw4NjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9big0NykoNSksbz0iZmluZCIsYT0hMDtvIGluW10mJkFycmF5KDEpW29dKGZ1bmN0aW9uKCl7YT0hMX0pLHIoci5QK3IuRiphLCJBcnJheSIse2ZpbmQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaSh0aGlzLGUsMTxhcmd1bWVudHMubGVuZ3RoP3Q6dm9pZCAwKX19KSxuKDQyKShvKX0sODc6ZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz0hbigyMikmJiFuKDM4KShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkobig2MSkoImRpdiIpLCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSw4ODpmdW5jdGlvbihlLHQsbil7dmFyIGk9bigxNyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIWkoZSkpcmV0dXJuIGU7dmFyIG4scjtpZih0JiYiZnVuY3Rpb24iPT10eXBlb2Yobj1lLnRvU3RyaW5nKSYmIWkocj1uLmNhbGwoZSkpKXJldHVybiByO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihuPWUudmFsdWVPZikmJiFpKHI9bi5jYWxsKGUpKSlyZXR1cm4gcjtpZighdCYmImZ1bmN0aW9uIj09dHlwZW9mKG49ZS50b1N0cmluZykmJiFpKHI9bi5jYWxsKGUpKSlyZXR1cm4gcjt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0sODk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oOTApO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcocihlKSkodCl9fSw5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXtpZighKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSl8fCJbb2JqZWN0IEFyZ3VtZW50c10iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKSlyZXR1cm47dmFyIG49W10scj0hMCxpPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIGEsYz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KGE9Yy5uZXh0KCkpLmRvbmUpJiYobi5wdXNoKGEudmFsdWUpLCF0fHxuLmxlbmd0aCE9PXQpO3I9ITApO31jYXRjaChlKXtpPSEwLG89ZX1maW5hbGx5e3RyeXtyfHxudWxsPT1jLnJldHVybnx8Yy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgb319cmV0dXJuIG59KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpfSgpfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGU/ZS5yZXBsYWNlKC9eXD8vLCIiKS5zcGxpdCgiJiIpLnJlZHVjZShmdW5jdGlvbihlLHQpe3ZhciBuPW8odC5zcGxpdCgiPSIpLDIpLHI9blswXSxpPW5bMV07cmV0dXJuL1xbXF0kLy50ZXN0KHIpPyhlW3I9ci5yZXBsYWNlKCJbXSIsIiIpXT1lW3JdfHxbXSxlW3JdLnB1c2goaSkpOmVbcl09aXx8IiIsZX0se30pOnt9fWZ1bmN0aW9uIHIoZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheShlW3RdKT9lW3RdLm1hcChmdW5jdGlvbihlKXtyZXR1cm4iIi5jb25jYXQodCwiW109IikuY29uY2F0KGUpfSkuam9pbigiJiIpOiIiLmNvbmNhdCh0LCI9IikuY29uY2F0KGVbdF0pfSkuam9pbigiJiIpfXQuZD1pLHQuYj1yLHQuYz1mdW5jdGlvbihlLHQpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTt0JiYibm9EZWNvZGVXaG9sZVVSTCJpbiB0JiZ0Lm5vRGVjb2RlV2hvbGVVUkw/bi5ocmVmPWU6bi5ocmVmPWRlY29kZVVSSUNvbXBvbmVudChlKTt2YXIgcj10JiYiZGVjb2RlU2VhcmNoQXNTdHJpbmciaW4gdCYmdC5kZWNvZGVTZWFyY2hBc1N0cmluZztyZXR1cm57aHJlZjpuLmhyZWYscHJvdG9jb2w6KG4ucHJvdG9jb2x8fCIiKS5yZXBsYWNlKC86JC8sIiIpLGhvc3RuYW1lOm4uaG9zdG5hbWUscG9ydDorbi5wb3J0LHBhdGhuYW1lOm4ucGF0aG5hbWUucmVwbGFjZSgvXig/IVwvKS8sIi8iKSxzZWFyY2g6cj9uLnNlYXJjaDppKG4uc2VhcmNofHwiIiksaGFzaDoobi5oYXNofHwiIikucmVwbGFjZSgvXiMvLCIiKSxob3N0Om4uaG9zdHx8d2luZG93LmxvY2F0aW9uLmhvc3R9fSx0LmE9ZnVuY3Rpb24oZSl7cmV0dXJuKGUucHJvdG9jb2x8fCJodHRwIikrIjovLyIrKGUuaG9zdHx8ZS5ob3N0bmFtZSsoZS5wb3J0PyI6Ii5jb25jYXQoZS5wb3J0KToiIikpKyhlLnBhdGhuYW1lfHwiIikrKGUuc2VhcmNoPyI/Ii5jb25jYXQocihlLnNlYXJjaHx8IiIpKToiIikrKGUuaGFzaD8iIyIuY29uY2F0KGUuaGFzaCk6IiIpfX0sOTA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTcpLGk9big5MSksbz1uKDE0KSgic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gaShlKSYmKCJmdW5jdGlvbiIhPXR5cGVvZih0PWUuY29uc3RydWN0b3IpfHx0IT09QXJyYXkmJiFpKHQucHJvdG90eXBlKXx8KHQ9dm9pZCAwKSxyKHQpJiZudWxsPT09KHQ9dFtvXSkmJih0PXZvaWQgMCkpLHZvaWQgMD09PXQ/QXJyYXk6dH19LDkxOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDM5KTtlLmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIkFycmF5Ij09cihlKX19LDkyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDY1KSghMCk7cihyLlAsIkFycmF5Iix7aW5jbHVkZXM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaSh0aGlzLGUsMTxhcmd1bWVudHMubGVuZ3RoP3Q6dm9pZCAwKX19KSxuKDQyKSgiaW5jbHVkZXMiKX0sOTM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNDkpLGk9TWF0aC5tYXgsbz1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oZT1yKGUpKTwwP2koZSt0LDApOm8oZSx0KX19LDk0OmZ1bmN0aW9uKGUsdCl7fSw5NTpmdW5jdGlvbihlLHQsbil7dmFyIHU9big0OSkscz1uKDQwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oYyl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIG4scixpPVN0cmluZyhzKGUpKSxvPXUodCksYT1pLmxlbmd0aDtyZXR1cm4gbzwwfHxhPD1vP2M/IiI6dm9pZCAwOihuPWkuY2hhckNvZGVBdChvKSk8NTUyOTZ8fDU2MzE5PG58fG8rMT09PWF8fChyPWkuY2hhckNvZGVBdChvKzEpKTw1NjMyMHx8NTczNDM8cj9jP2kuY2hhckF0KG8pOm46Yz9pLnNsaWNlKG8sbysyKTpyLTU2MzIwKyhuLTU1Mjk2PDwxMCkrNjU1MzZ9fX0sOTY6ZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDIxKX0sOTc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDY4KSxpPW4oNDYpLG89big1NCksYT17fTtuKDIxKShhLG4oMTQpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe2UucHJvdG90eXBlPXIoYSx7bmV4dDppKDEsbil9KSxvKGUsdCsiIEl0ZXJhdG9yIil9fSw5ODpmdW5jdGlvbihlLHQsbil7dmFyIGE9bigyMCksYz1uKDI4KSx1PW4oOTkpO2UuZXhwb3J0cz1uKDIyKT9PYmplY3QuZGVmaW5lUHJvcGVydGllczpmdW5jdGlvbihlLHQpe2MoZSk7Zm9yKHZhciBuLHI9dSh0KSxpPXIubGVuZ3RoLG89MDtvPGk7KWEuZihlLG49cltvKytdLHRbbl0pO3JldHVybiBlfX0sOTk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTAwKSxpPW4oNjkpO2UuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSxpKX19fSk7CnVwYmpzQ2h1bmsoWzI5Nl0sezEyMzpmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMTI0KX0sMTI0OmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZChlLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBhfSk7dmFyIHI9bigxKSxoPW4oMyksZz1uKDApO2Z1bmN0aW9uIGYoKXtyZXR1cm4oZj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJih0W3JdPW5bcl0pfXJldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBpPSIzM2Fjcm9zcyIsYj0iaHR0cHM6Ly9zc2MuMzNhY3Jvc3MuY29tL2FwaS92MS9oYiIsdT0iaHR0cHM6Ly9zc2MtY21zLjMzYWNyb3NzLmNvbS9wcy8/bT14Y2gmcnQ9aHRtbCZydT1kZWIiLG89e30sbT0ibm0iO2Z1bmN0aW9uIHYodCl7cmV0dXJuIWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBnLmdldFdpbmRvd1NlbGYoKSE9PWcuZ2V0V2luZG93VG9wKCl9Y2F0Y2godCl7cmV0dXJuITB9fSgpJiZudWxsIT09dH1mdW5jdGlvbiB3KHQsZSxuKXt2YXIgcj0yPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PW4/bjp7fSxpPXIudyxvPXIuaDtyZXR1cm4idmlzaWJsZSI9PT1lLmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZT9mdW5jdGlvbih0LGUpe3ZhciBuLHIsaT0yPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sbz1pLncsZD1pLmgsYT1mdW5jdGlvbih0KXt2YXIgZT0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj1lLncscj1lLmgsaT10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG89aS53aWR0aCxkPWkuaGVpZ2h0LGE9aS5sZWZ0LHU9aS50b3Ascz1pLnJpZ2h0LGM9aS5ib3R0b207KDA9PT1vfHwwPT09ZCkmJm4mJnImJihzPWErKG89biksYz11KyhkPXIpKTtyZXR1cm57d2lkdGg6byxoZWlnaHQ6ZCxsZWZ0OmEsdG9wOnUscmlnaHQ6cyxib3R0b206Y319KHQse3c6byxoOmR9KSx1PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT17bGVmdDp0WzBdLmxlZnQscmlnaHQ6dFswXS5yaWdodCx0b3A6dFswXS50b3AsYm90dG9tOnRbMF0uYm90dG9tfSxuPTE7bjx0Lmxlbmd0aDsrK24pe2lmKGUubGVmdD1NYXRoLm1heChlLmxlZnQsdFtuXS5sZWZ0KSxlLnJpZ2h0PU1hdGgubWluKGUucmlnaHQsdFtuXS5yaWdodCksZS5sZWZ0Pj1lLnJpZ2h0KXJldHVybiBudWxsO2lmKGUudG9wPU1hdGgubWF4KGUudG9wLHRbbl0udG9wKSxlLmJvdHRvbT1NYXRoLm1pbihlLmJvdHRvbSx0W25dLmJvdHRvbSksZS50b3A+PWUuYm90dG9tKXJldHVybiBudWxsfXJldHVybiBlLndpZHRoPWUucmlnaHQtZS5sZWZ0LGUuaGVpZ2h0PWUuYm90dG9tLWUudG9wLGV9KFt7bGVmdDowLHRvcDowLHJpZ2h0OmUuaW5uZXJXaWR0aCxib3R0b206ZS5pbm5lckhlaWdodH0sYV0pO3JldHVybiBudWxsPT09dT8wOihuPXUud2lkdGgqdS5oZWlnaHQscj1hLndpZHRoKmEuaGVpZ2h0LG4vcioxMDApfSh0LGUse3c6aSxoOm99KTowfWZ1bmN0aW9uIHkodCl7cmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQpfHxkb2N1bWVudC5nZXRFbGVtZW50QnlJZChmdW5jdGlvbih0KXtpZihnLmlzR3B0UHViYWRzRGVmaW5lZCgpKWZvcih2YXIgZT1nb29nbGV0YWcucHViYWRzKCkuZ2V0U2xvdHMoKSxuPWcuaXNTbG90TWF0Y2hpbmdBZFVuaXRDb2RlKHQpLHI9MDtyPGUubGVuZ3RoO3IrKylpZihuKGVbcl0pKXt2YXIgaT1lW3JdLmdldFNsb3RFbGVtZW50SWQoKTtyZXR1cm4gZy5sb2dJbmZvKCJbMzNBY3Jvc3MgQWRhcHRlcl0gTWFwIGFkIHVuaXQgcGF0aCB0byBIVE1MIGVsZW1lbnQgaWQ6ICciLmNvbmNhdCh0LCInIC0+ICIpLmNvbmNhdChpKSksaX1yZXR1cm4gZy5sb2dXYXJuKCJbMzNBY3Jvc3MgQWRhcHRlcl0gVW5hYmxlIHRvIGxvY2F0ZSBlbGVtZW50IGZvciBhZCB1bml0IGNvZGU6ICciLmNvbmNhdCh0LCInIikpLG51bGx9KHQpKX1mdW5jdGlvbiBkKHQsZSl7dmFyIG4sbyxyPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09ZT9lOnt9LGk9e30sZD10LnBhcmFtcyxhPXkodC5hZFVuaXRDb2RlKSx1PShuPXQuc2l6ZXMsIWcuaXNBcnJheShuKXx8MiE9PW4ubGVuZ3RofHxnLmlzQXJyYXkoblswXSk/bi5tYXAoSSk6W0kobildKSxzPXUucmVkdWNlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuaCplLnc8dC5oKnQudz9lOnR9KSxjPXYoYSk/dyhhLGcuZ2V0V2luZG93VG9wKCkscyk6bSxwPShvPWMsZnVuY3Rpb24odCl7dmFyIGU9Zih7fSx0KSxuPWUuaW1wPWUuaW1wLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gZih7fSx0KX0pLHI9blswXS5iYW5uZXI9Zih7fSxuWzBdLmJhbm5lciksaT1yLmV4dD1mKHt9LHIuZXh0KTtyZXR1cm4oaS50dHg9Zih7fSxpLnR0eCkpLnZpZXdhYmlsaXR5PXthbW91bnQ6aXNOYU4obyk/bzpNYXRoLnJvdW5kKG8pfSxlfSk7aS5pbXA9W10saS5pbXBbMF09e2Jhbm5lcjp7Zm9ybWF0OnUubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBmKHQse2V4dDp7fX0pfSl9LGV4dDp7dHR4Ontwcm9kOmQucHJvZHVjdElkfX19LGkuc2l0ZT17aWQ6ZC5zaXRlSWR9LGkuaWQ9dC5iaWRJZCxpLnVzZXI9e2V4dDp7Y29uc2VudDpyLmNvbnNlbnRTdHJpbmd9fSxpLnJlZ3M9e2V4dDp7Z2RwcjohMD09PXIuZ2RwckFwcGxpZXM/MTowfX0saS5leHQ9e3R0eDp7cHJlYmlkU3RhcnRlZEF0OkRhdGUubm93KCksY2FsbGVyOlt7bmFtZToicHJlYmlkanMiLHZlcnNpb246IjIuNDQuMSJ9XX19LDE9PT1kLnRlc3QmJihpLnRlc3Q9MSk7dmFyIGw9aC5iLmdldENvbmZpZygidHR4U2V0dGluZ3MiKTtyZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6bCYmbC51cmx8fGIsZGF0YTpKU09OLnN0cmluZ2lmeShwKGkpKSxvcHRpb25zOntjb250ZW50VHlwZToidGV4dC9wbGFpbiIsd2l0aENyZWRlbnRpYWxzOiEwfX19ZnVuY3Rpb24gSSh0KXtyZXR1cm57dzpwYXJzZUludCh0WzBdLDEwKSxoOnBhcnNlSW50KHRbMV0sMTApfX12YXIgYT17Tk9OX01FQVNVUkFCTEU6bSxjb2RlOmksaXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQuYmlkZGVyPT09aSYmdm9pZCAwIT09dC5wYXJhbXMmJih2b2lkIDAhPT10LnBhcmFtcy5zaXRlSWQmJnZvaWQgMCE9PXQucGFyYW1zLnByb2R1Y3RJZCl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24odCxlKXt2YXIgbj1mKHtjb25zZW50U3RyaW5nOnZvaWQgMCxnZHByQXBwbGllczohMX0sZSYmZS5nZHByQ29uc2VudCk7cmV0dXJuIG8udW5pcXVlU2l0ZUlkcz10Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5wYXJhbXMuc2l0ZUlkfSkuZmlsdGVyKGcudW5pcXVlcyksdC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGQodCxuKX0pfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbih0LGUpe3ZhciBuLHI9W107cmV0dXJuIDA8dC5ib2R5LnNlYXRiaWQubGVuZ3RoJiYwPHQuYm9keS5zZWF0YmlkWzBdLmJpZC5sZW5ndGgmJnIucHVzaCh7cmVxdWVzdElkOihuPXQuYm9keSkuaWQsYmlkZGVyQ29kZTppLGNwbTpuLnNlYXRiaWRbMF0uYmlkWzBdLnByaWNlLHdpZHRoOm4uc2VhdGJpZFswXS5iaWRbMF0udyxoZWlnaHQ6bi5zZWF0YmlkWzBdLmJpZFswXS5oLGFkOm4uc2VhdGJpZFswXS5iaWRbMF0uYWRtLHR0bDpuLnNlYXRiaWRbMF0uYmlkWzBdLnR0bHx8NjAsY3JlYXRpdmVJZDpuLnNlYXRiaWRbMF0uYmlkWzBdLmNyaWQsY3VycmVuY3k6bi5jdXIsbmV0UmV2ZW51ZTohMH0pLHJ9LGdldFVzZXJTeW5jczpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQuaWZyYW1lRW5hYmxlZD9vLnVuaXF1ZVNpdGVJZHMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0KXt0LnNpdGVJZDt2YXIgZT10LmdkcHJDb25zZW50LG49dm9pZCAwPT09ZT97fTplLHI9aC5iLmdldENvbmZpZygidHR4U2V0dGluZ3MiKSxpPXImJnIuc3luY1VybHx8dSxvPW4uY29uc2VudFN0cmluZyxkPW4uZ2RwckFwcGxpZXMsYT17dHlwZToiaWZyYW1lIix1cmw6IiIuY29uY2F0KGksIiZnZHByX2NvbnNlbnQ9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChvKSl9O3JldHVybiJib29sZWFuIj09dHlwZW9mIGQmJihhLnVybCs9IiZnZHByPSIuY29uY2F0KE51bWJlcihkKSkpLGF9KHtnZHByQ29uc2VudDpuLHNpdGVJZDp0fSl9KTpbXX19O09iamVjdChyLnJlZ2lzdGVyQmlkZGVyKShhKX19LFsxMjNdKTsKdXBianNDaHVuayhbMjkzXSx7MTI5OmZ1bmN0aW9uKGUscixhKXtlLmV4cG9ydHM9YSgxMzApfSwxMzA6ZnVuY3Rpb24oZSxyLGEpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5yZXNldFVzZXJTeW5jPWZ1bmN0aW9uKCl7bz0hMX0sYS5kKHIsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIG59KTt2YXIgdT1hKDApLHQ9YSgxKSxvPSExO3ZhciBuPXtjb2RlOiJhYXJkdmFyayIsYWxpYXNlczpbImFkc3BhcmMiLCJzYWZlcmVhY2giXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGUucGFyYW1zLmFpJiYhIWUucGFyYW1zLmFpLmxlbmd0aCYmInN0cmluZyI9PXR5cGVvZiBlLnBhcmFtcy5zYyYmISFlLnBhcmFtcy5zYy5sZW5ndGh9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxhKXt2YXIgdD1bXSxuPVtdLHM9e30sbz1hLnJlZmVyZXJJbmZvLnJlZmVyZXIsZD1bXSxpPSIiLHA9d2luZG93LmlubmVyV2lkdGgsYz13aW5kb3cuaW5uZXJIZWlnaHQ7dHJ5e3ZhciByPXUuZ2V0V2luZG93VG9wKCk7ci5ydGtjYXRlZ29yaWVzJiZBcnJheS5pc0FycmF5KHIucnRrY2F0ZWdvcmllcykmJihkPXIucnRrY2F0ZWdvcmllcykscD1yLmlubmVyV2lkdGgsYz1yLmlubmVySGVpZ2h0fWNhdGNoKGUpe31yZXR1cm4gdS5pc1N0cih1LmRlZXBBY2Nlc3MoZSwiMC51c2VySWQudGRpZCIpKSYmKGk9ZVswXS51c2VySWQudGRpZCksdS5fZWFjaChlLGZ1bmN0aW9uKGUpe3ZhciByPXNbZS5wYXJhbXMuYWldO3J8fChyPXtzaG9ydENvZGVzOltdLHBheWxvYWQ6e3ZlcnNpb246MSxqc29ucDohMSxydGtyZWZlcmVyOm8sdzpwLGg6Y30sZW5kcG9pbnQ6ImJpZGRlci5ydGsuaW8ifSxpJiYoci5wYXlsb2FkLnRkaWQ9aSksZCYmZC5sZW5ndGgmJihyLnBheWxvYWQuY2F0ZWdvcmllcz1kLnNsaWNlKDApKSxlLnBhcmFtcy5jYXRlZ29yaWVzJiZlLnBhcmFtcy5jYXRlZ29yaWVzLmxlbmd0aCYmKHIucGF5bG9hZC5jYXRlZ29yaWVzPXIucGF5bG9hZC5jYXRlZ29yaWVzfHxbXSx1Ll9lYWNoKGUucGFyYW1zLmNhdGVnb3JpZXMsZnVuY3Rpb24oZSl7ci5wYXlsb2FkLmNhdGVnb3JpZXMucHVzaChlKX0pKSxhJiZhLmdkcHJDb25zZW50JiYoci5wYXlsb2FkLmdkcHI9ITEsImJvb2xlYW4iPT10eXBlb2YgYS5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKHIucGF5bG9hZC5nZHByPWEuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpLHIucGF5bG9hZC5nZHByJiYoci5wYXlsb2FkLmNvbnNlbnQ9YS5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSksc1tlLnBhcmFtcy5haV09cix0LnB1c2goZS5wYXJhbXMuYWkpKSxyLnNob3J0Q29kZXMucHVzaChlLnBhcmFtcy5zYyksci5wYXlsb2FkW2UucGFyYW1zLnNjXT1lLmJpZElkLCJzdHJpbmciPT10eXBlb2YgZS5wYXJhbXMuaG9zdCYmZS5wYXJhbXMuaG9zdC5sZW5ndGgmJmUucGFyYW1zLmhvc3QhPT1yLmVuZHBvaW50JiYoci5lbmRwb2ludD1lLnBhcmFtcy5ob3N0KX0pLHUuX2VhY2godCxmdW5jdGlvbihlKXt2YXIgcj1zW2VdO24ucHVzaCh7bWV0aG9kOiJHRVQiLHVybDoiLy8iLmNvbmNhdChyLmVuZHBvaW50LCIvIikuY29uY2F0KGUsIi8iKS5jb25jYXQoci5zaG9ydENvZGVzLmpvaW4oIl8iKSwiL2FhcmR2YXJrIiksZGF0YTpyLnBheWxvYWQsYmlkZGVyUmVxdWVzdDphfSl9KSxufSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gQXJyYXkuaXNBcnJheShlLmJvZHkpfHwoZS5ib2R5PVtlLmJvZHldKSx1Ll9lYWNoKGUuYm9keSxmdW5jdGlvbihlKXt2YXIgcj0rKGUuY3BtfHwwKTtpZihyKXt2YXIgYT17cmVxdWVzdElkOmUuY2lkLGNwbTpyLHdpZHRoOmUud2lkdGh8fDAsaGVpZ2h0OmUuaGVpZ2h0fHwwLGN1cnJlbmN5OmUuY3VycmVuY3k/ZS5jdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiFlLm5ldFJldmVudWV8fGUubmV0UmV2ZW51ZSx0dGw6ZS50dGw/ZS50dGw6MzAwLGNyZWF0aXZlSWQ6ZS5jcmVhdGl2ZUlkfHwwfTtzd2l0Y2goZS5oYXNPd25Qcm9wZXJ0eSgiZGVhbElkIikmJihhLmRlYWxJZD1lLmRlYWxJZCksZS5oYXNPd25Qcm9wZXJ0eSgiZXgiKSYmKGEuZXg9ZS5leCksZS5tZWRpYSl7Y2FzZSJiYW5uZXIiOmEuYWQ9ZS5hZG0rdS5jcmVhdGVUcmFja1BpeGVsSHRtbChkZWNvZGVVUklDb21wb25lbnQoZS5udXJsKSk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gdS5sb2dFcnJvcigiYmFkIEFhcmR2YXJrIHJlc3BvbnNlIChtZWRpYSkiLGUpfXQucHVzaChhKX19KSx0fSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyLGEpe3ZhciB0PVtdLG49Ii8vc3luYy5ydGsuaW8vY3MiLHM9ITE7cmV0dXJuIGEmJiJib29sZWFuIj09dHlwZW9mIGEuZ2RwckFwcGxpZXMmJihzPWEuZ2RwckFwcGxpZXMpLGUuaWZyYW1lRW5hYmxlZD9vfHwobz0hMCxzJiYobj1uKyI/Zz0xJmM9IitlbmNvZGVVUklDb21wb25lbnQoYS5jb25zZW50U3RyaW5nKSksdC5wdXNoKHt0eXBlOiJpZnJhbWUiLHVybDpufSkpOnUubG9nV2FybigiQWFyZHZhcms6IFBsZWFzZSBlbmFibGUgaWZyYW1lIGJhc2VkIHVzZXIgc3luYy4iKSx0fX07T2JqZWN0KHQucmVnaXN0ZXJCaWRkZXIpKG4pfX0sWzEyOV0pOwp1cGJqc0NodW5rKFsyOTBdLHsxMzk6ZnVuY3Rpb24oZSxyLG4pe2UuZXhwb3J0cz1uKDE0MCl9LDE0MDpmdW5jdGlvbihlLHIsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQociwic3BlYyIsZnVuY3Rpb24oKXtyZXR1cm4gZH0pO3ZhciB0PW4oMSksdj1uKDMpLGw9bigyKSxoPW4oMTApLGY9bigwKSxfPSJhZGZvcm0iLGQ9e2NvZGU6XyxzdXBwb3J0ZWRNZWRpYVR5cGVzOltsLmIsbC5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIWUucGFyYW1zLm1pZH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciBuLHQsZCxzLGksbyxwLGEsdSxjLGc9di5iLmdldENvbmZpZygiY3VycmVuY3kuYWRTZXJ2ZXJDdXJyZW5jeSIpLGw9W10saD1bWyJhZHhEb21haW4iLCJhZHguYWRmb3JtLm5ldCJdLFsiZmQiLDFdLFsidXJsIixudWxsXSxbInRpZCIsbnVsbF1dLGY9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSksYj1mWzBdJiZmWzBdLmJpZGRlcnx8Xztmb3Iobj0wLHQ9Zi5sZW5ndGg7bjx0O24rKyl7Zm9yKCJuZXQiIT09KGk9ZltuXSkucGFyYW1zLnByaWNlVHlwZSYmIm5ldCIhPT1pLnBhcmFtcy5wdHx8KHU9Im5ldCIpLGQ9MCxzPWgubGVuZ3RoO2Q8cztkKyspKHA9aVtvPWhbZF1bMF1dfHxpLnBhcmFtc1tvXSkmJihpW29dPWkucGFyYW1zW29dPW51bGwsaFtkXVsxXT1wKTsoYT1pLnBhcmFtcykudHJhbnNhY3Rpb25JZD1pLnRyYW5zYWN0aW9uSWQsYS5yY3VyPWEucmN1cnx8ZyxsLnB1c2gobShhKSl9Zm9yKGwudW5zaGlmdCgiLy8iK2hbMF1bMV0rIi9hZHgvP3JwPTQiKSx1PXV8fCJncm9zcyIsbC5wdXNoKCJwdD0iK3UpLGwucHVzaCgic3RpZD0iK2VbMF0uYXVjdGlvbklkKSxyJiZyLmdkcHJDb25zZW50JiZyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYoYz17Z2RwcjpyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzLGdkcHJfY29uc2VudDpyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmd9LGwucHVzaCgiZ2Rwcj0iK2MuZ2RwciksbC5wdXNoKCJnZHByX2NvbnNlbnQ9IitjLmdkcHJfY29uc2VudCkpLG49MSx0PWgubGVuZ3RoO248dDtuKyspbz1oW25dWzBdLChwPWhbbl1bMV0pJiZsLnB1c2gobysiPSIrZW5jb2RlVVJJQ29tcG9uZW50KHApKTtyZXR1cm57bWV0aG9kOiJHRVQiLHVybDpsLmpvaW4oIiYiKSxiaWRzOmUsbmV0UmV2ZW51ZTp1LGJpZGRlcjpiLGdkcHI6Y307ZnVuY3Rpb24gbShlKXt2YXIgcixuPVtdO2ZvcihyIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmZVtyXSYmbi5wdXNoKHIsIj0iLGVbcl0sIiYiKTtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGJ0b2Eobi5qb2luKCIiKS5zbGljZSgwLC0xKSkpfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXtmb3IodmFyIG4sdCxkLHMsaT17YmFubmVyOjEsdmFzdF9jb250ZW50OjEsdmFzdF91cmw6MX0sbz1bXSxwPXIuYmlkcyxhPWUuYm9keSx1PTA7dTxhLmxlbmd0aDt1Kyspcz0iYmFubmVyIj09PSh0PWFbdV0pLnJlc3BvbnNlP2wuYjpsLmQsZD1wW3VdLGlbdC5yZXNwb25zZV0mJihnKHQsZi5nZXRBZFVuaXRTaXplcyhkKSl8fHM9PT1sLmQpJiYobj17cmVxdWVzdElkOmQuYmlkSWQsY3BtOnQud2luX2JpZCx3aWR0aDp0LndpZHRoLGhlaWdodDp0LmhlaWdodCxjcmVhdGl2ZUlkOmQuYmlkSWQsZGVhbElkOnQuZGVhbF9pZCxjdXJyZW5jeTp0Lndpbl9jdXIsbmV0UmV2ZW51ZToiZ3Jvc3MiIT09ci5uZXRSZXZlbnVlLHR0bDozNjAsYWQ6dC5iYW5uZXIsYmlkZGVyQ29kZTpyLmJpZGRlcix0cmFuc2FjdGlvbklkOmQudHJhbnNhY3Rpb25JZCx2YXN0VXJsOnQudmFzdF91cmwsdmFzdFhtbDp0LnZhc3RfY29udGVudCxtZWRpYVR5cGU6c30sZC5yZW5kZXJlcnx8cyE9PWwuZHx8Im91dHN0cmVhbSIhPT1mLmRlZXBBY2Nlc3MoZCwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iil8fChuLnJlbmRlcmVyPWguYS5pbnN0YWxsKHtpZDpkLmJpZElkLHVybDoiaHR0cHM6Ly9zMi5hZGZvcm0ubmV0L2Jhbm5lcnMvc2NyaXB0cy92aWRlby9vdXRzdHJlYW0vcmVuZGVyLmpzIn0pLG4ucmVuZGVyZXIuc2V0UmVuZGVyKGMpKSxyLmdkcHImJihuLmdkcHI9ci5nZHByLmdkcHIsbi5nZHByX2NvbnNlbnQ9ci5nZHByLmdkcHJfY29uc2VudCksby5wdXNoKG4pKTtyZXR1cm4gbztmdW5jdGlvbiBjKGUpe2UucmVuZGVyZXIucHVzaChmdW5jdGlvbigpe3dpbmRvdy5BZGZvcm0ucmVuZGVyT3V0c3RyZWFtKGUpfSl9ZnVuY3Rpb24gZyhlLHIpe2Zvcih2YXIgbj0wLHQ9ci5sZW5ndGg7bjx0O24rKylpZihlLndpZHRoPT1yW25dWzBdJiZlLmhlaWdodD09cltuXVsxXSlyZXR1cm4hMDtyZXR1cm4hMX19fTtPYmplY3QodC5yZWdpc3RlckJpZGRlcikoZCl9fSxbMTM5XSk7CnVwYmpzQ2h1bmsoWzI3MF0sezE5MjpmdW5jdGlvbihlLG4scil7ZS5leHBvcnRzPXIoMTkzKX0sMTkzOmZ1bmN0aW9uKGUsbixyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZChuLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBjfSk7dmFyIHQ9cigwKSxvPXIoOSksaT1yKDEpLGE9cigxMiksZD1yLm4oYSksYz17Y29kZToiYWR5b3VsaWtlIixhbGlhc2VzOlsiYXlsIl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7dmFyIG49cChzKGUpKTtyZXR1cm4hIShlLnBhcmFtcyYmZS5wYXJhbXMucGxhY2VtZW50JiZuLndpZHRoJiZuLmhlaWdodCl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxuKXt2YXIgcj17VmVyc2lvbjoiMS4wIixCaWRzOmUucmVkdWNlKGZ1bmN0aW9uKGUsbil7dmFyIHI9cyhuKSx0PXAocik7cmV0dXJuIGVbbi5iaWRJZF09e30sZVtuLmJpZElkXS5QbGFjZW1lbnRJRD1uLnBhcmFtcy5wbGFjZW1lbnQsZVtuLmJpZElkXS5UcmFuc2FjdGlvbklEPW4udHJhbnNhY3Rpb25JZCxlW24uYmlkSWRdLldpZHRoPXQud2lkdGgsZVtuLmJpZElkXS5IZWlnaHQ9dC5oZWlnaHQsZVtuLmJpZElkXS5BdmFpbGFibGVTaXplcz1yLmpvaW4oIiwiKSxlfSx7fSksUGFnZVJlZnJlc2hlZDpmdW5jdGlvbigpe3RyeXtpZihwZXJmb3JtYW5jZSYmcGVyZm9ybWFuY2UubmF2aWdhdGlvbilyZXR1cm4gcGVyZm9ybWFuY2UubmF2aWdhdGlvbi50eXBlPT09cGVyZm9ybWFuY2UubmF2aWdhdGlvbi5UWVBFX1JFTE9BRH1jYXRjaChlKXt9cmV0dXJuITF9KCl9O24mJm4uZ2RwckNvbnNlbnQmJihyLmdkcHJDb25zZW50PXtjb25zZW50U3RyaW5nOm4uZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyxjb25zZW50UmVxdWlyZWQ6ImJvb2xlYW4iIT10eXBlb2Ygbi5nZHByQ29uc2VudC5nZHByQXBwbGllc3x8bi5nZHByQ29uc2VudC5nZHByQXBwbGllc30pO3ZhciB0LGksYT1KU09OLnN0cmluZ2lmeShyKTtyZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6KHQ9bixpPWZ1bmN0aW9uKGUpe3ZhciBuPWQoKShlLGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtcy5EQ30pO2lmKG4pcmV0dXJuIi0iK24ucGFyYW1zLkRDO3JldHVybiIifShlKSxPYmplY3Qoby5hKSh7cHJvdG9jb2w6Imh0dHBzIixob3N0OiIiLmNvbmNhdCgiaGItYXBpIikuY29uY2F0KGksIi5vbW5pdGFnanMuY29tIikscGF0aG5hbWU6Ii9oYi1hcGkvcHJlYmlkL3YxIixzZWFyY2g6ZnVuY3Rpb24oZSl7dmFyIG49e30scj1mdW5jdGlvbihlKXt2YXIgbj0iIjtyZXR1cm4gZSYmZS5yZWZlcmVySW5mbyYmKG49ZW5jb2RlVVJJQ29tcG9uZW50KGUucmVmZXJlckluZm8ucmVmZXJlcikpLG59KGUpO3ImJihuLlJlZmVyZXJVcmw9ZW5jb2RlVVJJQ29tcG9uZW50KHIpKTt2YXIgdD1mdW5jdGlvbigpe3ZhciBlO2lmKHdpbmRvdy5zZWxmIT09d2luZG93LnRvcCl0cnl7ZT13aW5kb3cudG9wLmRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcignbGlua1tyZWw9ImNhbm9uaWNhbCJdW2hyZWZdJyl9Y2F0Y2goZSl7fWVsc2UgZT1kb2N1bWVudC5oZWFkLnF1ZXJ5U2VsZWN0b3IoJ2xpbmtbcmVsPSJjYW5vbmljYWwiXVtocmVmXScpO3JldHVybiBlP2UuaHJlZjoiIn0oKTtyZXR1cm4gdCYmKG4uQ2Fub25pY2FsVXJsPWVuY29kZVVSSUNvbXBvbmVudCh0KSksbn0odCl9KSksZGF0YTphLG9wdGlvbnM6e3dpdGhDcmVkZW50aWFsczohMH19fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZS5ib2R5LmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIG4scj0obj1lKSYmbi5BZD97cmVxdWVzdElkOm4uQmlkSUQsd2lkdGg6bi5XaWR0aCxoZWlnaHQ6bi5IZWlnaHQsYWQ6bi5BZCx0dGw6MzYwMCxjcmVhdGl2ZUlkOm4uQ3JlYXRpdmVJRCxjcG06bi5QcmljZSxuZXRSZXZlbnVlOiEwLGN1cnJlbmN5OiJVU0QifTp2b2lkIDA7ciYmdC5wdXNoKHIpfSksdH19O2Z1bmN0aW9uIHMoZSl7dmFyIG49ZS5zaXplcztyZXR1cm4gZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiYobj1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKSx0LnBhcnNlU2l6ZXNJbnB1dChuKX1mdW5jdGlvbiBwKGUpe3ZhciBuPXt9LHI9ZVswXTtpZigic3RyaW5nIiE9dHlwZW9mIHIpcmV0dXJuIG47dmFyIHQ9ci50b1VwcGVyQ2FzZSgpLnNwbGl0KCJYIiksaT1wYXJzZUludCh0WzBdLDEwKTtpJiYobi53aWR0aD1pKTt2YXIgYT1wYXJzZUludCh0WzFdLDEwKTtyZXR1cm4gYSYmKG4uaGVpZ2h0PWEpLG59T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKGMpfX0sWzE5Ml0pOwp1cGJqc0NodW5rKFsyNjhdLHsxOTY6ZnVuY3Rpb24obix0LGUpe24uZXhwb3J0cz1lKDE5Nyl9LDE5NzpmdW5jdGlvbihuLHQsZSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmQodCwiQklEREVSX0NPREUiLGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSxlLmQodCwiRU5HSU5FX0JBU0VfVVJMIixmdW5jdGlvbigpe3JldHVybiBvfSksZS5kKHQsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSx0LnJlc2V0VXNlclN5bmM9ZnVuY3Rpb24oKXtzPSExfTtlKDApO3ZhciByPWUoMSksYT1lKDIpO2Z1bmN0aW9uIHUobix0LGUpe3JldHVybiB0IGluIG4/T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sdCx7dmFsdWU6ZSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOm5bdF09ZSxufXZhciBpPSJhbWF6b25BQVgiLG89Imh0dHBzOi8vYy5hbWF6b24tYWRzeXN0ZW0uY29tL2UvZHRiL2JpZCIsZj1bXSxzPSExLGQ9WyJodHRwczovL2FheC1ldS5hbWF6b24tYWRzeXN0ZW0uY29tL3MvaXUzP2NtM3BwZD0xJmQ9ZHRiLXB1YiZjc2lmPXQiXTt2YXIgYz17Y29kZTppLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2EuYl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihuLHQpe2Zvcih2YXIgZT0wO2U8bi5sZW5ndGg7ZSsrKXt2YXIgcj1uW2VdO2YucHVzaChyKX12YXIgYSxpPVtdO3JldHVybiBhPWZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBlLHI9W10sYT10JiZ0LmdkcHJDb25zZW50LGk9MDtpPG4ubGVuZ3RoO2krKyl7Zm9yKHZhciBvPXt9LHM9bltpXS5zaXplcyxkPVtdLGM9MDtjPHMubGVuZ3RoO2MrKylkLnB1c2goc1tjXVswXSsieCIrc1tjXVsxXSk7by5zZD1sLnRvU3RyaW5nKCksby5zPWQsby5zbj1uW2ldLnBhcmFtcy5hZFVuaXRHUFRQYXRoLHIucHVzaChvKSxsKyt9dmFyIG09LTE8blswXS5wYXJhbXMucHViSUQuaW5kZXhPZigiLSIpLHA9KHUoZT17fSwic3JjIixtPyI2MDAiOm5bMF0ucGFyYW1zLnB1YklEKSx1KGUsInB1YmlkIixuWzBdLnBhcmFtcy5wdWJJRCksdShlLCJ1Iix3aW5kb3cubG9jYXRpb24uaHJlZiksdShlLCJwaWQiLGZ1bmN0aW9uKG4pe2Zvcih2YXIgdD0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkiLGU9bmV3IEFycmF5KG4pLHI9MDtyPG47cisrKWVbcl09dFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdC5sZW5ndGgpXTtyZXR1cm4gZS5qb2luKCIiKX0oMTMpKSx1KGUsInByIixkb2N1bWVudC5yZWZlcnJlciksdShlLCJjYiIsMCksdShlLCJ3cyIsKHdpbmRvdy5pbm5lcldpZHRofHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGh8fGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpKyJ4Iisod2luZG93LmlubmVySGVpZ2h0fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0fHxkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCkpLHUoZSwidiIsIjcuNDcuMDAiKSx1KGUsInNsb3RzIixKU09OLnN0cmluZ2lmeShyKSksdShlLCJ0IiwzZTMpLGUpO2EmJiJzdHJpbmciPT10eXBlb2YgYS5jb25zZW50U3RyaW5nPyJib29sZWFuIj09dHlwZW9mIGEuZ2RwckFwcGxpZXM/KHAuZ2RwcmU9IjEiLHAuZ2RwcmM9IiIuY29uY2F0KGEuY29uc2VudFN0cmluZykscC5nZHBybD1KU09OLnN0cmluZ2lmeSh7bHNTdGF0dXM6InByZXNlbnQiLHN0YXR1czoiY21wLXN1Y2Nlc3MiLHJ0aW1lczpbMV0sY2M6IjAifSkpOnAuZ2Rwcmw9SlNPTi5zdHJpbmdpZnkodSh7c3RhdHVzOiJwcmVzZW50In0sInN0YXR1cyIsImNtcC1zdWNjZXNzIikpOnAuZ2Rwcmw9SlNPTi5zdHJpbmdpZnkoe3N0YXR1czoiY21wLWVycm9yIn0pO3JldHVybiBwfShuLHQpLGkucHVzaCh7bWV0aG9kOiJHRVQiLHVybDpvLGRhdGE6YX0pLGl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKG4pe3ZhciB0PVtdLGU9bmV3IFJlZ0V4cCgiYXBzdGFnXFwuXFx3K1xcKCguKj8pXFwpIiwiZ20iKSxyPW4uYm9keSxhPWUuZXhlYyhyKTtpZihhJiYwPGEubGVuZ3RoKXRyeXt2YXIgaSxvPUpTT04ucGFyc2UoYVsxXSk7aWYoby5jbXAsIW8uc2xvdHMpcmV0dXJuIHQ7aT1vLmhvc3Q7Zm9yKHZhciBzPW8uc2xvdHMsZD0wO2Q8cy5sZW5ndGg7ZCsrKXtmb3IodmFyIGM9dm9pZCAwLG09c1tkXSxwPTA7cDxmLmxlbmd0aDtwKyspaWYocC50b1N0cmluZygpPT09bS5zbG90SUQpe2M9ZltwXTticmVha31pZih2b2lkIDAhPT1jKXt2YXIgdT0wLGw9IiIrTWF0aC5yb3VuZCgxZTEyKk1hdGgucmFuZG9tKCkpK0RhdGUubm93KCksZz1pKyIvZS9kdGIvYWRtaT9iPSIrbS5hbXpuaWlkKyImcm5kPSIrbCsiJnBwPSIrbS5hbXpuYmlkKyImcD0iK20uYW16bnArIiZjcmlkPSIrbS5jcmlkO3dpbmRvdy51cG9fYW16biYmd2luZG93LnVwb19hbXpuLmFtYXpvbkNQTUNoYXJ0JiZ3aW5kb3cudXBvX2Ftem4uYW1hem9uQ1BNQ2hhcnRbbS5hbXpuYmlkXSYmKHU9d2luZG93LnVwb19hbXpuLmFtYXpvbkNQTUNoYXJ0W20uYW16bmJpZF0pLHQucHVzaCh7cmVxdWVzdElkOmMuYmlkSWQsY3BtOnUsd2lkdGg6bS5hbXpuc3ouc3BsaXQoIngiKVswXSxoZWlnaHQ6bS5hbXpuc3ouc3BsaXQoIngiKVsxXSxhZFRhcmdldGluZzoneyJhbXpuaWlkIjoiJyttLmFtem5paWQrJyIsImFtem5wIjoiJyttLmFtem5wKyciLCJhbXpuYmlkIjoiJyttLmFtem5iaWQrJyIsImFtem5zeiI6IicrbS5hbXpuc3orJyJ9JyxhZDoiIixhZEh0bWw6Jzxib2R5IGxlZnRtYXJnaW49IjAiIHRvcG1hcmdpbj0iMCIgbWFyZ2lud2lkdGg9IjAiIG1hcmdpbmhlaWdodD0iMCI+PGlmcmFtZSBmcmFtZWJvcmRlcj0iMCIgbWFyZ2luaGVpZ2h0PSIwIiBtYXJnaW53aWR0aD0iMCIgc2Nyb2xsaW5nPSJubyIgd2lkdGg9IicrbS5hbXpuc3ouc3BsaXQoIngiKVswXSsncHgiIGhlaWdodD0iJyttLmFtem5zei5zcGxpdCgieCIpWzFdKydweCIgaWQ9ImFtem5hZDcwMzUyIiBzYW5kYm94PSJhbGxvdy1mb3JtcyBhbGxvdy1wb2ludGVyLWxvY2sgYWxsb3ctcG9wdXBzIGFsbG93LXBvcHVwcy10by1lc2NhcGUtc2FuZGJveCBhbGxvdy1zYW1lLW9yaWdpbiBhbGxvdy1zY3JpcHRzIGFsbG93LXRvcC1uYXZpZ2F0aW9uLWJ5LXVzZXItYWN0aXZhdGlvbiIgc3JjPSInK2crJyI+PC9pZnJhbWU+PHNjcmlwdD52YXIgYW16ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7YW16LnNyYyA9ICIvL2MuYW1hem9uLWFkc3lzdGVtLmNvbS9iYW8tY3NtL2RpcmVjdC9jc20uanMiO2Ftei5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixmdW5jdGlvbigpe3ZhciBjc21GdW5jID0gbnVsbDsgaWYod2luZG93LmFtem5jc20gJiYgd2luZG93LmFtem5jc20ucm1EKXtjc21GdW5jID0gd2luZG93LmFtem5jc20ucm1EO30gZWxzZSBpZiAod2luZG93LmFtem5jc20pIHtjc21GdW5jID0gd2luZG93LmFtem5jc21bT2JqZWN0LmtleXMod2luZG93LmFtem5jc20pWzBdXX07IHZhciBhZElmcmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCdpZnJhbWVbc3JjKj0iYW1hem9uLWFkc3lzdGVtLmNvbS9lL2R0Yi9hZG1pXCcpO2NzbUZ1bmMoYWRJZnJhbWUsICInK20uYW16bmlpZCsnIiwgd2luZG93LCBkb2N1bWVudCwgIicrYy5wYXJhbXMucHViSUQrJyIpO30pOyhkb2N1bWVudC5ib2R5fHxkb2N1bWVudC5oZWFkfHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKGFteik7PFwvc2NyaXB0PjwvYm9keT4nLGFkVXJsOmcsdHRsOjkwMCxjcmVhdGl2ZUlkOm0uY3JpZCxuZXRSZXZlbnVlOiEwLGN1cnJlbmN5OiJVU0QifSl9fX1jYXRjaChuKXt9cmV0dXJuIHR9LGdldFVzZXJTeW5jczpmdW5jdGlvbihuLHQsZSl7aWYoIXMpe2UmJiJzdHJpbmciPT10eXBlb2YgZS5jb25zZW50U3RyaW5nJiYoImJvb2xlYW4iPT10eXBlb2YgZS5nZHByQXBwbGllcz8iP2dkcHI9Ii5jb25jYXQoTnVtYmVyKGUuZ2RwckFwcGxpZXMpLCImZ2Rwcl9jb25zZW50PSIpLmNvbmNhdChlLmNvbnNlbnRTdHJpbmcpOiI/Z2Rwcl9jb25zZW50PSIuY29uY2F0KGUuY29uc2VudFN0cmluZykpLHM9ITA7Zm9yKHZhciByPVtdLGE9MDthPGQubGVuZ3RoO2ErKylyLnB1c2goe3R5cGU6ImlmcmFtZSIsdXJsOmRbYV19KTtyZXR1cm4gcn19fTt2YXIgbD0wO09iamVjdChyLnJlZ2lzdGVyQmlkZGVyKShjKX19LFsxOTZdKTsKdXBianNDaHVuayhbMjY1XSx7MjAyOmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCgyMDMpfSwyMDM6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIHh9KTt2YXIgcz10KDApLG49dCgxKSxpPXQoMik7ZnVuY3Rpb24gbygpe3JldHVybihvPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PWFyZ3VtZW50c1tyXTtmb3IodmFyIG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmKGVbbl09dFtuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gYSgpe3ZhciBlPWQoWyJkY249IiwiJnBvcz0iLCImY21kPWJpZCIsIiJdKTtyZXR1cm4gYT1mdW5jdGlvbigpe3JldHVybiBlfSxlfWZ1bmN0aW9uIGMoKXt2YXIgZT1kKFsiLy8iLCIvYmlkUmVxdWVzdD8iXSk7cmV0dXJuIGM9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZX1mdW5jdGlvbiB1KCl7dmFyIGU9ZChbIi8vIiwiL3B1YmFwaS8zLjAvIiwiLyIsIi8iLCIvIiwiL0FEVEVDSDt2PTI7Y21kPWJpZDtjb3JzPXllczthbGlhcz0iLCI7bWlzYz0iLCI7IiwidXBvbml0PXRydWUmdXBhcGk9dHJ1ZSJdKTtyZXR1cm4gdT1mdW5jdGlvbigpe3JldHVybiBlfSxlfWZ1bmN0aW9uIGQoZSxyKXtyZXR1cm4gcj1yfHxlLnNsaWNlKDApLE9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSx7cmF3Ont2YWx1ZTpPYmplY3QuZnJlZXplKHIpfX0pKX12YXIgcD17QU9MOiJhb2wiLE9ORU1PQklMRToib25lbW9iaWxlIixPTkVESVNQTEFZOiJvbmVkaXNwbGF5In0sbD17R0VUOiJkaXNwbGF5LWdldCJ9LG09e0dFVDoibW9iaWxlLWdldCIsUE9TVDoibW9iaWxlLXBvc3QifSxmPXtUQUc6ImlmcmFtZSIsVFlQRToiaWZyYW1lIn0sYj17VEFHOiJpbWciLFRZUEU6ImltYWdlIn0saD1QKHUoKSwiaG9zdCIsIm5ldHdvcmsiLCJwbGFjZW1lbnQiLCJwYWdlaWQiLCJzaXplaWQiLCJhbGlhcyIsIm1pc2MiLCJkeW5hbWljUGFyYW1zIiksdj1QKGMoKSwiaG9zdCIpLGc9UChhKCksImRjbiIsInBvcyIsImR5bmFtaWNQYXJhbXMiKSxPPXt1czoiYWRzZXJ2ZXItdXMuYWR0ZWNoLmFkdmVydGlzaW5nLmNvbSIsZXU6ImFkc2VydmVyLWV1LmFkdGVjaC5hZHZlcnRpc2luZy5jb20iLGFzOiJhZHNlcnZlci1hcy5hZHRlY2guYWR2ZXJ0aXNpbmcuY29tIn0seT0iaHR0cHMiLEU9MTtmdW5jdGlvbiBQKG8pe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KDE8ZT9lLTE6MCkscj0xO3I8ZTtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShlKSxyPTA7cjxlO3IrKyluW3JdPWFyZ3VtZW50c1tyXTt2YXIgaT1uW24ubGVuZ3RoLTFdfHx7fSxhPVtvWzBdXTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKGUscil7dmFyIHQ9cy5pc0ludGVnZXIoZSk/bltlXTppW2VdO2EucHVzaCh0LG9bcisxXSl9KSxhLmpvaW4oIiIpfX1mdW5jdGlvbiBJKGUpe3JldHVybiBlPT09cC5BT0x8fGU9PT1wLk9ORU1PQklMRX1mdW5jdGlvbiBUKGUpe2lmKEkoZS5iaWRkZXIpJiZlLnBhcmFtcy5pZCYmZS5wYXJhbXMuaW1wJiZlLnBhcmFtcy5pbXBbMF0pe3ZhciByPWUucGFyYW1zLmltcFswXTtyZXR1cm4gci5pZCYmci50YWdpZCYmKHIuYmFubmVyJiZyLmJhbm5lci53JiZyLmJhbm5lci5ofHxyLnZpZGVvJiZyLnZpZGVvLm1pbWVzJiZyLnZpZGVvLm1pbmR1cmF0aW9uJiZyLnZpZGVvLm1heGR1cmF0aW9uKX19ZnVuY3Rpb24gUyhlKXtyZXR1cm4gSShlLmJpZGRlcikmJmUucGFyYW1zLmRjbiYmZS5wYXJhbXMucG9zfWZ1bmN0aW9uIEMoZSl7cmV0dXJuKChyPWUuYmlkZGVyKT09PXAuQU9MfHxyPT09cC5PTkVESVNQTEFZKSYmZS5wYXJhbXMucGxhY2VtZW50JiZlLnBhcmFtcy5uZXR3b3JrO3ZhciByfXZhciB4PXtjb2RlOnAuQU9MLGFsaWFzZXM6W3AuT05FTU9CSUxFLHAuT05FRElTUExBWV0sc3VwcG9ydGVkTWVkaWFUeXBlczpbaS5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4gQyhlKXx8KFMocj1lKXx8VChyKSk7dmFyIHJ9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgbj10aGlzLGk9e307cmV0dXJuIHImJihpLmdkcHI9ci5nZHByQ29uc2VudCxpLnVzcENvbnNlbnQ9ci51c3BDb25zZW50KSxlLm1hcChmdW5jdGlvbihlKXt2YXIgcix0PVMocj1lKT9tLkdFVDpUKHIpP20uUE9TVDpDKHIpP2wuR0VUOnZvaWQgMDtpZih0KXJldHVybiBuLmZvcm1hdEJpZFJlcXVlc3QodCxlLGkpfSl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIHQ9ZS5ib2R5O2lmKHQpe3ZhciBuPXRoaXMuX3BhcnNlQmlkUmVzcG9uc2UodCxyKTtpZihuKXJldHVybiBufWVsc2Ugcy5sb2dFcnJvcigiRW1wdHkgYmlkIHJlc3BvbnNlIixyLmJpZGRlckNvZGUsdCl9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIpe3ZhciB0PSFzLmlzRW1wdHkocikmJnJbMF0uYm9keTtyZXR1cm4gdCYmdC5leHQmJnQuZXh0LnBpeGVscz90aGlzLnBhcnNlUGl4ZWxJdGVtcyh0LmV4dC5waXhlbHMpOltdfSxmb3JtYXRCaWRSZXF1ZXN0OmZ1bmN0aW9uKGUscix0KXt2YXIgbjtzd2l0Y2goZSl7Y2FzZSBsLkdFVDpuPXt1cmw6dGhpcy5idWlsZE1hcmtldHBsYWNlVXJsKHIsdCksbWV0aG9kOiJHRVQiLHR0bDo2MH07YnJlYWs7Y2FzZSBtLkdFVDpuPXt1cmw6dGhpcy5idWlsZE9uZU1vYmlsZUdldFVybChyLHQpLG1ldGhvZDoiR0VUIix0dGw6MzYwMH07YnJlYWs7Y2FzZSBtLlBPU1Q6bj17dXJsOnRoaXMuYnVpbGRPbmVNb2JpbGVCYXNlVXJsKHIpLG1ldGhvZDoiUE9TVCIsdHRsOjM2MDAsZGF0YTp0aGlzLmJ1aWxkT3BlblJ0YlJlcXVlc3REYXRhKHIsdCksb3B0aW9uczp7Y29udGVudFR5cGU6ImFwcGxpY2F0aW9uL2pzb24iLGN1c3RvbUhlYWRlcnM6eyJ4LW9wZW5ydGItdmVyc2lvbiI6IjIuMiJ9fX19cmV0dXJuIG4uYmlkZGVyQ29kZT1yLmJpZGRlcixuLmJpZElkPXIuYmlkSWQsbi51c2VyU3luY09uPXIucGFyYW1zLnVzZXJTeW5jT24sbn0sYnVpbGRNYXJrZXRwbGFjZVVybDpmdW5jdGlvbihlLHIpe3ZhciB0LG49ZS5wYXJhbXMsaT1uLnNlcnZlcixhPW4ucmVnaW9ufHwidXMiO3JldHVybiBPLmhhc093blByb3BlcnR5KGEpfHwocy5sb2dXYXJuKCJVbmtub3duIHJlZ2lvbiAnIi5jb25jYXQoYSwiJyBmb3IgQU9MIGJpZGRlci4iKSksYT0idXMiKSx0PWl8fE9bYV0sbi5yZWdpb249YSx0aGlzLmFwcGx5UHJvdG9jb2woaCh7aG9zdDp0LG5ldHdvcms6bi5uZXR3b3JrLHBsYWNlbWVudDpwYXJzZUludChuLnBsYWNlbWVudCkscGFnZWlkOm4ucGFnZUlkfHwwLHNpemVpZDpuLnNpemVJZHx8MCxhbGlhczpuLmFsaWFzfHxzLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxtaXNjOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGR5bmFtaWNQYXJhbXM6dGhpcy5mb3JtYXRNYXJrZXRwbGFjZUR5bmFtaWNQYXJhbXMobixyKX0pKX0sYnVpbGRPbmVNb2JpbGVHZXRVcmw6ZnVuY3Rpb24oZSxyKXt2YXIgdD1lLnBhcmFtcyxuPXQuZGNuLGk9dC5wb3MsYT10LmV4dCxvPXRoaXMuYnVpbGRPbmVNb2JpbGVCYXNlVXJsKGUpO2lmKG4mJmkpe3ZhciBzPXRoaXMuZm9ybWF0T25lTW9iaWxlRHluYW1pY1BhcmFtcyhhLHIpO28rPWcoe2RjbjpuLHBvczppLGR5bmFtaWNQYXJhbXM6c30pfXJldHVybiBvfSxidWlsZE9uZU1vYmlsZUJhc2VVcmw6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYXBwbHlQcm90b2NvbCh2KHtob3N0OmUucGFyYW1zLmhvc3R8fCJjMnNoYi5zc3AueWFob28uY29tIn0pKX0sYXBwbHlQcm90b2NvbDpmdW5jdGlvbihlKXtyZXR1cm4vXmh0dHBzPzpcL1wvL2kudGVzdChlKT9lOjA9PT1lLmluZGV4T2YoIi8vIik/IiIuY29uY2F0KHksIjoiKS5jb25jYXQoZSk6IiIuY29uY2F0KHksIjovLyIpLmNvbmNhdChlKX0sZm9ybWF0TWFya2V0cGxhY2VEeW5hbWljUGFyYW1zOmZ1bmN0aW9uKGUscil7dmFyIHQ9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1lP2U6e30sbj0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXI/cjp7fSxpPXt9O3QuYmlkRmxvb3ImJihpLmJpZGZsb29yPXQuYmlkRmxvb3IpLG8oaSx0aGlzLmZvcm1hdEtleVZhbHVlcyh0LmtleVZhbHVlcykpLG8oaSx0aGlzLmZvcm1hdENvbnNlbnREYXRhKG4pKTt2YXIgYT0iIjtyZXR1cm4gcy5fZWFjaChpLGZ1bmN0aW9uKGUscil7YSs9IiIuY29uY2F0KHIsIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUpLCI7Iil9KSxhfSxmb3JtYXRPbmVNb2JpbGVEeW5hbWljUGFyYW1zOmZ1bmN0aW9uKGUscil7dmFyIHQ9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1lP2U6e30sbj0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXI/cjp7fTt0aGlzLmlzU2VjdXJlUHJvdG9jb2woKSYmKHQuc2VjdXJlPUUpLG8odCx0aGlzLmZvcm1hdENvbnNlbnREYXRhKG4pKTt2YXIgaT0iIjtyZXR1cm4gcy5fZWFjaCh0LGZ1bmN0aW9uKGUscil7aSs9IiYiLmNvbmNhdChyLCI9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlKSl9KSxpfSxidWlsZE9wZW5SdGJSZXF1ZXN0RGF0YTpmdW5jdGlvbihlLHIpe3ZhciB0PTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09cj9yOnt9LG49e2lkOmUucGFyYW1zLmlkLGltcDplLnBhcmFtcy5pbXB9O3JldHVybiB0aGlzLmlzRVVDb25zZW50UmVxdWlyZWQodCkmJihzLmRlZXBTZXRWYWx1ZShuLCJyZWdzLmV4dC5nZHByIixFKSx0LmdkcHIuY29uc2VudFN0cmluZyYmcy5kZWVwU2V0VmFsdWUobiwidXNlci5leHQuY29uc2VudCIsdC5nZHByLmNvbnNlbnRTdHJpbmcpKSx0LnVzcENvbnNlbnQmJnMuZGVlcFNldFZhbHVlKG4sInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHQudXNwQ29uc2VudCksbn0saXNFVUNvbnNlbnRSZXF1aXJlZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlJiZlLmdkcHImJmUuZ2Rwci5nZHByQXBwbGllcyl9LGZvcm1hdEtleVZhbHVlczpmdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gcy5fZWFjaChlLGZ1bmN0aW9uKGUscil7dFsia3YiLmNvbmNhdChyKV09ZX0pLHR9LGZvcm1hdENvbnNlbnREYXRhOmZ1bmN0aW9uKGUpe3ZhciByPXt9O3JldHVybiB0aGlzLmlzRVVDb25zZW50UmVxdWlyZWQoZSkmJihyLmdkcHI9RSxlLmdkcHIuY29uc2VudFN0cmluZyYmKHIuZXVjb25zZW50PWUuZ2Rwci5jb25zZW50U3RyaW5nKSksZS51c3BDb25zZW50JiYoci51c19wcml2YWN5PWUudXNwQ29uc2VudCkscn0scGFyc2VQaXhlbEl0ZW1zOmZ1bmN0aW9uKGUpe3ZhciBuPS9cdyooPz1ccykvLGk9L3NyYz0oInwnKSguKj8pXDEvLGE9W107aWYoZSl7dmFyIHI9ZS5tYXRjaCgvKGltZ3xpZnJhbWUpW1xzXFNdKj9zcmNccyo9XHMqKCJ8JykoLio/KVwyL2dpKTtyJiZyLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9ZS5tYXRjaChuKVswXSx0PWUubWF0Y2goaSlbMl07ciYmciYmYS5wdXNoKHt0eXBlOnI9PT1iLlRBRz9iLlRZUEU6Zi5UWVBFLHVybDp0fSl9KX1yZXR1cm4gYX0sX3BhcnNlQmlkUmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgdCxuO3RyeXt0PWUuc2VhdGJpZFswXS5iaWRbMF19Y2F0Y2goZSl7cmV0dXJufWlmKHQuZXh0JiZ0LmV4dC5lbmNwKW49dC5leHQuZW5jcDtlbHNlIGlmKG51bGw9PT0obj10LnByaWNlKXx8aXNOYU4obikpcmV0dXJuIHZvaWQgcy5sb2dFcnJvcigiSW52YWxpZCBwcmljZSBpbiBiaWQgcmVzcG9uc2UiLHAuQU9MLGJpZCk7cmV0dXJue2JpZGRlckNvZGU6ci5iaWRkZXJDb2RlLHJlcXVlc3RJZDpyLmJpZElkLGFkOnQuYWRtLGNwbTpuLHdpZHRoOnQudyxoZWlnaHQ6dC5oLGNyZWF0aXZlSWQ6dC5jcmlkfHwwLHB1YmFwaUlkOmUuaWQsY3VycmVuY3k6ZS5jdXJ8fCJVU0QiLGRlYWxJZDp0LmRlYWxpZCxuZXRSZXZlbnVlOiEwLHR0bDpyLnR0bH19LGlzT25lTW9iaWxlQmlkZGVyOkksaXNTZWN1cmVQcm90b2NvbDpmdW5jdGlvbigpe3JldHVybiJodHRwczoiPT09ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2x9fTtPYmplY3Qobi5yZWdpc3RlckJpZGRlcikoeCl9fSxbMjAyXSk7CnVwYmpzQ2h1bmsoWzI2M10sezIxMDpmdW5jdGlvbihlLHIsYSl7ZS5leHBvcnRzPWEoMjExKX0sMjExOmZ1bmN0aW9uKGUscixhKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGEuZChyLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBsfSk7dmFyIGY9YSgxMCksXz1hKDApLGs9YSgzKSx2PWEoMSksZz1hKDIpLGM9YSgyNSksdD1hKDEyKSxJPWEubih0KSxuPWEoMTEpLHg9YS5uKG4pLHk9YSgzNCk7ZnVuY3Rpb24gaShlKXtyZXR1cm4oaT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGIoKXtyZXR1cm4oYj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgYT1hcmd1bWVudHNbcl07Zm9yKHZhciB0IGluIGEpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsdCkmJihlW3RdPWFbdF0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEEoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgcj0wLGE9bmV3IEFycmF5KGUubGVuZ3RoKTtyPGUubGVuZ3RoO3IrKylhW3JdPWVbcl07cmV0dXJuIGF9fShlKXx8ZnVuY3Rpb24oZSl7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKXx8IltvYmplY3QgQXJndW1lbnRzXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9KCl9dmFyIEM9ImFwcG5leHVzIix3PSIvL2liLmFkbnhzLmNvbS91dC92My9wcmViaWQiLHU9WyJpZCIsIm1pbWVzIiwibWluZHVyYXRpb24iLCJtYXhkdXJhdGlvbiIsInN0YXJ0ZGVsYXkiLCJza2lwcGFibGUiLCJwbGF5YmFja19tZXRob2QiLCJmcmFtZXdvcmtzIl0sUz1bImFnZSIsImV4dGVybmFsVWlkIiwic2VnbWVudHMiLCJnZW5kZXIiLCJkbnQiLCJsYW5ndWFnZSJdLFQ9WyJnZW8iLCJkZXZpY2VfaWQiXSxFPVsiZW5hYmxlZCIsImRvbmdsZSIsIm1lbWJlcl9pZCIsImRlYnVnX3RpbWVvdXQiXSxwPXtib2R5OiJkZXNjcmlwdGlvbiIsYm9keTI6ImRlc2MyIixjdGE6ImN0YXRleHQiLGltYWdlOntzZXJ2ZXJOYW1lOiJtYWluX2ltYWdlIixyZXF1aXJlZFBhcmFtczp7cmVxdWlyZWQ6ITB9fSxpY29uOntzZXJ2ZXJOYW1lOiJpY29uIixyZXF1aXJlZFBhcmFtczp7cmVxdWlyZWQ6ITB9fSxzcG9uc29yZWRCeToic3BvbnNvcmVkX2J5Iixwcml2YWN5TGluazoicHJpdmFjeV9saW5rIixzYWxlUHJpY2U6InNhbGVwcmljZSIsZGlzcGxheVVybDoiZGlzcGxheXVybCJ9LHM9IjxzY3JpcHQiLG89L1wvXC9jZG5cLmFkbnhzXC5jb21cL3YvLGQ9InRyay5qcyIsbD17Y29kZTpDLGFsaWFzZXM6WyJhcHBuZXh1c0FzdCIsImJyZWFsdGltZSIsImVteGRpZ2l0YWwiLCJwYWdlc2NpZW5jZSIsImRlZnltZWRpYSIsImdvdXJtZXRhZHMiLCJtYXRvbXkiLCJmZWF0dXJlZm9yd2FyZCIsIm9mdG1lZGlhIiwiZGlzdHJpY3RtIiwiYWRhc3RhIl0sc3VwcG9ydGVkTWVkaWFUeXBlczpbZy5iLGcuZCxnLmNdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUucGFyYW1zLnBsYWNlbWVudElkfHxlLnBhcmFtcy5tZW1iZXImJmUucGFyYW1zLmludkNvZGUpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIHQ9ZS5tYXAoTyksYT1JKCkoZSxQKSxuPXt9OyEwPT09ay5iLmdldENvbmZpZygiY29wcGEiKSYmKG49e2NvcHBhOiEwfSksYSYmT2JqZWN0LmtleXMoYS5wYXJhbXMudXNlcikuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiB4KCkoUyxlKX0pLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV09YS5wYXJhbXMudXNlcltlXX0pO3ZhciBpLHM9SSgpKGUsVSk7cyYmcy5wYXJhbXMmJnMucGFyYW1zLmFwcCYmKGk9e30sT2JqZWN0LmtleXMocy5wYXJhbXMuYXBwKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHgoKShULGUpfSkuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gaVtlXT1zLnBhcmFtcy5hcHBbZV19KSk7dmFyIG8sZD1JKCkoZSxxKTtkJiZkLnBhcmFtcyYmcy5wYXJhbXMuYXBwJiZzLnBhcmFtcy5hcHAuaWQmJihvPXthcHBpZDpkLnBhcmFtcy5hcHAuaWR9KTt2YXIgYz17fSx1PXt9LHA9Xy5nZXRDb29raWUoImFwbl9wcmViaWRfZGVidWciKXx8bnVsbDtpZihwKXRyeXtjPUpTT04ucGFyc2UocCl9Y2F0Y2goZSl7Xy5sb2dFcnJvcigiQXBwTmV4dXMgRGVidWcgQXVjdGlvbiBDb29raWUgRXJyb3I6XG5cbiIrZSl9ZWxzZXt2YXIgbD1JKCkoZSx6KTtsJiZsLmRlYnVnJiYoYz1sLmRlYnVnKX1jJiZjLmVuYWJsZWQmJk9iamVjdC5rZXlzKGMpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4geCgpKEUsZSl9KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3VbZV09Y1tlXX0pO3ZhciBtPUkoKShlLE4pLGY9bT9wYXJzZUludChtLnBhcmFtcy5tZW1iZXIsMTApOjAsdj1lWzBdLnNjaGFpbixnPXt0YWdzOkEodCksdXNlcjpuLHNkazp7c291cmNlOiJwYmpzIix2ZXJzaW9uOiIyLjQ0LjEifSxzY2hhaW46dn07aWYoMDxmJiYoZy5tZW1iZXJfaWQ9ZikscyYmKGcuZGV2aWNlPWkpLGQmJihnLmFwcD1vKSxrLmIuZ2V0Q29uZmlnKCJhZHBvZC5icmFuZENhdGVnb3J5RXhjbHVzaW9uIikmJihnLmJyYW5kX2NhdGVnb3J5X3VuaXF1ZW5lc3M9ITApLHUuZW5hYmxlZCYmKGcuZGVidWc9dSxfLmxvZ0luZm8oIkFwcE5leHVzIERlYnVnIEF1Y3Rpb24gU2V0dGluZ3M6XG5cbiIrSlNPTi5zdHJpbmdpZnkodSxudWxsLDQpKSksciYmci5nZHByQ29uc2VudCYmKGcuZ2Rwcl9jb25zZW50PXtjb25zZW50X3N0cmluZzpyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcsY29uc2VudF9yZXF1aXJlZDpyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzfSksciYmci51c3BDb25zZW50JiYoZy51c19wcml2YWN5PXIudXNwQ29uc2VudCksciYmci5yZWZlcmVySW5mbyl7dmFyIHk9e3JkX3JlZjplbmNvZGVVUklDb21wb25lbnQoci5yZWZlcmVySW5mby5yZWZlcmVyKSxyZF90b3A6ci5yZWZlcmVySW5mby5yZWFjaGVkVG9wLHJkX2lmczpyLnJlZmVyZXJJbmZvLm51bUlmcmFtZXMscmRfc3RrOnIucmVmZXJlckluZm8uc3RhY2subWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoZSl9KS5qb2luKCIsIil9O2cucmVmZXJyZXJfZGV0ZWN0aW9uPXl9SSgpKGUsTSkmJmUuZmlsdGVyKE0pLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIGU9ZnVuY3Rpb24oZSxyKXt2YXIgYT1yLm1lZGlhVHlwZXMudmlkZW8sdD1hLmR1cmF0aW9uUmFuZ2VTZWMsbj1hLnJlcXVpcmVFeGFjdER1cmF0aW9uLGk9ZnVuY3Rpb24oZSl7dmFyIHI9ZS5hZFBvZER1cmF0aW9uU2VjLGE9ZS5kdXJhdGlvblJhbmdlU2VjLHQ9ZS5yZXF1aXJlRXhhY3REdXJhdGlvbixuPV8uZ2V0TWluVmFsdWVGcm9tQXJyYXkoYSksaT1NYXRoLmZsb29yKHIvbik7cmV0dXJuIHQ/TWF0aC5tYXgoaSxhLmxlbmd0aCk6aX0oci5tZWRpYVR5cGVzLnZpZGVvKSxzPV8uZ2V0TWF4VmFsdWVGcm9tQXJyYXkodCksbz1lLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS51dWlkPT09ci5iaWRJZH0pLGQ9Xy5maWxsLmFwcGx5KF8sQShvKS5jb25jYXQoW2ldKSk7aWYobil7dmFyIGM9TWF0aC5jZWlsKGkvdC5sZW5ndGgpLHU9Xy5jaHVuayhkLGMpO3QuZm9yRWFjaChmdW5jdGlvbihyLGUpe3VbZV0ubWFwKGZ1bmN0aW9uKGUpe0IoZSwibWluZHVyYXRpb24iLHIpLEIoZSwibWF4ZHVyYXRpb24iLHIpfSl9KX1lbHNlIGQubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBCKGUsIm1heGR1cmF0aW9uIixzKX0pO3JldHVybiBkfSh0LHIpLGE9Zy50YWdzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS51dWlkIT09ci5iaWRJZH0pO2cudGFncz1bXS5jb25jYXQoQShhKSxBKGUpKX0pO3ZhciBiPV8uZGVlcEFjY2VzcyhlWzBdLCJ1c2VySWQuY3JpdGVvcnR1cy4iLmNvbmNhdChDLCIudXNlcmlkIikpO2lmKGIpe3ZhciBoPVtdO2gucHVzaCh7cHJvdmlkZXI6ImNyaXRlbyIsdXNlcl9pZDpifSksZy50cHVpZHM9aH1yZXR1cm4gZnVuY3Rpb24oZSxhKXt2YXIgdD1bXTtpZigxNTxlLnRhZ3MubGVuZ3RoKXt2YXIgbj1fLmRlZXBDbG9uZShlKTtfLmNodW5rKGUudGFncywxNSkuZm9yRWFjaChmdW5jdGlvbihlKXtuLnRhZ3M9ZTt2YXIgcj1KU09OLnN0cmluZ2lmeShuKTt0LnB1c2goe21ldGhvZDoiUE9TVCIsdXJsOncsZGF0YTpyLGJpZGRlclJlcXVlc3Q6YX0pfSl9ZWxzZXt2YXIgcj1KU09OLnN0cmluZ2lmeShlKTt0PXttZXRob2Q6IlBPU1QiLHVybDp3LGRhdGE6cixiaWRkZXJSZXF1ZXN0OmF9fXJldHVybiB0fShnLHIpfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciBpPXRoaXMscz1yLmJpZGRlclJlcXVlc3Q7ZT1lLmJvZHk7dmFyIG89W107aWYoIWV8fGUuZXJyb3Ipe3ZhciBhPSJpbiByZXNwb25zZSBmb3IgIi5jb25jYXQocy5iaWRkZXJDb2RlLCIgYWRhcHRlciIpO3JldHVybiBlJiZlLmVycm9yJiYoYSs9IjogIi5jb25jYXQoZS5lcnJvcikpLF8ubG9nRXJyb3IoYSksb31pZihlLnRhZ3MmJmUudGFncy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByLGEsdD0ocj1lKSYmci5hZHMmJnIuYWRzLmxlbmd0aCYmSSgpKHIuYWRzLGZ1bmN0aW9uKGUpe3JldHVybiBlLnJ0Yn0pO2lmKHQmJjAhPT10LmNwbSYmeCgpKGkuc3VwcG9ydGVkTWVkaWFUeXBlcyx0LmFkX3R5cGUpKXt2YXIgbj1mdW5jdGlvbihyLGUsYSl7dmFyIHQ9Xy5nZXRCaWRSZXF1ZXN0KHIudXVpZCxbYV0pLG49e3JlcXVlc3RJZDpyLnV1aWQsY3BtOmUuY3BtLGNyZWF0aXZlSWQ6ZS5jcmVhdGl2ZV9pZCxkZWFsSWQ6ZS5kZWFsX2lkLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsdHRsOjMwMCxhZFVuaXRDb2RlOnQuYWRVbml0Q29kZSxhcHBuZXh1czp7YnV5ZXJNZW1iZXJJZDplLmJ1eWVyX21lbWJlcl9pZCxkZWFsUHJpb3JpdHk6ZS5kZWFsX3ByaW9yaXR5LGRlYWxDb2RlOmUuZGVhbF9jb2RlfX07ZS5hZHZlcnRpc2VyX2lkJiYobi5tZXRhPWIoe30sbi5tZXRhLHthZHZlcnRpc2VySWQ6ZS5hZHZlcnRpc2VyX2lkfSkpO2lmKGUucnRiLnZpZGVvKXtzd2l0Y2goYihuLHt3aWR0aDplLnJ0Yi52aWRlby5wbGF5ZXJfd2lkdGgsaGVpZ2h0OmUucnRiLnZpZGVvLnBsYXllcl9oZWlnaHQsdmFzdEltcFVybDplLm5vdGlmeV91cmwsdHRsOjM2MDB9KSxfLmRlZXBBY2Nlc3ModCwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iikpe2Nhc2UgZy5hOnZhciBpPU9iamVjdCh2LmdldElhYlN1YkNhdGVnb3J5KSh0LmJpZGRlcixlLmJyYW5kX2NhdGVnb3J5X2lkKTtuLm1ldGE9Yih7fSxuLm1ldGEse2lhYlN1YkNhdElkOml9KTt2YXIgcz1lLnJ0Yi5kZWFsUHJpb3JpdHk7bi52aWRlbz17Y29udGV4dDpnLmEsZHVyYXRpb25TZWNvbmRzOk1hdGguZmxvb3IoZS5ydGIudmlkZW8uZHVyYXRpb25fbXMvMWUzKSxkZWFsVGllcjpzfSxuLnZhc3RVcmw9ZS5ydGIudmlkZW8uYXNzZXRfdXJsO2JyZWFrO2Nhc2UgeS5iOmlmKG4uYWRSZXNwb25zZT1yLG4uYWRSZXNwb25zZS5hZD1uLmFkUmVzcG9uc2UuYWRzWzBdLG4uYWRSZXNwb25zZS5hZC52aWRlbz1uLmFkUmVzcG9uc2UuYWQucnRiLnZpZGVvLG4udmFzdFhtbD1lLnJ0Yi52aWRlby5jb250ZW50LGUucmVuZGVyZXJfdXJsKXt2YXIgbz1JKCkoYS5iaWRzLGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZElkPT09ci51dWlkfSksZD1fLmRlZXBBY2Nlc3MobywicmVuZGVyZXIub3B0aW9ucyIpO24ucmVuZGVyZXI9ZnVuY3Rpb24oZSxyKXt2YXIgYT0yPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sdD1mLmEuaW5zdGFsbCh7aWQ6ci5yZW5kZXJlcl9pZCx1cmw6ci5yZW5kZXJlcl91cmwsY29uZmlnOmEsbG9hZGVkOiExLGFkVW5pdENvZGU6ZX0pO3RyeXt0LnNldFJlbmRlcihEKX1jYXRjaChlKXtfLmxvZ1dhcm4oIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIHQuc2V0RXZlbnRIYW5kbGVycyh7aW1wcmVzc2lvbjpmdW5jdGlvbigpe3JldHVybiBfLmxvZ01lc3NhZ2UoIkFwcE5leHVzIG91dHN0cmVhbSB2aWRlbyBpbXByZXNzaW9uIGV2ZW50Iil9LGxvYWRlZDpmdW5jdGlvbigpe3JldHVybiBfLmxvZ01lc3NhZ2UoIkFwcE5leHVzIG91dHN0cmVhbSB2aWRlbyBsb2FkZWQgZXZlbnQiKX0sZW5kZWQ6ZnVuY3Rpb24oKXtfLmxvZ01lc3NhZ2UoIkFwcE5leHVzIG91dHN0cmVhbSByZW5kZXJlciB2aWRlbyBldmVudCIpLGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiMiLmNvbmNhdChlKSkuc3R5bGUuZGlzcGxheT0ibm9uZSJ9fSksdH0obi5hZFVuaXRDb2RlLGUsZCl9YnJlYWs7Y2FzZSB5LmE6bi52YXN0VXJsPWUubm90aWZ5X3VybCsiJnJlZGlyPSIrZW5jb2RlVVJJQ29tcG9uZW50KGUucnRiLnZpZGVvLmFzc2V0X3VybCl9fWVsc2UgaWYoZS5ydGJbZy5jXSl7dmFyIGM9ZS5ydGJbZy5jXSx1PWUudmlld2FiaWxpdHkuY29uZmlnLnJlcGxhY2UoInNyYz0iLCJkYXRhLXNyYz0iKSxwPWMuamF2YXNjcmlwdF90cmFja2VycztudWxsPT1wP3A9dTpfLmlzU3RyKHApP3A9W3AsdV06cC5wdXNoKHUpLG5bZy5jXT17dGl0bGU6Yy50aXRsZSxib2R5OmMuZGVzYyxib2R5MjpjLmRlc2MyLGN0YTpjLmN0YXRleHQscmF0aW5nOmMucmF0aW5nLHNwb25zb3JlZEJ5OmMuc3BvbnNvcmVkLHByaXZhY3lMaW5rOmMucHJpdmFjeV9saW5rLGFkZHJlc3M6Yy5hZGRyZXNzLGRvd25sb2FkczpjLmRvd25sb2FkcyxsaWtlczpjLmxpa2VzLHBob25lOmMucGhvbmUscHJpY2U6Yy5wcmljZSxzYWxlUHJpY2U6Yy5zYWxlcHJpY2UsY2xpY2tVcmw6Yy5saW5rLnVybCxkaXNwbGF5VXJsOmMuZGlzcGxheXVybCxjbGlja1RyYWNrZXJzOmMubGluay5jbGlja190cmFja2VycyxpbXByZXNzaW9uVHJhY2tlcnM6Yy5pbXByZXNzaW9uX3RyYWNrZXJzLGphdmFzY3JpcHRUcmFja2VyczpwfSxjLm1haW5faW1nJiYobi5uYXRpdmUuaW1hZ2U9e3VybDpjLm1haW5faW1nLnVybCxoZWlnaHQ6Yy5tYWluX2ltZy5oZWlnaHQsd2lkdGg6Yy5tYWluX2ltZy53aWR0aH0pLGMuaWNvbiYmKG4ubmF0aXZlLmljb249e3VybDpjLmljb24udXJsLGhlaWdodDpjLmljb24uaGVpZ2h0LHdpZHRoOmMuaWNvbi53aWR0aH0pfWVsc2V7YihuLHt3aWR0aDplLnJ0Yi5iYW5uZXIud2lkdGgsaGVpZ2h0OmUucnRiLmJhbm5lci5oZWlnaHQsYWQ6ZS5ydGIuYmFubmVyLmNvbnRlbnR9KTt0cnl7dmFyIGw9ZS5ydGIudHJhY2tlcnNbMF0uaW1wcmVzc2lvbl91cmxzWzBdLG09Xy5jcmVhdGVUcmFja1BpeGVsSHRtbChsKTtuLmFkKz1tfWNhdGNoKGUpe18ubG9nRXJyb3IoIkVycm9yIGFwcGVuZGluZyB0cmFja2luZyBwaXhlbCIsZSl9fXJldHVybiBufShlLHQscyk7bi5tZWRpYVR5cGU9KGE9dC5hZF90eXBlKT09PWcuZD9nLmQ6YT09PWcuYz9nLmM6Zy5iLG8ucHVzaChuKX19KSxlLmRlYnVnJiZlLmRlYnVnLmRlYnVnX2luZm8pe3ZhciB0PSJBcHBOZXh1cyBEZWJ1ZyBBdWN0aW9uIGZvciBQcmViaWRcblxuIitlLmRlYnVnLmRlYnVnX2luZm87dD10LnJlcGxhY2UoLyg8dGQ+fDx0aD4pL2dtLCJcdCIpLnJlcGxhY2UoLyg8XC90ZD58PFwvdGg+KS9nbSwiXG4iKS5yZXBsYWNlKC9ePGJyPi9nbSwiIikucmVwbGFjZSgvKDxicj5cbnw8YnI+KS9nbSwiXG4iKS5yZXBsYWNlKC88aDE+KC4qKTxcL2gxPi9nbSwiXG5cbj09PT09ICQxID09PT09XG5cbiIpLnJlcGxhY2UoLzxoWzItNl0+KC4qKTxcL2hbMi02XT4vZ20sIlxuXG4qKiogJDEgKioqXG5cbiIpLnJlcGxhY2UoLyg8KFtePl0rKT4pL2dpbSwiIiksXy5sb2dNZXNzYWdlKCJodHRwczovL2NvbnNvbGUuYXBwbmV4dXMuY29tL2RvY3MvdW5kZXJzdGFuZGluZy10aGUtZGVidWctYXVjdGlvbiIpLF8ubG9nTWVzc2FnZSh0KX1yZXR1cm4gb30sZ2V0TWFwcGluZ0ZpbGVJbmZvOmZ1bmN0aW9uKCl7cmV0dXJue3VybDoiLy9hY2RuLmFkbnhzLmNvbS9wcmViaWQvYXBwbmV4dXMtbWFwcGluZy9tYXBwaW5ncy5qc29uIixyZWZyZXNoSW5EYXlzOjd9fSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSl7aWYoZS5pZnJhbWVFbmFibGVkKXJldHVyblt7dHlwZToiaWZyYW1lIix1cmw6Ii8vYWNkbi5hZG54cy5jb20vaWIvc3RhdGljL3VzZXJzeW5jL3YzL2FzeW5jX3VzZXJzeW5jLmh0bWwifV19LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihhLGUpe3JldHVybiBhPV8uY29udmVydFR5cGVzKHttZW1iZXI6InN0cmluZyIsaW52Q29kZToic3RyaW5nIixwbGFjZW1lbnRJZDoibnVtYmVyIixrZXl3b3JkczpfLnRyYW5zZm9ybUJpZGRlclBhcmFtS2V5d29yZHN9LGEpLGUmJihhLnVzZV9wbXRfcnVsZT0iYm9vbGVhbiI9PXR5cGVvZiBhLnVzZVBheW1lbnRSdWxlJiZhLnVzZVBheW1lbnRSdWxlLGEudXNlUGF5bWVudFJ1bGUmJmRlbGV0ZSBhLnVzZVBheW1lbnRSdWxlLG0oYS5rZXl3b3JkcykmJmEua2V5d29yZHMuZm9yRWFjaChoKSxPYmplY3Qua2V5cyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPV8uY29udmVydENhbWVsVG9VbmRlcnNjb3JlKGUpO3IhPT1lJiYoYVtyXT1hW2VdLGRlbGV0ZSBhW2VdKX0pKSxhfSxvbkJpZFdvbjpmdW5jdGlvbihlKXtlLm5hdGl2ZSYmZnVuY3Rpb24oZSl7dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHI7aWYoXy5pc1N0cihlKSYmUihlKSlyPWU7ZWxzZSBpZihfLmlzQXJyYXkoZSkpZm9yKHZhciBhPTA7YTxlLmxlbmd0aDthKyspe3ZhciB0PWVbYV07Uih0KSYmKHI9dCl9cmV0dXJuIHJ9KGUubmF0aXZlLmphdmFzY3JpcHRUcmFja2Vycyk7aWYocilmb3IodmFyIGE9InBianNfYWRpZD0iK2UuYWRJZCsiO3BianNfYXVjPSIrZS5hZFVuaXRDb2RlLHQ9ZnVuY3Rpb24oZSl7dmFyIHI9ZS5pbmRleE9mKCdzcmM9IicpKzUsYT1lLmluZGV4T2YoJyInLHIpO3JldHVybiBlLnN1YnN0cmluZyhyLGEpfShyKSxuPXQucmVwbGFjZSgiZG9tX2lkPSVuYXRpdmVfZG9tX2lkJSIsYSksaT1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaWZyYW1lIikscz0hMSxvPTA7bzxpLmxlbmd0aCYmIXM7bysrKXt2YXIgZD1pW29dO3RyeXt2YXIgYz1kLmNvbnRlbnREb2N1bWVudHx8ZC5jb250ZW50V2luZG93LmRvY3VtZW50O2lmKGMpZm9yKHZhciB1PWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLHA9MDtwPHUubGVuZ3RoJiYhcztwKyspe3ZhciBsPXVbcF07bC5nZXRBdHRyaWJ1dGUoImRhdGEtc3JjIik9PXQmJihsLnNldEF0dHJpYnV0ZSgic3JjIixuKSxsLnNldEF0dHJpYnV0ZSgiZGF0YS1zcmMiLCIiKSxsLnJlbW92ZUF0dHJpYnV0ZSYmbC5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtc3JjIikscz0hMCl9fWNhdGNoKGUpe2lmKCEoZSBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbiYmIlNlY3VyaXR5RXJyb3IiPT09ZS5uYW1lKSl0aHJvdyBlfX19KGUpfX07ZnVuY3Rpb24gbShlKXtyZXR1cm4hIShfLmlzQXJyYXkoZSkmJjA8ZS5sZW5ndGgpfWZ1bmN0aW9uIGgoZSl7bShlLnZhbHVlKSYmIiI9PT1lLnZhbHVlWzBdJiZkZWxldGUgZS52YWx1ZX1mdW5jdGlvbiBSKGUpe3ZhciByPWUubWF0Y2gobyksYT1udWxsIT1yJiYxPD1yLmxlbmd0aCx0PWUubWF0Y2goZCksbj1udWxsIT10JiYxPD10Lmxlbmd0aDtyZXR1cm4gZS5zdGFydHNXaXRoKHMpJiZuJiZhfWZ1bmN0aW9uIE8ocil7dmFyIG4saSxhPXt9O2lmKGEuc2l6ZXM9aihyLnNpemVzKSxhLnByaW1hcnlfc2l6ZT1hLnNpemVzWzBdLGEuYWRfdHlwZXM9W10sYS51dWlkPXIuYmlkSWQsci5wYXJhbXMucGxhY2VtZW50SWQ/YS5pZD1wYXJzZUludChyLnBhcmFtcy5wbGFjZW1lbnRJZCwxMCk6YS5jb2RlPXIucGFyYW1zLmludkNvZGUsYS5hbGxvd19zbWFsbGVyX3NpemVzPXIucGFyYW1zLmFsbG93U21hbGxlclNpemVzfHwhMSxhLnVzZV9wbXRfcnVsZT1yLnBhcmFtcy51c2VQYXltZW50UnVsZXx8ITEsYS5wcmViaWQ9ITAsYS5kaXNhYmxlX3BzYT0hMCxyLnBhcmFtcy5yZXNlcnZlJiYoYS5yZXNlcnZlPXIucGFyYW1zLnJlc2VydmUpLHIucGFyYW1zLnBvc2l0aW9uJiYoYS5wb3NpdGlvbj17YWJvdmU6MSxiZWxvdzoyfVtyLnBhcmFtcy5wb3NpdGlvbl18fDApLHIucGFyYW1zLnRyYWZmaWNTb3VyY2VDb2RlJiYoYS50cmFmZmljX3NvdXJjZV9jb2RlPXIucGFyYW1zLnRyYWZmaWNTb3VyY2VDb2RlKSxyLnBhcmFtcy5wcml2YXRlU2l6ZXMmJihhLnByaXZhdGVfc2l6ZXM9aihyLnBhcmFtcy5wcml2YXRlU2l6ZXMpKSxyLnBhcmFtcy5zdXBwbHlUeXBlJiYoYS5zdXBwbHlfdHlwZT1yLnBhcmFtcy5zdXBwbHlUeXBlKSxyLnBhcmFtcy5wdWJDbGljayYmKGEucHViY2xpY2s9ci5wYXJhbXMucHViQ2xpY2spLHIucGFyYW1zLmV4dEludkNvZGUmJihhLmV4dF9pbnZfY29kZT1yLnBhcmFtcy5leHRJbnZDb2RlKSxyLnBhcmFtcy5leHRlcm5hbEltcElkJiYoYS5leHRlcm5hbF9pbXBfaWQ9ci5wYXJhbXMuZXh0ZXJuYWxJbXBJZCksIV8uaXNFbXB0eShyLnBhcmFtcy5rZXl3b3Jkcykpe3ZhciBlPV8udHJhbnNmb3JtQmlkZGVyUGFyYW1LZXl3b3JkcyhyLnBhcmFtcy5rZXl3b3Jkcyk7MDxlLmxlbmd0aCYmZS5mb3JFYWNoKGgpLGEua2V5d29yZHM9ZX1pZigoci5tZWRpYVR5cGU9PT1nLmN8fF8uZGVlcEFjY2VzcyhyLCJtZWRpYVR5cGVzLiIuY29uY2F0KGcuYykpKSYmKGEuYWRfdHlwZXMucHVzaChnLmMpLDA9PT1hLnNpemVzLmxlbmd0aCYmKGEuc2l6ZXM9aihbMSwxXSkpLHIubmF0aXZlUGFyYW1zKSl7dmFyIHQ9KG49ci5uYXRpdmVQYXJhbXMsaT17fSxPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXBbZV0mJnBbZV0uc2VydmVyTmFtZXx8cFtlXXx8ZSxhPXBbZV0mJnBbZV0ucmVxdWlyZWRQYXJhbXM7aWYoaVtyXT1iKHt9LGEsbltlXSksKHI9PT1wLmltYWdlLnNlcnZlck5hbWV8fHI9PT1wLmljb24uc2VydmVyTmFtZSkmJmlbcl0uc2l6ZXMpe3ZhciB0PWlbcl0uc2l6ZXM7KF8uaXNBcnJheU9mTnVtcyh0KXx8Xy5pc0FycmF5KHQpJiYwPHQubGVuZ3RoJiZ0LmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybiBfLmlzQXJyYXlPZk51bXMoZSl9KSkmJihpW3JdLnNpemVzPWooaVtyXS5zaXplcykpfXI9PT1wLnByaXZhY3lMaW5rJiYoaS5wcml2YWN5X3N1cHBvcnRlZD0hMCl9KSxpKTthW2cuY109e2xheW91dHM6W3RdfX12YXIgcz1fLmRlZXBBY2Nlc3MociwibWVkaWFUeXBlcy4iLmNvbmNhdChnLmQpKSxvPV8uZGVlcEFjY2VzcyhyLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKTtyLm1lZGlhVHlwZSE9PWcuZCYmIXN8fGEuYWRfdHlwZXMucHVzaChnLmQpLChyLm1lZGlhVHlwZT09PWcuZHx8cyYmIm91dHN0cmVhbSIhPT1vKSYmKGEucmVxdWlyZV9hc3NldF91cmw9ITApLHIucGFyYW1zLnZpZGVvJiYoYS52aWRlbz17fSxPYmplY3Qua2V5cyhyLnBhcmFtcy52aWRlbykuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiB4KCkodSxlKX0pLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGEudmlkZW9bZV09ci5wYXJhbXMudmlkZW9bZV19KSksci5yZW5kZXJlciYmKGEudmlkZW89Yih7fSxhLnZpZGVvLHtjdXN0b21fcmVuZGVyZXJfcHJlc2VudDohMH0pKTt2YXIgZD1JKCkoYy5hLmdldEFkVW5pdHMoKSxmdW5jdGlvbihlKXtyZXR1cm4gci50cmFuc2FjdGlvbklkPT09ZS50cmFuc2FjdGlvbklkfSk7cmV0dXJuIGQmJmQubWVkaWFUeXBlcyYmZC5tZWRpYVR5cGVzLmJhbm5lciYmYS5hZF90eXBlcy5wdXNoKGcuYiksMD09PWEuYWRfdHlwZXMubGVuZ3RoJiZkZWxldGUgYS5hZF90eXBlcyxhfWZ1bmN0aW9uIGooZSl7dmFyIHI9W10sYT17fTtpZihfLmlzQXJyYXkoZSkmJjI9PT1lLmxlbmd0aCYmIV8uaXNBcnJheShlWzBdKSlhLndpZHRoPXBhcnNlSW50KGVbMF0sMTApLGEuaGVpZ2h0PXBhcnNlSW50KGVbMV0sMTApLHIucHVzaChhKTtlbHNlIGlmKCJvYmplY3QiPT09aShlKSlmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIG49ZVt0XTsoYT17fSkud2lkdGg9cGFyc2VJbnQoblswXSwxMCksYS5oZWlnaHQ9cGFyc2VJbnQoblsxXSwxMCksci5wdXNoKGEpfXJldHVybiByfWZ1bmN0aW9uIFAoZSl7cmV0dXJuISFlLnBhcmFtcy51c2VyfWZ1bmN0aW9uIE4oZSl7cmV0dXJuISFwYXJzZUludChlLnBhcmFtcy5tZW1iZXIsMTApfWZ1bmN0aW9uIFUoZSl7aWYoZS5wYXJhbXMpcmV0dXJuISFlLnBhcmFtcy5hcHB9ZnVuY3Rpb24gcShlKXtyZXR1cm4gZS5wYXJhbXMmJmUucGFyYW1zLmFwcD8hIWUucGFyYW1zLmFwcC5pZDohIWUucGFyYW1zLmFwcH1mdW5jdGlvbiB6KGUpe3JldHVybiEhZS5kZWJ1Z31mdW5jdGlvbiBNKGUpe3JldHVybiBlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy52aWRlbyYmZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQ9PT1nLmF9ZnVuY3Rpb24gQihlLHIsYSl7Xy5pc0VtcHR5KGUudmlkZW8pJiYoZS52aWRlbz17fSksZS52aWRlb1tyXT1hfWZ1bmN0aW9uIEQoZSl7ZS5yZW5kZXJlci5wdXNoKGZ1bmN0aW9uKCl7d2luZG93LkFOT3V0c3RyZWFtVmlkZW8ucmVuZGVyQWQoe3RhZ0lkOmUuYWRSZXNwb25zZS50YWdfaWQsc2l6ZXM6W2UuZ2V0U2l6ZSgpLnNwbGl0KCJ4IildLHRhcmdldElkOmUuYWRVbml0Q29kZSx1dWlkOmUuYWRSZXNwb25zZS51dWlkLGFkUmVzcG9uc2U6ZS5hZFJlc3BvbnNlLHJlbmRlcmVyT3B0aW9uczplLnJlbmRlcmVyLmdldENvbmZpZygpfSxmdW5jdGlvbihlLHIsYSl7ZS5yZW5kZXJlci5oYW5kbGVWaWRlb0V2ZW50KHtpZDpyLGV2ZW50TmFtZTphfSl9LmJpbmQobnVsbCxlKSl9KX1PYmplY3Qodi5yZWdpc3RlckJpZGRlcikobCl9fSxbMjEwXSk7CnVwYmpzQ2h1bmsoWzI0M10sezI1MDpmdW5jdGlvbihlLGkscyl7ZS5leHBvcnRzPXMoMjUxKX0sMjUxOmZ1bmN0aW9uKGUsaSxzKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGksIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHMuZChpLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBhfSk7dmFyIHQ9cygwKSxyPXMoMSksbj1zKDMpLGM9WzIsMyw1LDZdLHA9WyJ2aWRlby9tcDQiLCJ2aWRlby94LWZsdiJdLG89WzEsMiwzLDRdO2Z1bmN0aW9uIGQoZSxpKXtpZighdC5pc0FycmF5KGUpfHx2b2lkIDA9PT1lWzBdKXJldHVybiExO2lmKCJ2aWRlbyI9PT1pJiYoIXQuaXNBcnJheShlWzBdKXx8MiE9PWVbMF0ubGVuZ3RoKSlyZXR1cm4hMTt2YXIgcz0hMDtyZXR1cm4iYmFubmVyIj09PWk/KHQuX2VhY2goZSxmdW5jdGlvbihlKXt0LmlzQXJyYXkoZSkmJjI9PT1lLmxlbmd0aHx8KHM9ITEpfSkscyk6Im9sZCIhPT1pfHwodC5pc0FycmF5KGVbMF0pfHwyPT09ZS5sZW5ndGg/dC5pc0FycmF5KGVbMF0pJiZ0Ll9lYWNoKGUsZnVuY3Rpb24oZSl7dC5pc0FycmF5KGUpJiYyPT09ZS5sZW5ndGh8fChzPSExKX0pOnM9ITEscyl9dmFyIGE9e2NvZGU6ImNjeCIsc3VwcG9ydGVkTWVkaWFUeXBlczpbImJhbm5lciIsInZpZGVvIl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7aWYoIXQuZGVlcEFjY2VzcyhlLCJwYXJhbXMucGxhY2VtZW50SWQiKSlyZXR1cm4gdC5sb2dXYXJuKCJwbGFjZW1lbnRJZCBwYXJhbSBpcyByZXFldWlyZWQuIiksITE7aWYodC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIikpe3ZhciBpPWQoZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcywiYmFubmVyIik7cmV0dXJuIGl8fHQubG9nV2FybigiQmlkIHNpemVzIGFyZSBpbnZhbGlkLiIpLGl9aWYodC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpKXt2YXIgcz1kKGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplLCJ2aWRlbyIpO3JldHVybiBzfHx0LmxvZ1dhcm4oIkJpZCBzaXplcyBhcmUgaW52YWxpZC4iKSxzfWlmKHQuZGVlcEFjY2VzcyhlLCJzaXplcyIpKXt2YXIgcj1kKGUuc2l6ZXMsIm9sZCIpO3JldHVybiByfHx0LmxvZ1dhcm4oIkJpZCBzaXplcyBhcmUgaW52YWxpZC4iKSxyfXJldHVybiB0LmxvZ1dhcm4oIkJpZCBzaXplcyBhcmUgcmVxdWlyZWQuIiksITF9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxpKXtpZigwPGUubGVuZ3RoKXt2YXIgcz17aW1wOltdfTtyZXR1cm4gcy5zaXRlPShkPXt9LDA8KGE9bi5iLmdldENvbmZpZygicGFnZVVybCIpfHx0LmdldFRvcFdpbmRvd1VybCgpKS5sZW5ndGgmJihhPWEuc3BsaXQoIj8iKVswXSksZC5wYWdlPWEsZCkscy5kZXZpY2U9KChyPXt9KS53PXNjcmVlbi53aWR0aCxyLnk9c2NyZWVuLmhlaWdodCxyLnVhPW5hdmlnYXRvci51c2VyQWdlbnQscikscy5pZD1pLmJpZHNbMF0uYXVjdGlvbklkLHMuZXh0PXtjZTp0LmNvb2tpZXNBcmVFbmFibGVkKCk/MTowfSx0Ll9lYWNoKGUsZnVuY3Rpb24oZSl7cy5pbXAucHVzaChmdW5jdGlvbihlKXt2YXIgaT17fTtpLmlkPWUuYmlkSWQsaS5zZWN1cmU9MTt2YXIgcz10LmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKXx8dC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpfHx0LmRlZXBBY2Nlc3MoZSwic2l6ZXMiKTtyZXR1cm4gdC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyIil8fCJiYW5uZXIiPT09dC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZSIpfHwhdC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKSYmIXQuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGUiKT8oaS5iYW5uZXI9e2Zvcm1hdDpbXX0sdC5pc0FycmF5KHNbMF0pP3QuX2VhY2gocyxmdW5jdGlvbihlKXtpLmJhbm5lci5mb3JtYXQucHVzaCh7dzplWzBdLGg6ZVsxXX0pfSk6aS5iYW5uZXIuZm9ybWF0LnB1c2goe3c6c1swXSxoOnNbMV19KSk6IXQuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvIikmJiJ2aWRlbyIhPT10LmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlIil8fChpLnZpZGVvPXt9LHZvaWQgMCE9PXMmJih0LmlzQXJyYXkoc1swXSk/KGkudmlkZW8udz1zWzBdWzBdLGkudmlkZW8uaD1zWzBdWzFdKTooaS52aWRlby53PXNbMF0saS52aWRlby5oPXNbMV0pKSxpLnZpZGVvLnByb3RvY29scz10LmRlZXBBY2Nlc3MoZSwicGFyYW1zLnZpZGVvLnByb3RvY29scyIpfHxjLGkudmlkZW8ubWltZXM9dC5kZWVwQWNjZXNzKGUsInBhcmFtcy52aWRlby5taW1lcyIpfHxwLGkudmlkZW8ucGxheWJhY2ttZXRob2Q9dC5kZWVwQWNjZXNzKGUsInBhcmFtcy52aWRlby5wbGF5YmFja21ldGhvZCIpfHxvLGkudmlkZW8uc2tpcD10LmRlZXBBY2Nlc3MoZSwicGFyYW1zLnZpZGVvLnNraXAiKXx8MCwxPT09aS52aWRlby5za2lwJiZ0LmRlZXBBY2Nlc3MoZSwicGFyYW1zLnZpZGVvLnNraXBhZnRlciIpJiYoaS52aWRlby5za2lwYWZ0ZXI9dC5kZWVwQWNjZXNzKGUsInBhcmFtcy52aWRlby5za2lwYWZ0ZXIiKSkpLGkuZXh0PXtwaWQ6ZS5wYXJhbXMucGxhY2VtZW50SWR9LGl9KGUpKX0pLHttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly9kZWxpdmVyeS5jbGlja29ub21ldHJpY3MucGwvb3J0Yi9wcmViaWQvYmlkIixkYXRhOkpTT04uc3RyaW5naWZ5KHMpfX12YXIgcixkLGF9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGEpe3ZhciBuPVtdO3JldHVybiB0LmlzRW1wdHkoYS5ib2R5KXx8dC5fZWFjaChhLmJvZHkuc2VhdGJpZCxmdW5jdGlvbihlKXt0Ll9lYWNoKGUuYmlkLGZ1bmN0aW9uKGUpe3ZhciBpLHMscixkO24ucHVzaCgoaT1lLHM9YS5ib2R5LmN1cixyPWEuYm9keS5leHQudHRsLGQ9e3JlcXVlc3RJZDppLmltcGlkLGNwbTppLnByaWNlLHdpZHRoOmkudyxoZWlnaHQ6aS5oLGNyZWF0aXZlSWQ6aS5jcmlkLG5ldFJldmVudWU6ITEsdHRsOnIsY3VycmVuY3k6c30sInZpZGVvIj09PWkuZXh0LnR5cGU/ZC52YXN0WG1sPWkuYWRtOmQuYWQ9aS5hZG0sdC5kZWVwQWNjZXNzKGksImRlYWxpZCIpJiYoZC5kZWFsSWQ9aS5kZWFsaWQpLGQpKX0pfSksbn0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGksZSl7dmFyIHM9W107cmV0dXJuIHQuZGVlcEFjY2VzcyhlWzBdLCJib2R5LmV4dC51c2Vyc3luYyIpJiYhdC5pc0VtcHR5KGVbMF0uYm9keS5leHQudXNlcnN5bmMpJiZ0Ll9lYWNoKGVbMF0uYm9keS5leHQudXNlcnN5bmMsZnVuY3Rpb24oZSl7KGkuaWZyYW1lRW5hYmxlZCYmImlmcmFtZSI9PT1lLnR5cGV8fGkucGl4ZWxFbmFibGVkJiYiaW1hZ2UiPT09ZS50eXBlKSYmcy5wdXNoKHt0eXBlOmUudHlwZSx1cmw6ZS51cmx9KX0pLHN9fTtPYmplY3Qoci5yZWdpc3RlckJpZGRlcikoYSl9fSxbMjUwXSk7CnVwYmpzQ2h1bmsoWzIzNV0sezI2NjpmdW5jdGlvbihuLHQsZSl7bi5leHBvcnRzPWUoMjY3KX0sMjY3OmZ1bmN0aW9uKG4sdCxlKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZCh0LCJ1c2VyQ01QIixmdW5jdGlvbigpe3JldHVybiBkfSksZS5kKHQsImNvbnNlbnRUaW1lb3V0IixmdW5jdGlvbigpe3JldHVybiBmfSksZS5kKHQsImFsbG93QXVjdGlvbiIsZnVuY3Rpb24oKXtyZXR1cm4gZ30pLGUuZCh0LCJzdGF0aWNDb25zZW50RGF0YSIsZnVuY3Rpb24oKXtyZXR1cm4gcH0pLHQucmVxdWVzdEJpZHNIb29rPUQsdC5yZXNldENvbnNlbnREYXRhPWZ1bmN0aW9uKCl7bT12b2lkIDAsZD12b2lkIDAsYS5nZHByRGF0YUhhbmRsZXIuc2V0Q29uc2VudERhdGEobnVsbCl9LHQuc2V0Q29uc2VudENvbmZpZz1NO3ZhciBsPWUoMCksbz1lKDMpLGE9ZSg3KSxzPWUoMTEpLGk9ZS5uKHMpLGM9ZSgyNjgpLHU9ZS5uKGMpO2Z1bmN0aW9uIHIobil7cmV0dXJuKHI9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24obil7cmV0dXJuIHR5cGVvZiBufTpmdW5jdGlvbihuKXtyZXR1cm4gbiYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmbi5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmbiE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIG59KShuKX12YXIgZCxmLGcscCxtLEM9ImlhYiIsYj0xZTQsdj0hMCx3PSExLHk9e2lhYjpmdW5jdGlvbihuLHQsaSl7dmFyIGUsbz1mdW5jdGlvbigpe3ZhciB0PXt9O2Z1bmN0aW9uIGUoKXt0LmdldENvbnNlbnREYXRhJiZ0LmdldFZlbmRvckNvbnNlbnRzJiZuKHQsaSl9cmV0dXJue2NvbnNlbnREYXRhQ2FsbGJhY2s6ZnVuY3Rpb24obil7dC5nZXRDb25zZW50RGF0YT1uLGUoKX0sdmVuZG9yQ29uc2VudHNDYWxsYmFjazpmdW5jdGlvbihuKXt0LmdldFZlbmRvckNvbnNlbnRzPW4sZSgpfX19KCksYz17fTt0cnl7ZT13aW5kb3cuX19jbXB8fGwuZ2V0V2luZG93VG9wKCkuX19jbXB9Y2F0Y2gobil7fWlmKGwuaXNGbihlKSllKCJnZXRDb25zZW50RGF0YSIsbnVsbCxvLmNvbnNlbnREYXRhQ2FsbGJhY2spLGUoImdldFZlbmRvckNvbnNlbnRzIixudWxsLG8udmVuZG9yQ29uc2VudHNDYWxsYmFjayk7ZWxzZSBpZih3aW5kb3cuJHNmJiZ3aW5kb3cuJHNmLmV4dCYmImZ1bmN0aW9uIj09dHlwZW9mIHdpbmRvdy4kc2YuZXh0LmNtcClyKCJnZXRDb25zZW50RGF0YSIsby5jb25zZW50RGF0YUNhbGxiYWNrKSxyKCJnZXRWZW5kb3JDb25zZW50cyIsby52ZW5kb3JDb25zZW50c0NhbGxiYWNrKTtlbHNle2Zvcih2YXIgYSxzPXdpbmRvdzshYTspe3RyeXtzLmZyYW1lcy5fX2NtcExvY2F0b3ImJihhPXMpfWNhdGNoKG4pe31pZihzPT09d2luZG93LnRvcClicmVhaztzPXMucGFyZW50fWlmKCFhKXJldHVybiB0KCJDTVAgbm90IGZvdW5kLiIsaSk7ZCgiZ2V0Q29uc2VudERhdGEiLGEsby5jb25zZW50RGF0YUNhbGxiYWNrKSxkKCJnZXRWZW5kb3JDb25zZW50cyIsYSxvLnZlbmRvckNvbnNlbnRzQ2FsbGJhY2spfWZ1bmN0aW9uIHIobyxhKXt2YXIgbj1pLmFkVW5pdHMsdD0xLGU9MTtpZihBcnJheS5pc0FycmF5KG4pJiYwPG4ubGVuZ3RoKXt2YXIgcz1sLmdldEFkVW5pdFNpemVzKG5bMF0pO3Q9c1swXVswXSxlPXNbMF1bMV19d2luZG93LiRzZi5leHQucmVnaXN0ZXIodCxlLGZ1bmN0aW9uKG4sdCl7aWYoImNtcFJldHVybiI9PT1uKXt2YXIgZT0iZ2V0Q29uc2VudERhdGEiPT09bz90LnZlbmRvckNvbnNlbnREYXRhOnQudmVuZG9yQ29uc2VudHM7YShlKX19KSx3aW5kb3cuJHNmLmV4dC5jbXAobyl9ZnVuY3Rpb24gZChuLHMsdCl7ZnVuY3Rpb24gZShuKXt2YXIgdD0ic3RyaW5nIj09dHlwZW9mIG4uZGF0YSYmdSgpKG4uZGF0YSwiY21wUmV0dXJuIik/SlNPTi5wYXJzZShuLmRhdGEpOm4uZGF0YTtpZih0Ll9fY21wUmV0dXJuJiZ0Ll9fY21wUmV0dXJuLmNhbGxJZCl7dmFyIGU9dC5fX2NtcFJldHVybjt2b2lkIDAhPT1jW2UuY2FsbElkXSYmKGNbZS5jYWxsSWRdKGUucmV0dXJuVmFsdWUsZS5zdWNjZXNzKSxkZWxldGUgY1tlLmNhbGxJZF0pfX13aW5kb3cuX19jbXA9ZnVuY3Rpb24obix0LGUpe3ZhciBvPU1hdGgucmFuZG9tKCkrIiIsYT17X19jbXBDYWxsOntjb21tYW5kOm4scGFyYW1ldGVyOnQsY2FsbElkOm99fTtjW29dPWUscy5wb3N0TWVzc2FnZShhLCIqIil9LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixlLCExKSx3aW5kb3cuX19jbXAobixudWxsLGZ1bmN0aW9uKG4pe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJtZXNzYWdlIixlLCExKSx0KG4pfSl9fSxzdGF0aWM6ZnVuY3Rpb24obix0LGUpe24ocCxlKX19O2Z1bmN0aW9uIEQobix0KXt2YXIgZT17Y29udGV4dDp0aGlzLGFyZ3M6W3RdLG5leHRGbjpuLGFkVW5pdHM6dC5hZFVuaXRzfHx1cGJqcy5hZFVuaXRzLGJpZHNCYWNrSGFuZGxlcjp0LmJpZHNCYWNrSGFuZGxlcixoYXZlRXhpdGVkOiExLHRpbWVyOm51bGx9O3JldHVybiBtP3gobnVsbCxlKTppKCkoT2JqZWN0LmtleXMoeSksZCk/KHlbZF0uY2FsbCh0aGlzLGssaCxlKSx2b2lkKGUuaGF2ZUV4aXRlZHx8KDA9PT1mP2sodm9pZCAwLGUpOmUudGltZXI9c2V0VGltZW91dChmdW5jdGlvbihuKXtoKCJDTVAgd29ya2Zsb3cgZXhjZWVkZWQgdGltZW91dCB0aHJlc2hvbGQuIixuKX0uYmluZChudWxsLGUpLGYpKSkpOihsLmxvZ1dhcm4oIkNNUCBmcmFtZXdvcmsgKCIuY29uY2F0KGQsIikgaXMgbm90IGEgc3VwcG9ydGVkIGZyYW1ld29yay4gIEFib3J0aW5nIGNvbnNlbnRNYW5hZ2VtZW50IG1vZHVsZSBhbmQgcmVzdW1pbmcgYXVjdGlvbi4iKSksZS5uZXh0Rm4uYXBwbHkoZS5jb250ZXh0LGUuYXJncykpfWZ1bmN0aW9uIGsobix0KXt2YXIgZT1uJiZuLmdldENvbnNlbnREYXRhJiZuLmdldENvbnNlbnREYXRhLmdkcHJBcHBsaWVzOyJib29sZWFuIj09dHlwZW9mIGUmJighMCE9PWV8fGwuaXNTdHIobi5nZXRDb25zZW50RGF0YS5jb25zZW50RGF0YSkmJmwuaXNQbGFpbk9iamVjdChuLmdldFZlbmRvckNvbnNlbnRzKSYmMTxPYmplY3Qua2V5cyhuLmdldFZlbmRvckNvbnNlbnRzKS5sZW5ndGgpPyhjbGVhclRpbWVvdXQodC50aW1lciksXyhuKSx4KG51bGwsdCkpOmgoIkNNUCByZXR1cm5lZCB1bmV4cGVjdGVkIHZhbHVlIGR1cmluZyBsb29rdXAgcHJvY2Vzcy4iLHQsbil9ZnVuY3Rpb24gaChuLHQsZSl7Y2xlYXJUaW1lb3V0KHQudGltZXIpLGcmJl8odm9pZCAwKSx4KG4sdCxlKX1mdW5jdGlvbiBfKG4pe209e2NvbnNlbnRTdHJpbmc6bj9uLmdldENvbnNlbnREYXRhLmNvbnNlbnREYXRhOnZvaWQgMCx2ZW5kb3JEYXRhOm4/bi5nZXRWZW5kb3JDb25zZW50czp2b2lkIDAsZ2RwckFwcGxpZXM6bj9uLmdldENvbnNlbnREYXRhLmdkcHJBcHBsaWVzOnZvaWQgMH0sYS5nZHByRGF0YUhhbmRsZXIuc2V0Q29uc2VudERhdGEobSl9ZnVuY3Rpb24geChuLHQsZSl7aWYoITE9PT10LmhhdmVFeGl0ZWQpe3QuaGF2ZUV4aXRlZD0hMDt2YXIgbz10LmNvbnRleHQsYT10LmFyZ3Mscz10Lm5leHRGbjtuP2c/KGwubG9nV2FybihuKyIgUmVzdW1pbmcgYXVjdGlvbiB3aXRob3V0IGNvbnNlbnQgZGF0YSBhcyBwZXIgY29uc2VudE1hbmFnZW1lbnQgY29uZmlnLiIsZSkscy5hcHBseShvLGEpKToobC5sb2dFcnJvcihuKyIgQ2FuY2VsaW5nIGF1Y3Rpb24gYXMgcGVyIGNvbnNlbnRNYW5hZ2VtZW50IGNvbmZpZy4iLGUpLCJmdW5jdGlvbiI9PXR5cGVvZiB0LmJpZHNCYWNrSGFuZGxlcj90LmJpZHNCYWNrSGFuZGxlcigpOmwubG9nRXJyb3IoIkVycm9yIGV4ZWN1dGluZyBiaWRzQmFja0hhbmRsZXIiKSk6cy5hcHBseShvLGEpfX1mdW5jdGlvbiBNKG4peyhuPW4uZ2Rwcnx8bi51c3A/bi5nZHByOm4pJiYib2JqZWN0Ij09PXIobik/KGwuaXNTdHIobi5jbXBBcGkpP2Q9bi5jbXBBcGk6KGQ9QyxsLmxvZ0luZm8oImNvbnNlbnRNYW5hZ2VtZW50IGNvbmZpZyBkaWQgbm90IHNwZWNpZnkgY21wLiAgVXNpbmcgc3lzdGVtIGRlZmF1bHQgc2V0dGluZyAoIi5jb25jYXQoQywiKS4iKSkpLGwuaXNOdW1iZXIobi50aW1lb3V0KT9mPW4udGltZW91dDooZj1iLGwubG9nSW5mbygiY29uc2VudE1hbmFnZW1lbnQgY29uZmlnIGRpZCBub3Qgc3BlY2lmeSB0aW1lb3V0LiAgVXNpbmcgc3lzdGVtIGRlZmF1bHQgc2V0dGluZyAoIi5jb25jYXQoYiwiKS4iKSkpLCJib29sZWFuIj09dHlwZW9mIG4uYWxsb3dBdWN0aW9uV2l0aG91dENvbnNlbnQ/Zz1uLmFsbG93QXVjdGlvbldpdGhvdXRDb25zZW50OihnPXYsbC5sb2dJbmZvKCJjb25zZW50TWFuYWdlbWVudCBjb25maWcgZGlkIG5vdCBzcGVjaWZ5IGFsbG93QXVjdGlvbldpdGhvdXRDb25zZW50LiAgVXNpbmcgc3lzdGVtIGRlZmF1bHQgc2V0dGluZyAoIi5jb25jYXQodiwiKS4iKSkpLGwubG9nSW5mbygiY29uc2VudE1hbmFnZW1lbnQgbW9kdWxlIGhhcyBiZWVuIGFjdGl2YXRlZC4uLiIpLCJzdGF0aWMiPT09ZCYmKGwuaXNQbGFpbk9iamVjdChuLmNvbnNlbnREYXRhKT8ocD1uLmNvbnNlbnREYXRhLGY9MCk6bC5sb2dFcnJvcigiY29uc2VudE1hbmFnZW1lbnQgY29uZmlnIHdpdGggY21wQXBpOiAnc3RhdGljJyBkaWQgbm90IHNwZWNpZnkgY29uc2VudERhdGEuIE5vIGNvbnNlbnRzIHdpbGwgYmUgYXZhaWxhYmxlIHRvIGFkYXB0ZXJzLiIpKSx3fHx1cGJqcy5yZXF1ZXN0Qmlkcy5iZWZvcmUoRCw1MCksdz0hMCk6bC5sb2dXYXJuKCJjb25zZW50TWFuYWdlbWVudCBjb25maWcgbm90IGRlZmluZWQsIGV4aXRpbmcgY29uc2VudCBtYW5hZ2VyIil9by5iLmdldENvbmZpZygiY29uc2VudE1hbmFnZW1lbnQiLGZ1bmN0aW9uKG4pe3JldHVybiBNKG4uY29uc2VudE1hbmFnZW1lbnQpfSl9fSxbMjY2XSk7CnVwYmpzQ2h1bmsoWzIzNF0sezI3MzpmdW5jdGlvbihuLHQsZSl7bi5leHBvcnRzPWUoMjc0KX0sMjc0OmZ1bmN0aW9uKG4sdCxlKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZCh0LCJjb25zZW50QVBJIixmdW5jdGlvbigpe3JldHVybiByfSksZS5kKHQsImNvbnNlbnRUaW1lb3V0IixmdW5jdGlvbigpe3JldHVybiB1fSksdC5yZXF1ZXN0Qmlkc0hvb2s9bSx0LnJlc2V0Q29uc2VudERhdGE9ZnVuY3Rpb24oKXtjPXZvaWQgMCxyPXZvaWQgMCxhLnVzcERhdGFIYW5kbGVyLnNldENvbnNlbnREYXRhKG51bGwpfSx0LnNldENvbnNlbnRDb25maWc9eTt2YXIgcz1lKDApLG89ZSgzKSxhPWUoNyk7ZnVuY3Rpb24gaShuKXtyZXR1cm4oaT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihuKXtyZXR1cm4gdHlwZW9mIG59OmZ1bmN0aW9uKG4pe3JldHVybiBuJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZuLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZuIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2Ygbn0pKG4pfXZhciByLHUsYyxkPSJpYWIiLGw9NTAsZj0hMSxwPXtpYWI6ZnVuY3Rpb24obyxhLGkpe3ZhciB0PWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJue2NvbnNlbnREYXRhQ2FsbGJhY2s6ZnVuY3Rpb24obix0KXt0JiZuLnVzcFN0cmluZyYmKGUudXNQcml2YWN5PW4udXNwU3RyaW5nKSxlLnVzUHJpdmFjeT9vKGUsaSk6YSgiVW5hYmxlIHRvIGdldCBVU1AgY29uc2VudCBzdHJpbmcuIixpKX19fSgpLHM9e307dHJ5e3dpbmRvdy5fX3VzcGFwaSgiZ2V0VVNQRGF0YSIsMSx0LmNvbnNlbnREYXRhQ2FsbGJhY2spfWNhdGNoKG4pe2Zvcih2YXIgZSxyPXdpbmRvdzshZTspe3RyeXtyLmZyYW1lcy5fX3VzcGFwaUxvY2F0b3ImJihlPXIpfWNhdGNoKG4pe31pZihyPT09d2luZG93LnRvcClicmVhaztyPXIucGFyZW50fWlmKCFlKXJldHVybiBhKCJVU1AgQ01QIG5vdCBmb3VuZC4iLGkpOyFmdW5jdGlvbihuLGksZSl7ZnVuY3Rpb24gbyhuKXt2YXIgdD1uJiZuLmRhdGEmJm4uZGF0YS5fX3VzcGFwaVJldHVybjt0JiZ0LmNhbGxJZCYmdm9pZCAwIT09c1t0LmNhbGxJZF0mJihzW3QuY2FsbElkXSh0LnJldHVyblZhbHVlLHQuc3VjY2VzcyksZGVsZXRlIHNbdC5jYWxsSWRdKX13aW5kb3cuX191c3BhcGk9ZnVuY3Rpb24obix0LGUpe3ZhciBvPU1hdGgucmFuZG9tKCkrIiIsYT17X191c3BhcGlDYWxsOntjb21tYW5kOm4sdmVyc2lvbjp0LGNhbGxJZDpvfX07c1tvXT1lLGkucG9zdE1lc3NhZ2UoYSwiKiIpfSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbywhMSksd2luZG93Ll9fdXNwYXBpKG4sMSxmdW5jdGlvbihuLHQpe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJtZXNzYWdlIixvLCExKSxlKG4sdCl9KX0oImdldFVTUERhdGEiLGUsdC5jb25zZW50RGF0YUNhbGxiYWNrKX19fTtmdW5jdGlvbiBtKG4sdCl7dmFyIGU9e2NvbnRleHQ6dGhpcyxhcmdzOlt0XSxuZXh0Rm46bixhZFVuaXRzOnQuYWRVbml0c3x8dXBianMuYWRVbml0cyxiaWRzQmFja0hhbmRsZXI6dC5iaWRzQmFja0hhbmRsZXIsaGF2ZUV4aXRlZDohMSx0aW1lcjpudWxsfTtyZXR1cm4gYz9iKG51bGwsZSk6cFtyXT8ocFtyXS5jYWxsKHRoaXMsZyx2LGUpLHZvaWQoZS5oYXZlRXhpdGVkfHwoMD09PXU/Zyh2b2lkIDAsZSk6ZS50aW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKG4pe3YoIlVTUEFQSSB3b3JrZmxvdyBleGNlZWRlZCB0aW1lb3V0IHRocmVzaG9sZC4iLG4pfS5iaW5kKG51bGwsZSksdSkpKSk6KHMubG9nV2FybigiVVNQIGZyYW1ld29yayAoIi5jb25jYXQociwiKSBpcyBub3QgYSBzdXBwb3J0ZWQgZnJhbWV3b3JrLiBBYm9ydGluZyBjb25zZW50TWFuYWdlbWVudCBtb2R1bGUgYW5kIHJlc3VtaW5nIGF1Y3Rpb24uIikpLGUubmV4dEZuLmFwcGx5KGUuY29udGV4dCxlLmFyZ3MpKX1mdW5jdGlvbiBnKG4sdCl7dmFyIGU7IW58fCFuLnVzUHJpdmFjeT92KCJVUFNBUEkgcmV0dXJuZWQgdW5leHBlY3RlZCB2YWx1ZSBkdXJpbmcgbG9va3VwIHByb2Nlc3MuIix0LG4pOihjbGVhclRpbWVvdXQodC50aW1lciksKGU9bikmJmUudXNQcml2YWN5JiYoYz1lLnVzUHJpdmFjeSxhLnVzcERhdGFIYW5kbGVyLnNldENvbnNlbnREYXRhKGMpKSxiKG51bGwsdCkpfWZ1bmN0aW9uIHYobix0LGUpe2NsZWFyVGltZW91dCh0LnRpbWVyKSxiKG4sdCxlKX1mdW5jdGlvbiBiKG4sdCxlKXtpZighMT09PXQuaGF2ZUV4aXRlZCl7dC5oYXZlRXhpdGVkPSEwO3ZhciBvPXQuY29udGV4dCxhPXQuYXJncyxpPXQubmV4dEZuO24mJnMubG9nV2FybihuKyIgUmVzdW1pbmcgYXVjdGlvbiB3aXRob3V0IGNvbnNlbnQgZGF0YSBhcyBwZXIgY29uc2VudE1hbmFnZW1lbnQgY29uZmlnLiIsZSksaS5hcHBseShvLGEpfX1mdW5jdGlvbiB5KG4peyhuPW4udXNwKSYmIm9iamVjdCI9PT1pKG4pPyhzLmlzU3RyKG4uY21wQXBpKT9yPW4uY21wQXBpOihyPWQscy5sb2dJbmZvKCJjb25zZW50TWFuYWdlbWVudC51c3AgY29uZmlnIGRpZCBub3Qgc3BlY2lmeSBjbXBBcGkuIFVzaW5nIHN5c3RlbSBkZWZhdWx0IHNldHRpbmcgKCIuY29uY2F0KGQsIikuIikpKSxzLmlzTnVtYmVyKG4udGltZW91dCk/dT1uLnRpbWVvdXQ6KHU9bCxzLmxvZ0luZm8oImNvbnNlbnRNYW5hZ2VtZW50LnVzcCBjb25maWcgZGlkIG5vdCBzcGVjaWZ5IHRpbWVvdXQuIFVzaW5nIHN5c3RlbSBkZWZhdWx0IHNldHRpbmcgKCIuY29uY2F0KGwsIikuIikpKSxzLmxvZ0luZm8oIlVTUEFQSSBjb25zZW50TWFuYWdlbWVudCBtb2R1bGUgaGFzIGJlZW4gYWN0aXZhdGVkLi4uIiksZnx8dXBianMucmVxdWVzdEJpZHMuYmVmb3JlKG0sNTApLGY9ITApOnMubG9nV2FybigiY29uc2VudE1hbmFnZW1lbnQudXNwIGNvbmZpZyBub3QgZGVmaW5lZCwgZXhpdGluZyB1c3AgY29uc2VudCBtYW5hZ2VyIil9by5iLmdldENvbmZpZygiY29uc2VudE1hbmFnZW1lbnQiLGZ1bmN0aW9uKG4pe3JldHVybiB5KG4uY29uc2VudE1hbmFnZW1lbnQpfSl9fSxbMjczXSk7CnVwYmpzQ2h1bmsoWzIzM10sezI3NTpmdW5jdGlvbihlLHIsbil7ZS5leHBvcnRzPW4oMjc2KX0sMjc2OmZ1bmN0aW9uKGUscixuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZChyLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBpfSk7dmFyIGM9bigwKSx0PW4oMSk7ZnVuY3Rpb24gcygpe3JldHVybihzPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciBuPWFyZ3VtZW50c1tyXTtmb3IodmFyIHQgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobix0KSYmKGVbdF09blt0XSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGE9MCxkPSJjb25zdW1hYmxlIixpPXtjb2RlOiJjb25zdW1hYmxlIixpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlLnBhcmFtcy5uZXR3b3JrSWQmJmUucGFyYW1zLnNpdGVJZCYmZS5wYXJhbXMudW5pdElkJiZlLnBhcmFtcy51bml0TmFtZSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgbj17bWV0aG9kOiJQT1NUIix1cmw6IiIsZGF0YToiIixiaWRSZXF1ZXN0OltdfTtpZihlLmxlbmd0aDwxKXJldHVybiBuO2E9ZVswXS5wYXJhbXMuc2l0ZUlkLGQ9ZVswXS5iaWRkZXI7dmFyIGk9cyh7cGxhY2VtZW50czpbXSx0aW1lOkRhdGUubm93KCksdXJsOnIucmVmZXJlckluZm8ucmVmZXJlcixyZWZlcnJlcjpkb2N1bWVudC5yZWZlcnJlcixzb3VyY2U6W3tuYW1lOiJwcmViaWRqcyIsdmVyc2lvbjoiMi40NC4xIn1dfSxlWzBdLnBhcmFtcyk7cmV0dXJuIHImJnIuZ2RwckNvbnNlbnQmJihpLmdkcHI9e2NvbnNlbnQ6ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLGFwcGxpZXM6ImJvb2xlYW4iIT10eXBlb2Ygci5nZHByQ29uc2VudC5nZHByQXBwbGllc3x8ci5nZHByQ29uc2VudC5nZHByQXBwbGllc30pLGUubWFwKGZ1bmN0aW9uKGUpe3ZhciBuLHI9ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzfHxlLnNpemVzfHxbXSx0PXMoe2Rpdk5hbWU6ZS5iaWRJZCxhZFR5cGVzOmUuYWRUeXBlc3x8KG49W10sci5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXUuaW5kZXhPZihlWzBdKyJ4IitlWzFdKTswPD1yJiZuLnB1c2gocil9KSxuKX0sZS5wYXJhbXMpO3QubmV0d29ya0lkJiZ0LnNpdGVJZCYmdC51bml0SWQmJnQudW5pdE5hbWUmJmkucGxhY2VtZW50cy5wdXNoKHQpfSksbi5kYXRhPUpTT04uc3RyaW5naWZ5KGkpLG4uYmlkUmVxdWVzdD1lLG4uYmlkZGVyUmVxdWVzdD1yLG4udXJsPSJodHRwczovL2Uuc2VydmVyYmlkLmNvbS9hcGkvdjIiLG59LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIG4sdCxpLHMsYSxkPVtdO3Q9ci5iaWRSZXF1ZXN0LGU9KGV8fHt9KS5ib2R5O2Zvcih2YXIgdT0wO3U8dC5sZW5ndGg7dSsrKWlmKG49e30saT0ocz10W3VdKS5iaWRJZCxlKXt2YXIgbz1lLmRlY2lzaW9ucyYmZS5kZWNpc2lvbnNbaV0scD1vJiZvLnByaWNpbmcmJm8ucHJpY2luZy5jbGVhclByaWNlO28mJnAmJihuLnJlcXVlc3RJZD1pLG4uY3BtPXAsbi53aWR0aD1vLndpZHRoLG4uaGVpZ2h0PW8uaGVpZ2h0LG4udW5pdElkPXMucGFyYW1zLnVuaXRJZCxuLnVuaXROYW1lPXMucGFyYW1zLnVuaXROYW1lLG4uYWQ9KGE9byxuLnVuaXRJZCxuLnVuaXROYW1lLGEuY29udGVudHMmJmEuY29udGVudHNbMF0mJmEuY29udGVudHNbMF0uYm9keStjLmNyZWF0ZVRyYWNrUGl4ZWxIdG1sKGEuaW1wcmVzc2lvblVybCkpLG4uY3VycmVuY3k9IlVTRCIsbi5jcmVhdGl2ZUlkPW8uYWRJZCxuLnR0bD0zMCxuLm5ldFJldmVudWU9ITAsbi5yZWZlcnJlcj1yLmJpZGRlclJlcXVlc3QucmVmZXJlckluZm8ucmVmZXJlcixkLnB1c2gobikpfXJldHVybiBkfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5pZnJhbWVFbmFibGVkP1t7dHlwZToiaWZyYW1lIix1cmw6Ii8vc3luYy5zZXJ2ZXJiaWQuY29tL3NzLyIrYSsiLmh0bWwifV06ZS5waXhlbEVuYWJsZWQmJjA8ci5sZW5ndGg/clswXS5ib2R5LnBpeGVsczp2b2lkIGMubG9nV2FybihkKyI6IFBsZWFzZSBlbmFibGUgaWZyYW1lIGJhc2VkIHVzZXIgc3luY2luZy4iKX19LHU9W251bGwsIjEyMHg5MCIsIjEyMHg5MCIsIjQ2OHg2MCIsIjcyOHg5MCIsIjMwMHgyNTAiLCIxNjB4NjAwIiwiMTIweDYwMCIsIjMwMHgxMDAiLCIxODB4MTUwIiwiMzM2eDI4MCIsIjI0MHg0MDAiLCIyMzR4NjAiLCI4OHgzMSIsIjEyMHg2MCIsIjEyMHgyNDAiLCIxMjV4MTI1IiwiMjIweDI1MCIsIjI1MHgyNTAiLCIyNTB4OTAiLCIweDAiLCIyMDB4OTAiLCIzMDB4NTAiLCIzMjB4NTAiLCIzMjB4NDgwIiwiMTg1eDE4NSIsIjYyMHg0NSIsIjMwMHgxMjUiLCI4MDB4MjUwIl07dVs3N109Ijk3MHg5MCIsdVsxMjNdPSI5NzB4MjUwIix1WzQzXT0iMzAweDYwMCIsdVsyODZdPSI5NzB4NjYiLHVbMzIzMF09Ijk3MHgyODAiLHVbNDI5XT0iNDg2eDYwIix1WzM3NF09IjcwMHg1MDAiLHVbOTM0XT0iMzAweDEwNTAiLHVbMTU3OF09IjMyMHgxMDAiLHVbMzMxXT0iMzIweDI1MCIsdVszMzAxXT0iMzIweDI2NyIsdVsyNzMwXT0iNzI4eDI1MCIsT2JqZWN0KHQucmVnaXN0ZXJCaWRkZXIpKGkpfX0sWzI3NV0pOwp1cGJqc0NodW5rKFsyMzFdLHsyNzk6ZnVuY3Rpb24oZSxyLGkpe2UuZXhwb3J0cz1pKDI4MCl9LDI4MDpmdW5jdGlvbihlLHIsaSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxpLmQociwic3BlYyIsZnVuY3Rpb24oKXtyZXR1cm4gbn0pO3ZhciBsPWkoMCksYT1pKDEpLHQ9aSgyKSxzPSJjb252ZXJzYW50IixuPXtjb2RlOnMsYWxpYXNlczpbImNudnIiXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOlt0LmIsdC5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtpZighZXx8IWUucGFyYW1zKXJldHVybiBsLmxvZ1dhcm4ocysiOiBNaXNzaW5nIGJpZCBwYXJhbWV0ZXJzIiksITE7aWYoIWwuaXNTdHIoZS5wYXJhbXMuc2l0ZV9pZCkpcmV0dXJuIGwubG9nV2FybihzKyI6IHNpdGVfaWQgbXVzdCBiZSBzcGVjaWZpZWQgYXMgYSBzdHJpbmciKSwhMTtpZihmKGUpKWlmKGUucGFyYW1zLm1pbWVzKXtpZighbC5pc0FycmF5KGUucGFyYW1zLm1pbWVzKXx8IWUucGFyYW1zLm1pbWVzLmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybiBsLmlzU3RyKGUpfSkpcmV0dXJuIGwubG9nV2FybihzKyI6IG1pbWVzIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncyIpLCExfWVsc2UgbC5sb2dXYXJuKHMrIjogbWltZXMgc2hvdWxkIGJlIHNwZWNpZmllZCBmb3IgdmlkZW9zIik7cmV0dXJuITB9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgaSxhPXImJnIucmVmZXJlckluZm8/ci5yZWZlcmVySW5mby5yZWZlcmVyOiIiLGQ9IiIsbz0iIixwPW51bGwsdT0iX3B1YmNpZCIsdD1lLm1hcChmdW5jdGlvbihlKXt2YXIgcj1sLmdldEJpZElkUGFyYW1ldGVyKCJiaWRmbG9vciIsZS5wYXJhbXMpO2Q9bC5nZXRCaWRJZFBhcmFtZXRlcigic2l0ZV9pZCIsZS5wYXJhbXMpfHxkLHU9bC5nZXRCaWRJZFBhcmFtZXRlcigicHViY2lkX25hbWUiLGUucGFyYW1zKXx8dSxvPWUuYXVjdGlvbklkO3ZhciBpPXtpZDplLmJpZElkLHNlY3VyZToxLGJpZGZsb29yOnJ8fDAsZGlzcGxheW1hbmFnZXI6IlByZWJpZC5qcyIsZGlzcGxheW1hbmFnZXJ2ZXI6IjIuNDQuMSJ9O2lmKGIoZS5wYXJhbXMudGFnX2lkLGksInRhZ2lkIiksZihlKSl7dmFyIGE9bC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKXx8e30sdD12KGEucGxheWVyU2l6ZXx8ZS5zaXplcykscz17fTt0JiZ0WzBdJiYoYih0WzBdLncscywidyIpLGIodFswXS5oLHMsImgiKSksYihlLnBhcmFtcy5wb3NpdGlvbixzLCJwb3MiKSxiKGUucGFyYW1zLm1pbWVzfHxhLm1pbWVzLHMsIm1pbWVzIiksYihlLnBhcmFtcy5tYXhkdXJhdGlvbixzLCJtYXhkdXJhdGlvbiIpLGIoZS5wYXJhbXMucHJvdG9jb2xzfHxhLnByb3RvY29scyxzLCJwcm90b2NvbHMiKSxiKGUucGFyYW1zLmFwaXx8YS5hcGkscywiYXBpIiksaS52aWRlbz1zfWVsc2V7dmFyIG49e2Zvcm1hdDp2KChsLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIiKXx8e30pLnNpemVzfHxlLnNpemVzKX07YihlLnBhcmFtcy5wb3NpdGlvbixuLCJwb3MiKSxpLmJhbm5lcj1ufXJldHVybiBlLnVzZXJJZCYmZS51c2VySWQucHViY2lkP3A9ZS51c2VySWQucHViY2lkOmUuY3J1bWJzJiZlLmNydW1icy5wdWJjaWQmJihwPWUuY3J1bWJzLnB1YmNpZCksaX0pLHM9e2lkOm8saW1wOnQsc2l0ZTp7aWQ6ZCxtb2JpbGU6bnVsbCE9PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT0idmlld3BvcnQiXVtjb250ZW50Kj0id2lkdGg9ZGV2aWNlLXdpZHRoIl0nKT8xOjAscGFnZTphfSxkZXZpY2U6KGk9bmF2aWdhdG9yLmxhbmd1YWdlPyJsYW5ndWFnZSI6InVzZXJMYW5ndWFnZSIse2g6c2NyZWVuLmhlaWdodCx3OnNjcmVlbi53aWR0aCxkbnQ6IjEiPT09bmF2aWdhdG9yLmRvTm90VHJhY2t8fCIxIj09PXdpbmRvdy5kb05vdFRyYWNrfHwiMSI9PT1uYXZpZ2F0b3IubXNEb05vVHJhY2t8fCJ5ZXMiPT09bmF2aWdhdG9yLmRvTm90VHJhY2s/MTowLGxhbmd1YWdlOm5hdmlnYXRvcltpXS5zcGxpdCgiLSIpWzBdLG1ha2U6bmF2aWdhdG9yLnZlbmRvcj9uYXZpZ2F0b3IudmVuZG9yOiIiLHVhOm5hdmlnYXRvci51c2VyQWdlbnR9KSxhdDoxfSxuPXt9O3ImJihyLmdkcHJDb25zZW50JiYobi5jb25zZW50PXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZywiYm9vbGVhbiI9PXR5cGVvZiByLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiZsLmRlZXBTZXRWYWx1ZShzLCJyZWdzLmV4dC5nZHByIixyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MCkpLHIudXNwQ29uc2VudCYmbC5kZWVwU2V0VmFsdWUocywicmVncy5leHQudXNfcHJpdmFjeSIsci51c3BDb25zZW50KSksKHA9cHx8ZnVuY3Rpb24oZSl7dmFyIHI7dHJ5e2lmKCEocj1sLmdldENvb2tpZShlKSkpe3ZhciBpPWwuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UoIiIuY29uY2F0KGUsIl9leHAiKSk7KCIiPT09aXx8aSYmMDxuZXcgRGF0ZShpKS5nZXRUaW1lKCktRGF0ZS5ub3coKSkmJihyPShyPWwuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UoZSkpP2RlY29kZVVSSUNvbXBvbmVudChyKTpyKX1sLmlzU3RyKHIpJiYieyI9PT1yLmNoYXJBdCgwKSYmKHI9SlNPTi5wYXJzZShyKSl9Y2F0Y2goZSl7bC5sb2dFcnJvcihlKX1yZXR1cm4gcn0odSkpJiYobi5mcGM9cCk7dmFyIGMsbSxnPShjPWVbMF0saChtPVtdLGMsInVzZXJJZC50ZGlkIiwiYWRzZXJ2ZXIub3JnIiksaChtLGMsInVzZXJJZC5pZGxfZW52IiwibGl2ZXJhbXAuY29tIiksaChtLGMsInVzZXJJZC5jcml0ZW9JZCIsImNyaXRlby5jb20iKSxoKG0sYywidXNlcklkLmlkNWlkIiwiaWQ1LXN5bmMuY29tIiksaChtLGMsInVzZXJJZC5wYXJyYWJsZWlkIiwicGFycmFibGUuY29tIiksaChtLGMsInVzZXJJZC5kaWdpdHJ1c3RpZC5kYXRhLmlkIiwiZGlnaXRydS5zdCIpLGgobSxjLCJ1c2VySWQubGlwYi5saXBiaWQiLCJsaXZlaW50ZW50LmNvbSIpLG0pO3JldHVybiAwPGcubGVuZ3RoJiYobi5laWRzPWcpLGwuaXNFbXB0eShuKXx8KHMudXNlcj17ZXh0Om59KSx7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vd2ViLmhiLmFkLmNwZS5kb3RvbWkuY29tL3Mycy9oZWFkZXIvMjQiLGRhdGE6c319LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKG4sZSl7dmFyIGQ9W10sbz17fTtyZXR1cm4gbj1uLmJvZHksZSYmZS5kYXRhJiZlLmRhdGEuaW1wJiZsLl9lYWNoKGUuZGF0YS5pbXAsZnVuY3Rpb24oZSl7cmV0dXJuIG9bZS5pZF09ZX0pLG4mJmwuaXNBcnJheShuLnNlYXRiaWQpJiZsLl9lYWNoKG4uc2VhdGJpZCxmdW5jdGlvbihlKXtsLl9lYWNoKGUuYmlkLGZ1bmN0aW9uKGUpe3ZhciByPXBhcnNlRmxvYXQoZS5wcmljZSk7aWYoMDxyJiZlLmltcGlkKXt2YXIgaT1lLmFkbXx8IiIsYT1lLm51cmx8fCIiLHQ9b1tlLmltcGlkXSxzPXtyZXF1ZXN0SWQ6ZS5pbXBpZCxjdXJyZW5jeTpuLmN1cnx8IlVTRCIsY3BtOnIsY3JlYXRpdmVJZDplLmNyaWR8fCIiLHR0bDozMDAsbmV0UmV2ZW51ZTohMH07dC52aWRlbz8oIjwiPT09aS5jaGFyQXQoMCk/cy52YXN0WG1sPWk6cy52YXN0VXJsPWkscy5tZWRpYVR5cGU9InZpZGVvIixzLndpZHRoPXQudmlkZW8udyxzLmhlaWdodD10LnZpZGVvLmgpOihzLmFkPWkrJzxpbWcgc3JjPSInK2ErJyIgLz4nLHMud2lkdGg9ZS53LHMuaGVpZ2h0PWUuaCksZC5wdXNoKHMpfX0pfSksZH0sdHJhbnNmb3JtQmlkUGFyYW1zOmZ1bmN0aW9uKGUpe3JldHVybiBsLmNvbnZlcnRUeXBlcyh7c2l0ZV9pZDoic3RyaW5nIixzZWN1cmU6Im51bWJlciIsbW9iaWxlOiJudW1iZXIifSxlKX19O2Z1bmN0aW9uIHYoZSl7dmFyIHI7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJihyPTI9PT1lLmxlbmd0aCYmIm51bWJlciI9PXR5cGVvZiBlWzBdJiYibnVtYmVyIj09dHlwZW9mIGVbMV0/W3t3OmVbMF0saDplWzFdfV06bC5fbWFwKGUsZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpLHJ9ZnVuY3Rpb24gZihlKXtyZXR1cm4idmlkZW8iPT09ZS5tZWRpYVR5cGV8fCEhbC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKX1mdW5jdGlvbiBiKGUscixpKXtlJiYocltpXT1lKX1mdW5jdGlvbiBoKGUscixpLGEpe3ZhciB0PWwuZGVlcEFjY2VzcyhyLGkpO3QmJmUucHVzaCh7c291cmNlOmEsdWlkczpbe2lkOnQsYXR5cGU6MX1dfSl9T2JqZWN0KGEucmVnaXN0ZXJCaWRkZXIpKG4pfX0sWzI3OV0pOwp1cGJqc0NodW5rKFswXSx7Mjg1OmZ1bmN0aW9uKHQsZSxpKXt0LmV4cG9ydHM9aSgyODYpfSwyODY6ZnVuY3Rpb24obW9kdWxlLF9fd2VicGFja19leHBvcnRzX18sX193ZWJwYWNrX3JlcXVpcmVfXyl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfZXhwb3J0c19fLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywiQURBUFRFUl9WRVJTSU9OIixmdW5jdGlvbigpe3JldHVybiBBREFQVEVSX1ZFUlNJT059KSxfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywiUFJPRklMRV9JRF9QVUJMSVNIRVJUQUciLGZ1bmN0aW9uKCl7cmV0dXJuIFBST0ZJTEVfSURfUFVCTElTSEVSVEFHfSksX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIkZBU1RfQklEX1BVQktFWSIsZnVuY3Rpb24oKXtyZXR1cm4gRkFTVF9CSURfUFVCS0VZfSksX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIHNwZWN9KSxfX3dlYnBhY2tfZXhwb3J0c19fLnRyeUdldENyaXRlb0Zhc3RCaWQ9dHJ5R2V0Q3JpdGVvRmFzdEJpZDt2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfYWRsb2FkZXJfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDM1KSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3NyY19hZGFwdGVyc19iaWRkZXJGYWN0b3J5X189X193ZWJwYWNrX3JlcXVpcmVfXygxKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3NyY19jb25maWdfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fc3JjX21lZGlhVHlwZXNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3VybF9fPV9fd2VicGFja19yZXF1aXJlX18oOSksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19zcmNfdXRpbHNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9jb3JlX2pzX2xpYnJhcnlfZm5fYXJyYXlfZmluZF9fPV9fd2VicGFja19yZXF1aXJlX18oMTIpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9jb3JlX2pzX2xpYnJhcnlfZm5fYXJyYXlfZmluZF9fX2RlZmF1bHQ9X193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9jb3JlX2pzX2xpYnJhcnlfZm5fYXJyYXlfZmluZF9fKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfanNlbmNyeXB0X2Jpbl9qc2VuY3J5cHRfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDU2KSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfanNlbmNyeXB0X2Jpbl9qc2VuY3J5cHRfX19kZWZhdWx0PV9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfanNlbmNyeXB0X2Jpbl9qc2VuY3J5cHRfXyksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X2NyeXB0b19qc19zaGEyNTZfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDU3KSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfY3J5cHRvX2pzX3NoYTI1Nl9fX2RlZmF1bHQ9X193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9jcnlwdG9fanNfc2hhMjU2X18pO2Z1bmN0aW9uIF9leHRlbmRzKCl7cmV0dXJuKF9leHRlbmRzPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBpPWFyZ3VtZW50c1tlXTtmb3IodmFyIHIgaW4gaSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxyKSYmKHRbcl09aVtyXSl9cmV0dXJuIHR9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIEFEQVBURVJfVkVSU0lPTj0yMyxCSURERVJfQ09ERT0iY3JpdGVvIixDREJfRU5EUE9JTlQ9Imh0dHBzOi8vYmlkZGVyLmNyaXRlby5jb20vY2RiIixDUklURU9fVkVORE9SX0lEPTkxLFBST0ZJTEVfSURfSU5MSU5FPTIwNyxQUk9GSUxFX0lEX1BVQkxJU0hFUlRBRz0xODUsUFVCTElTSEVSX1RBR19VUkw9Ii8vc3RhdGljLmNyaXRlby5uZXQvanMvbGQvcHVibGlzaGVydGFnLnByZWJpZC5qcyIsRkFTVF9CSURfUFVCS0VZPSItLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLVxuTUlHZk1BMEdDU3FHU0liM0RRRUJBUVVBQTRHTkFEQ0JpUUtCZ1FETzFCakFJVGtGVHRQMElNem1GN3FzcWhwdVxueTFkR2FUUEhuak1VOW1SWnNybmZSM0Mwc0VONXBZRXpFY0ZSUG5rSmpKdWhIOFJuaDUrQ0UrTGNLZzBaOFpaN1xuT21PU2owL3FuWVRBWUN1MGNSNUxpeVdHNzlLbElnVXlNYnA5MnVsR2cyNGdBeUdyVm40K3YvNGM1M1dsT0VVcFxuNFlXdmI4MkcwQ0Q1TmNETnBRSURBUUFCXG4tLS0tLUVORCBQVUJMSUMgS0VZLS0tLS0iLHNwZWM9e2NvZGU6QklEREVSX0NPREUsc3VwcG9ydGVkTWVkaWFUeXBlczpbX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19zcmNfbWVkaWFUeXBlc19fLmIsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19zcmNfbWVkaWFUeXBlc19fLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKHQpe3JldHVybiEoIXR8fCF0LnBhcmFtc3x8IXQucGFyYW1zLnpvbmVJZCYmIXQucGFyYW1zLm5ldHdvcmtJZCkmJiEoaGFzVmlkZW9NZWRpYVR5cGUodCkmJiFoYXNWYWxpZFZpZGVvTWVkaWFUeXBlKHQpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbih0LGUpe3ZhciBpLHI7aWYoX2V4dGVuZHMoZSx7Y2VoOl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fc3JjX2NvbmZpZ19fLmIuZ2V0Q29uZmlnKCJjcml0ZW8uY2VoIil9KSxwdWJsaXNoZXJUYWdBdmFpbGFibGUoKXx8KHdpbmRvdy5Dcml0ZW89d2luZG93LkNyaXRlb3x8e30sd2luZG93LkNyaXRlby51c2VQcmViaWRFdmVudHM9ITEsdHJ5R2V0Q3JpdGVvRmFzdEJpZCgpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfYWRsb2FkZXJfXy5hKShQVUJMSVNIRVJfVEFHX1VSTCxCSURERVJfQ09ERSl9LGUudGltZW91dCkpLHB1Ymxpc2hlclRhZ0F2YWlsYWJsZSgpKXt2YXIgbj1uZXcgQ3JpdGVvLlB1YlRhZy5BZGFwdGVycy5QcmViaWQoUFJPRklMRV9JRF9QVUJMSVNIRVJUQUcsQURBUFRFUl9WRVJTSU9OLHQsZSwiMi40NC4xIik7aT1uLmJ1aWxkQ2RiVXJsKCkscj1uLmJ1aWxkQ2RiUmVxdWVzdCgpfWVsc2V7dmFyIHM9YnVpbGRDb250ZXh0KHQsZSk7aT1idWlsZENkYlVybChzKSxyPWJ1aWxkQ2RiUmVxdWVzdChzLHQsZSl9aWYocilyZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6aSxkYXRhOnIsYmlkUmVxdWVzdHM6dH19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKHQsbil7dmFyIGU9dC5ib2R5fHx0O2lmKHB1Ymxpc2hlclRhZ0F2YWlsYWJsZSgpKXt2YXIgaT1Dcml0ZW8uUHViVGFnLkFkYXB0ZXJzLlByZWJpZC5HZXRBZGFwdGVyKG4pO2lmKGkpcmV0dXJuIGkuaW50ZXJwcmV0UmVzcG9uc2UoZSxuKX12YXIgcz1bXTtyZXR1cm4gZSYmZS5zbG90cyYmX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19zcmNfdXRpbHNfXy5pc0FycmF5KGUuc2xvdHMpJiZlLnNsb3RzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2NvcmVfanNfbGlicmFyeV9mbl9hcnJheV9maW5kX19fZGVmYXVsdCgpKG4uYmlkUmVxdWVzdHMsZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRVbml0Q29kZT09PWUuaW1waWQmJighdC5wYXJhbXMuem9uZUlkfHxwYXJzZUludCh0LnBhcmFtcy56b25lSWQpPT09ZS56b25laWQpfSksaT10LmJpZElkLHI9e3JlcXVlc3RJZDppLGFkSWQ6ZS5iaWRJZHx8X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19zcmNfdXRpbHNfXy5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCksY3BtOmUuY3BtLGN1cnJlbmN5OmUuY3VycmVuY3ksbmV0UmV2ZW51ZTohMCx0dGw6ZS50dGx8fDYwLGNyZWF0aXZlSWQ6aSx3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodCxkZWFsSWQ6ZS5kZWFsQ29kZX07ZS5uYXRpdmU/ci5hZD1jcmVhdGVOYXRpdmVBZChpLGUubmF0aXZlLHQucGFyYW1zLm5hdGl2ZUNhbGxiYWNrKTplLnZpZGVvPyhyLnZhc3RVcmw9ZS5kaXNwbGF5dXJsLHIubWVkaWFUeXBlPV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fc3JjX21lZGlhVHlwZXNfXy5kKTpyLmFkPWUuY3JlYXRpdmUscy5wdXNoKHIpfSksc30sb25UaW1lb3V0OmZ1bmN0aW9uKHQpe3B1Ymxpc2hlclRhZ0F2YWlsYWJsZSgpJiZDcml0ZW8uUHViVGFnLkFkYXB0ZXJzLlByZWJpZC5HZXRBZGFwdGVyKHQuYXVjdGlvbklkKS5oYW5kbGVCaWRUaW1lb3V0KCl9LG9uQmlkV29uOmZ1bmN0aW9uKHQpe3B1Ymxpc2hlclRhZ0F2YWlsYWJsZSgpJiZDcml0ZW8uUHViVGFnLkFkYXB0ZXJzLlByZWJpZC5HZXRBZGFwdGVyKHQuYXVjdGlvbklkKS5oYW5kbGVCaWRXb24odCl9LG9uU2V0VGFyZ2V0aW5nOmZ1bmN0aW9uKHQpe3B1Ymxpc2hlclRhZ0F2YWlsYWJsZSgpJiZDcml0ZW8uUHViVGFnLkFkYXB0ZXJzLlByZWJpZC5HZXRBZGFwdGVyKHQuYXVjdGlvbklkKS5oYW5kbGVTZXRUYXJnZXRpbmcodCl9fTtmdW5jdGlvbiBwdWJsaXNoZXJUYWdBdmFpbGFibGUoKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIENyaXRlbyYmQ3JpdGVvLlB1YlRhZyYmQ3JpdGVvLlB1YlRhZy5BZGFwdGVycyYmQ3JpdGVvLlB1YlRhZy5BZGFwdGVycy5QcmViaWR9ZnVuY3Rpb24gYnVpbGRDb250ZXh0KHQsZSl7dmFyIGk9IiI7ZSYmZS5yZWZlcmVySW5mbyYmKGk9ZS5yZWZlcmVySW5mby5yZWZlcmVyKTt2YXIgcj1PYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXJsX18uYykoaSkuc2VhcmNoLG49e3VybDppLGRlYnVnOiIxIj09PXIucGJ0X2RlYnVnLG5vTG9nOiIxIj09PXIucGJ0X25vbG9nLGFtcDohMX07cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXsiYW1wIj09PXQucGFyYW1zLmludGVncmF0aW9uTW9kZSYmKG4uYW1wPSEwKX0pLG59ZnVuY3Rpb24gYnVpbGRDZGJVcmwodCl7dmFyIGU9Q0RCX0VORFBPSU5UO3JldHVybiBlKz0iP3Byb2ZpbGVJZD0iK1BST0ZJTEVfSURfSU5MSU5FLGUrPSImYXY9IitTdHJpbmcoQURBUFRFUl9WRVJTSU9OKSxlKz0iJnd2PSIrZW5jb2RlVVJJQ29tcG9uZW50KCIyLjQ0LjEiKSxlKz0iJmNiPSIrU3RyaW5nKE1hdGguZmxvb3IoOTk5OTk5OTk5OTkqTWF0aC5yYW5kb20oKSkpLHQuYW1wJiYoZSs9IiZpbT0xIiksdC5kZWJ1ZyYmKGUrPSImZGVidWc9MSIpLHQubm9Mb2cmJihlKz0iJm5vbG9nPTEiKSxlfWZ1bmN0aW9uIGJ1aWxkQ2RiUmVxdWVzdCh0LGUsaSl7dmFyIHIsbj17cHVibGlzaGVyOnt1cmw6dC51cmx9LHNsb3RzOmUubWFwKGZ1bmN0aW9uKHQpe3I9dC5wYXJhbXMubmV0d29ya0lkfHxyO3ZhciBlPXtpbXBpZDp0LmFkVW5pdENvZGUsdHJhbnNhY3Rpb25pZDp0LnRyYW5zYWN0aW9uSWQsYXVjdGlvbklkOnQuYXVjdGlvbklkLHNpemVzOmdldEJhbm5lclNpemVzKHQpfTtpZih0LnBhcmFtcy56b25lSWQmJihlLnpvbmVpZD10LnBhcmFtcy56b25lSWQpLHQucGFyYW1zLnB1Ymxpc2hlclN1YklkJiYoZS5wdWJsaXNoZXJzdWJpZD10LnBhcmFtcy5wdWJsaXNoZXJTdWJJZCksdC5wYXJhbXMubmF0aXZlQ2FsbGJhY2smJihlLm5hdGl2ZT0hMCksaGFzVmlkZW9NZWRpYVR5cGUodCkpe3ZhciBpPXtwbGF5ZXJzaXplczpnZXRWaWRlb1NpemVzKHQpLG1pbWVzOnQubWVkaWFUeXBlcy52aWRlby5taW1lcyxwcm90b2NvbHM6dC5tZWRpYVR5cGVzLnZpZGVvLnByb3RvY29scyxtYXhkdXJhdGlvbjp0Lm1lZGlhVHlwZXMudmlkZW8ubWF4ZHVyYXRpb24sYXBpOnQubWVkaWFUeXBlcy52aWRlby5hcGl9O2kuc2tpcD10LnBhcmFtcy52aWRlby5za2lwLGkucGxhY2VtZW50PXQucGFyYW1zLnZpZGVvLnBsYWNlbWVudCxpLm1pbmR1cmF0aW9uPXQucGFyYW1zLnZpZGVvLm1pbmR1cmF0aW9uLGkucGxheWJhY2ttZXRob2Q9dC5wYXJhbXMudmlkZW8ucGxheWJhY2ttZXRob2QsaS5zdGFydGRlbGF5PXQucGFyYW1zLnZpZGVvLnN0YXJ0ZGVsYXksZS52aWRlbz1pfXJldHVybiBlfSl9O3JldHVybiByJiYobi5wdWJsaXNoZXIubmV0d29ya2lkPXIpLG4udXNlcj17fSxpJiZpLmNlaCYmKG4udXNlci5jZWg9aS5jZWgpLGkmJmkuZ2RwckNvbnNlbnQmJihuLmdkcHJDb25zZW50PXt9LHZvaWQgMCE9PWkuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihuLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPSEhaS5nZHByQ29uc2VudC5nZHByQXBwbGllcyksaS5nZHByQ29uc2VudC52ZW5kb3JEYXRhJiZpLmdkcHJDb25zZW50LnZlbmRvckRhdGEudmVuZG9yQ29uc2VudHMmJnZvaWQgMCE9PWkuZ2RwckNvbnNlbnQudmVuZG9yRGF0YS52ZW5kb3JDb25zZW50c1tDUklURU9fVkVORE9SX0lELnRvU3RyaW5nKDEwKV0mJihuLmdkcHJDb25zZW50LmNvbnNlbnRHaXZlbj0hIWkuZ2RwckNvbnNlbnQudmVuZG9yRGF0YS52ZW5kb3JDb25zZW50c1tDUklURU9fVkVORE9SX0lELnRvU3RyaW5nKDEwKV0pLHZvaWQgMCE9PWkuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyYmKG4uZ2RwckNvbnNlbnQuY29uc2VudERhdGE9aS5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSksbn1mdW5jdGlvbiBnZXRWaWRlb1NpemVzKHQpe3JldHVybiBwYXJzZVNpemVzKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fc3JjX3V0aWxzX18uZGVlcEFjY2Vzcyh0LCJtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUiKSl9ZnVuY3Rpb24gZ2V0QmFubmVyU2l6ZXModCl7cmV0dXJuIHBhcnNlU2l6ZXMoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19zcmNfdXRpbHNfXy5kZWVwQWNjZXNzKHQsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIil8fHQuc2l6ZXMpfWZ1bmN0aW9uIHBhcnNlU2l6ZSh0KXtyZXR1cm4gdFswXSsieCIrdFsxXX1mdW5jdGlvbiBwYXJzZVNpemVzKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHRbMF0pP3QubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBwYXJzZVNpemUodCl9KTpbcGFyc2VTaXplKHQpXX1mdW5jdGlvbiBoYXNWaWRlb01lZGlhVHlwZSh0KXtyZXR1cm4gdm9pZCAwIT09X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19zcmNfdXRpbHNfXy5kZWVwQWNjZXNzKHQsInBhcmFtcy52aWRlbyIpJiZ2b2lkIDAhPT1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX3NyY191dGlsc19fLmRlZXBBY2Nlc3ModCwibWVkaWFUeXBlcy52aWRlbyIpfWZ1bmN0aW9uIGhhc1ZhbGlkVmlkZW9NZWRpYVR5cGUoZSl7dmFyIGk9ITA7WyJtaW1lcyIsInBsYXllclNpemUiLCJtYXhkdXJhdGlvbiIsInByb3RvY29scyIsImFwaSJdLmZvckVhY2goZnVuY3Rpb24odCl7dm9pZCAwPT09X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19zcmNfdXRpbHNfXy5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8uIit0KSYmKGk9ITEsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19zcmNfdXRpbHNfXy5sb2dFcnJvcigiQ3JpdGVvIEJpZCBBZGFwdGVyOiBtZWRpYVR5cGVzLnZpZGVvLiIrdCsiIGlzIHJlcXVpcmVkIikpfSk7aWYoWyJza2lwIiwicGxhY2VtZW50IiwicGxheWJhY2ttZXRob2QiXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZvaWQgMD09PV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fc3JjX3V0aWxzX18uZGVlcEFjY2VzcyhlLCJwYXJhbXMudmlkZW8uIit0KSYmKGk9ITEsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19zcmNfdXRpbHNfXy5sb2dFcnJvcigiQ3JpdGVvIEJpZCBBZGFwdGVyOiBwYXJhbXMudmlkZW8uIit0KyIgaXMgcmVxdWlyZWQiKSl9KSxpKXtpZigiaW5zdHJlYW0iPT1lLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCYmMT09PWUucGFyYW1zLnZpZGVvLnBsYWNlbWVudClyZXR1cm4hMDtpZigib3V0c3RyZWFtIj09ZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQmJjEhPT1lLnBhcmFtcy52aWRlby5wbGFjZW1lbnQpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gY3JlYXRlTmF0aXZlQWQodCxlLGkpe3JldHVybiB3aW5kb3cuY3JpdGVvX3ByZWJpZF9uYXRpdmVfc2xvdHM9d2luZG93LmNyaXRlb19wcmViaWRfbmF0aXZlX3Nsb3RzfHx7fSx3aW5kb3cuY3JpdGVvX3ByZWJpZF9uYXRpdmVfc2xvdHNbdF09e2NhbGxiYWNrOmkscGF5bG9hZDplfSwnPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPlxuICAgIHZhciB3aW4gPSB3aW5kb3c7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgKytpKSB7XG4gICAgICB3aW4gPSB3aW4ucGFyZW50O1xuICAgICAgaWYgKHdpbi5jcml0ZW9fcHJlYmlkX25hdGl2ZV9zbG90cykge1xuICAgICAgICB2YXIgcmVzcG9uc2VTbG90ID0gd2luLmNyaXRlb19wcmViaWRfbmF0aXZlX3Nsb3RzWyInLmNvbmNhdCh0LCciXTtcbiAgICAgICAgcmVzcG9uc2VTbG90LmNhbGxiYWNrKHJlc3BvbnNlU2xvdC5wYXlsb2FkKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICA8XC9zY3JpcHQ+Jyl9ZnVuY3Rpb24gdHJ5R2V0Q3JpdGVvRmFzdEJpZCgpe3RyeXt2YXIgZmFzdEJpZFN0b3JhZ2VLZXk9ImNyaXRlb19mYXN0X2JpZCIsaGFzaFByZWZpeD0iLy8gSGFzaDogIixmYXN0QmlkRnJvbVN0b3JhZ2U9bG9jYWxTdG9yYWdlLmdldEl0ZW0oZmFzdEJpZFN0b3JhZ2VLZXkpO2lmKG51bGwhPT1mYXN0QmlkRnJvbVN0b3JhZ2Upe3ZhciBmaXJzdExpbmVFbmRQb3NpdGlvbj1mYXN0QmlkRnJvbVN0b3JhZ2UuaW5kZXhPZigiXG4iKSxmaXJzdExpbmU9ZmFzdEJpZEZyb21TdG9yYWdlLnN1YnN0cigwLGZpcnN0TGluZUVuZFBvc2l0aW9uKS50cmltKCk7aWYoZmlyc3RMaW5lLnN1YnN0cigwLGhhc2hQcmVmaXgubGVuZ3RoKSE9PWhhc2hQcmVmaXgpX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19zcmNfdXRpbHNfXy5sb2dXYXJuKCJObyBoYXNoIGZvdW5kIGluIEZhc3RCaWQiKSxsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShmYXN0QmlkU3RvcmFnZUtleSk7ZWxzZXt2YXIgcHVibGlzaGVyVGFnSGFzaD1maXJzdExpbmUuc3Vic3RyKGhhc2hQcmVmaXgubGVuZ3RoKSxwdWJsaXNoZXJUYWc9ZmFzdEJpZEZyb21TdG9yYWdlLnN1YnN0cihmaXJzdExpbmVFbmRQb3NpdGlvbisxKSxqc0VuY3J5cHQ9bmV3IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19qc2VuY3J5cHRfYmluX2pzZW5jcnlwdF9fX2RlZmF1bHQuYTtqc0VuY3J5cHQuc2V0UHVibGljS2V5KEZBU1RfQklEX1BVQktFWSksanNFbmNyeXB0LnZlcmlmeShwdWJsaXNoZXJUYWcscHVibGlzaGVyVGFnSGFzaCxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfY3J5cHRvX2pzX3NoYTI1Nl9fX2RlZmF1bHQuYSk/KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fc3JjX3V0aWxzX18ubG9nSW5mbygiVXNpbmcgQ3JpdGVvIEZhc3RCaWQiKSxldmFsKHB1Ymxpc2hlclRhZykpOihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX3NyY191dGlsc19fLmxvZ1dhcm4oIkludmFsaWQgQ3JpdGVvIEZhc3RCaWQgZm91bmQiKSxsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShmYXN0QmlkU3RvcmFnZUtleSkpfX19Y2F0Y2godCl7fX1PYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19zcmNfYWRhcHRlcnNfYmlkZGVyRmFjdG9yeV9fLnJlZ2lzdGVyQmlkZGVyKShzcGVjKX0sNTY6ZnVuY3Rpb24odCxlLGkpeyhmdW5jdGlvbih0KXsidXNlIHN0cmljdCI7dmFyIGU9IjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiI7ZnVuY3Rpb24gaCh0KXtyZXR1cm4gZS5jaGFyQXQodCl9ZnVuY3Rpb24gaSh0LGUpe3JldHVybiB0JmV9ZnVuY3Rpb24gdSh0LGUpe3JldHVybiB0fGV9ZnVuY3Rpb24gcih0LGUpe3JldHVybiB0XmV9ZnVuY3Rpb24gbih0LGUpe3JldHVybiB0Jn5lfWZ1bmN0aW9uIHModCl7aWYoMD09dClyZXR1cm4tMTt2YXIgZT0wO3JldHVybiAwPT0oNjU1MzUmdCkmJih0Pj49MTYsZSs9MTYpLDA9PSgyNTUmdCkmJih0Pj49OCxlKz04KSwwPT0oMTUmdCkmJih0Pj49NCxlKz00KSwwPT0oMyZ0KSYmKHQ+Pj0yLGUrPTIpLDA9PSgxJnQpJiYrK2UsZX1mdW5jdGlvbiBvKHQpe2Zvcih2YXIgZT0wOzAhPXQ7KXQmPXQtMSwrK2U7cmV0dXJuIGV9dmFyIGE9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iO2Z1bmN0aW9uIGModCl7dmFyIGUsaSxyPSIiO2ZvcihlPTA7ZSszPD10Lmxlbmd0aDtlKz0zKWk9cGFyc2VJbnQodC5zdWJzdHJpbmcoZSxlKzMpLDE2KSxyKz1hLmNoYXJBdChpPj42KSthLmNoYXJBdCg2MyZpKTtmb3IoZSsxPT10Lmxlbmd0aD8oaT1wYXJzZUludCh0LnN1YnN0cmluZyhlLGUrMSksMTYpLHIrPWEuY2hhckF0KGk8PDIpKTplKzI9PXQubGVuZ3RoJiYoaT1wYXJzZUludCh0LnN1YnN0cmluZyhlLGUrMiksMTYpLHIrPWEuY2hhckF0KGk+PjIpK2EuY2hhckF0KCgzJmkpPDw0KSk7MDwoMyZyLmxlbmd0aCk7KXIrPSI9IjtyZXR1cm4gcn1mdW5jdGlvbiBmKHQpe3ZhciBlLGk9IiIscj0wLG49MDtmb3IoZT0wO2U8dC5sZW5ndGgmJiI9IiE9dC5jaGFyQXQoZSk7KytlKXt2YXIgcz1hLmluZGV4T2YodC5jaGFyQXQoZSkpO3M8MHx8KHI9MD09cj8oaSs9aChzPj4yKSxuPTMmcywxKToxPT1yPyhpKz1oKG48PDJ8cz4+NCksbj0xNSZzLDIpOjI9PXI/KGkrPWgobiksaSs9aChzPj4yKSxuPTMmcywzKTooaSs9aChuPDwyfHM+PjQpLGkrPWgoMTUmcyksMCkpfXJldHVybiAxPT1yJiYoaSs9aChuPDwyKSksaX12YXIgbCxwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKHA9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09ZVtpXSl9KSh0LGUpfTt2YXIgZCxnPWZ1bmN0aW9uKHQpe3ZhciBlO2lmKHZvaWQgMD09PWwpe3ZhciBpPSIwMTIzNDU2Nzg5QUJDREVGIixyPSIgXGZcblxyXHTCoFx1MjAyOFx1MjAyOSI7Zm9yKGw9e30sZT0wO2U8MTY7KytlKWxbaS5jaGFyQXQoZSldPWU7Zm9yKGk9aS50b0xvd2VyQ2FzZSgpLGU9MTA7ZTwxNjsrK2UpbFtpLmNoYXJBdChlKV09ZTtmb3IoZT0wO2U8ci5sZW5ndGg7KytlKWxbci5jaGFyQXQoZSldPS0xfXZhciBuPVtdLHM9MCxvPTA7Zm9yKGU9MDtlPHQubGVuZ3RoOysrZSl7dmFyIGE9dC5jaGFyQXQoZSk7aWYoIj0iPT1hKWJyZWFrO2lmKC0xIT0oYT1sW2FdKSl7aWYodm9pZCAwPT09YSl0aHJvdyBuZXcgRXJyb3IoIklsbGVnYWwgY2hhcmFjdGVyIGF0IG9mZnNldCAiK2UpO3N8PWEsMjw9KytvPyhuW24ubGVuZ3RoXT1zLG89cz0wKTpzPDw9NH19aWYobyl0aHJvdyBuZXcgRXJyb3IoIkhleCBlbmNvZGluZyBpbmNvbXBsZXRlOiA0IGJpdHMgbWlzc2luZyIpO3JldHVybiBufSxfPXtkZWNvZGU6ZnVuY3Rpb24odCl7dmFyIGU7aWYodm9pZCAwPT09ZCl7dmFyIGk9Ij0gXGZcblxyXHTCoFx1MjAyOFx1MjAyOSI7Zm9yKGQ9T2JqZWN0LmNyZWF0ZShudWxsKSxlPTA7ZTw2NDsrK2UpZFsiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIuY2hhckF0KGUpXT1lO2ZvcihlPTA7ZTxpLmxlbmd0aDsrK2UpZFtpLmNoYXJBdChlKV09LTF9dmFyIHI9W10sbj0wLHM9MDtmb3IoZT0wO2U8dC5sZW5ndGg7KytlKXt2YXIgbz10LmNoYXJBdChlKTtpZigiPSI9PW8pYnJlYWs7aWYoLTEhPShvPWRbb10pKXtpZih2b2lkIDA9PT1vKXRocm93IG5ldyBFcnJvcigiSWxsZWdhbCBjaGFyYWN0ZXIgYXQgb2Zmc2V0ICIrZSk7bnw9byw0PD0rK3M/KHJbci5sZW5ndGhdPW4+PjE2LHJbci5sZW5ndGhdPW4+PjgmMjU1LHJbci5sZW5ndGhdPTI1NSZuLHM9bj0wKTpuPDw9Nn19c3dpdGNoKHMpe2Nhc2UgMTp0aHJvdyBuZXcgRXJyb3IoIkJhc2U2NCBlbmNvZGluZyBpbmNvbXBsZXRlOiBhdCBsZWFzdCAyIGJpdHMgbWlzc2luZyIpO2Nhc2UgMjpyW3IubGVuZ3RoXT1uPj4xMDticmVhaztjYXNlIDM6cltyLmxlbmd0aF09bj4+MTYscltyLmxlbmd0aF09bj4+OCYyNTV9cmV0dXJuIHJ9LHJlOi8tLS0tLUJFR0lOIFteLV0rLS0tLS0oW0EtWmEtejAtOStcLz1cc10rKS0tLS0tRU5EIFteLV0rLS0tLS18YmVnaW4tYmFzZTY0W15cbl0rXG4oW0EtWmEtejAtOStcLz1cc10rKT09PT0vLHVuYXJtb3I6ZnVuY3Rpb24odCl7dmFyIGU9Xy5yZS5leGVjKHQpO2lmKGUpaWYoZVsxXSl0PWVbMV07ZWxzZXtpZighZVsyXSl0aHJvdyBuZXcgRXJyb3IoIlJlZ0V4cCBvdXQgb2Ygc3luYyIpO3Q9ZVsyXX1yZXR1cm4gXy5kZWNvZGUodCl9fSx2PTFlMTMsbT0oeS5wcm90b3R5cGUubXVsQWRkPWZ1bmN0aW9uKHQsZSl7dmFyIGkscixuPXRoaXMuYnVmLHM9bi5sZW5ndGg7Zm9yKGk9MDtpPHM7KytpKShyPW5baV0qdCtlKTx2P2U9MDpyLT0oZT0wfHIvdikqdixuW2ldPXI7MDxlJiYobltpXT1lKX0seS5wcm90b3R5cGUuc3ViPWZ1bmN0aW9uKHQpe3ZhciBlLGkscj10aGlzLmJ1ZixuPXIubGVuZ3RoO2ZvcihlPTA7ZTxuOysrZSl0PShpPXJbZV0tdCk8MD8oaSs9diwxKTowLHJbZV09aTtmb3IoOzA9PT1yW3IubGVuZ3RoLTFdOylyLnBvcCgpfSx5LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbih0KXtpZigxMCE9KHR8fDEwKSl0aHJvdyBuZXcgRXJyb3IoIm9ubHkgYmFzZSAxMCBpcyBzdXBwb3J0ZWQiKTtmb3IodmFyIGU9dGhpcy5idWYsaT1lW2UubGVuZ3RoLTFdLnRvU3RyaW5nKCkscj1lLmxlbmd0aC0yOzA8PXI7LS1yKWkrPSh2K2Vbcl0pLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDEpO3JldHVybiBpfSx5LnByb3RvdHlwZS52YWx1ZU9mPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuYnVmLGU9MCxpPXQubGVuZ3RoLTE7MDw9aTstLWkpZT1lKnYrdFtpXTtyZXR1cm4gZX0seS5wcm90b3R5cGUuc2ltcGxpZnk9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJ1ZjtyZXR1cm4gMT09dC5sZW5ndGg/dFswXTp0aGlzfSx5KTtmdW5jdGlvbiB5KHQpe3RoaXMuYnVmPVsrdHx8MF19dmFyIGI9IuKApiIsRT0vXihcZFxkKSgwWzEtOV18MVswLTJdKSgwWzEtOV18WzEyXVxkfDNbMDFdKShbMDFdXGR8MlswLTNdKSg/OihbMC01XVxkKSg/OihbMC01XVxkKSg/OlsuLF0oXGR7MSwzfSkpPyk/KT8oWnxbLStdKD86WzBdXGR8MVswLTJdKShbMC01XVxkKT8pPyQvLFQ9L14oXGRcZFxkXGQpKDBbMS05XXwxWzAtMl0pKDBbMS05XXxbMTJdXGR8M1swMV0pKFswMV1cZHwyWzAtM10pKD86KFswLTVdXGQpKD86KFswLTVdXGQpKD86Wy4sXShcZHsxLDN9KSk/KT8pPyhafFstK10oPzpbMF1cZHwxWzAtMl0pKFswLTVdXGQpPyk/JC87ZnVuY3Rpb24gUyh0LGUpe3JldHVybiB0Lmxlbmd0aD5lJiYodD10LnN1YnN0cmluZygwLGUpK2IpLHR9dmFyIEQ9KHcucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtpZih2b2lkIDA9PT10JiYodD10aGlzLnBvcysrKSx0Pj10aGlzLmVuYy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJSZXF1ZXN0aW5nIGJ5dGUgb2Zmc2V0ICIrdCsiIG9uIGEgc3RyZWFtIG9mIGxlbmd0aCAiK3RoaXMuZW5jLmxlbmd0aCk7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0aGlzLmVuYz90aGlzLmVuYy5jaGFyQ29kZUF0KHQpOnRoaXMuZW5jW3RdfSx3LnByb3RvdHlwZS5oZXhCeXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhleERpZ2l0cy5jaGFyQXQodD4+NCYxNSkrdGhpcy5oZXhEaWdpdHMuY2hhckF0KDE1JnQpfSx3LnByb3RvdHlwZS5oZXhEdW1wPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIHI9IiIsbj10O248ZTsrK24paWYocis9dGhpcy5oZXhCeXRlKHRoaXMuZ2V0KG4pKSwhMCE9PWkpc3dpdGNoKDE1Jm4pe2Nhc2UgNzpyKz0iICAiO2JyZWFrO2Nhc2UgMTU6cis9IlxuIjticmVhaztkZWZhdWx0OnIrPSIgIn1yZXR1cm4gcn0sdy5wcm90b3R5cGUuaXNBU0NJST1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10O2k8ZTsrK2kpe3ZhciByPXRoaXMuZ2V0KGkpO2lmKHI8MzJ8fDE3NjxyKXJldHVybiExfXJldHVybiEwfSx3LnByb3RvdHlwZS5wYXJzZVN0cmluZ0lTTz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0iIixyPXQ7cjxlOysrcilpKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMuZ2V0KHIpKTtyZXR1cm4gaX0sdy5wcm90b3R5cGUucGFyc2VTdHJpbmdVVEY9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9IiIscj10O3I8ZTspe3ZhciBuPXRoaXMuZ2V0KHIrKyk7aSs9bjwxMjg/U3RyaW5nLmZyb21DaGFyQ29kZShuKToxOTE8biYmbjwyMjQ/U3RyaW5nLmZyb21DaGFyQ29kZSgoMzEmbik8PDZ8NjMmdGhpcy5nZXQocisrKSk6U3RyaW5nLmZyb21DaGFyQ29kZSgoMTUmbik8PDEyfCg2MyZ0aGlzLmdldChyKyspKTw8Nnw2MyZ0aGlzLmdldChyKyspKX1yZXR1cm4gaX0sdy5wcm90b3R5cGUucGFyc2VTdHJpbmdCTVA9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkscixuPSIiLHM9dDtzPGU7KWk9dGhpcy5nZXQocysrKSxyPXRoaXMuZ2V0KHMrKyksbis9U3RyaW5nLmZyb21DaGFyQ29kZShpPDw4fHIpO3JldHVybiBufSx3LnByb3RvdHlwZS5wYXJzZVRpbWU9ZnVuY3Rpb24odCxlLGkpe3ZhciByPXRoaXMucGFyc2VTdHJpbmdJU08odCxlKSxuPShpP0U6VCkuZXhlYyhyKTtyZXR1cm4gbj8oaSYmKG5bMV09K25bMV0sblsxXSs9K25bMV08NzA/MmUzOjE5MDApLHI9blsxXSsiLSIrblsyXSsiLSIrblszXSsiICIrbls0XSxuWzVdJiYocis9IjoiK25bNV0sbls2XSYmKHIrPSI6IituWzZdLG5bN10mJihyKz0iLiIrbls3XSkpKSxuWzhdJiYocis9IiBVVEMiLCJaIiE9bls4XSYmKHIrPW5bOF0sbls5XSYmKHIrPSI6IituWzldKSkpLHIpOiJVbnJlY29nbml6ZWQgdGltZTogIityfSx3LnByb3RvdHlwZS5wYXJzZUludGVnZXI9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkscj10aGlzLmdldCh0KSxuPTEyNzxyLHM9bj8yNTU6MCxvPSIiO3I9PXMmJisrdDxlOylyPXRoaXMuZ2V0KHQpO2lmKDA9PShpPWUtdCkpcmV0dXJuIG4/LTE6MDtpZig0PGkpe2ZvcihvPXIsaTw8PTM7MD09KDEyOCYoK29ecykpOylvPStvPDwxLC0taTtvPSIoIitpKyIgYml0KVxuIn1uJiYoci09MjU2KTtmb3IodmFyIGE9bmV3IG0ociksaD10KzE7aDxlOysraClhLm11bEFkZCgyNTYsdGhpcy5nZXQoaCkpO3JldHVybiBvK2EudG9TdHJpbmcoKX0sdy5wcm90b3R5cGUucGFyc2VCaXRTdHJpbmc9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgcj10aGlzLmdldCh0KSxuPSIoIisoKGUtdC0xPDwzKS1yKSsiIGJpdClcbiIscz0iIixvPXQrMTtvPGU7KytvKXtmb3IodmFyIGE9dGhpcy5nZXQobyksaD1vPT1lLTE/cjowLHU9NztoPD11Oy0tdSlzKz1hPj51JjE/IjEiOiIwIjtpZihzLmxlbmd0aD5pKXJldHVybiBuK1MocyxpKX1yZXR1cm4gbitzfSx3LnByb3RvdHlwZS5wYXJzZU9jdGV0U3RyaW5nPWZ1bmN0aW9uKHQsZSxpKXtpZih0aGlzLmlzQVNDSUkodCxlKSlyZXR1cm4gUyh0aGlzLnBhcnNlU3RyaW5nSVNPKHQsZSksaSk7dmFyIHI9ZS10LG49IigiK3IrIiBieXRlKVxuIjsoaS89Mik8ciYmKGU9dCtpKTtmb3IodmFyIHM9dDtzPGU7KytzKW4rPXRoaXMuaGV4Qnl0ZSh0aGlzLmdldChzKSk7cmV0dXJuIGk8ciYmKG4rPWIpLG59LHcucHJvdG90eXBlLnBhcnNlT0lEPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIHI9IiIsbj1uZXcgbSxzPTAsbz10O288ZTsrK28pe3ZhciBhPXRoaXMuZ2V0KG8pO2lmKG4ubXVsQWRkKDEyOCwxMjcmYSkscys9NywhKDEyOCZhKSl7aWYoIiI9PT1yKWlmKChuPW4uc2ltcGxpZnkoKSlpbnN0YW5jZW9mIG0pbi5zdWIoODApLHI9IjIuIituLnRvU3RyaW5nKCk7ZWxzZXt2YXIgaD1uPDgwP248NDA/MDoxOjI7cj1oKyIuIisobi00MCpoKX1lbHNlIHIrPSIuIituLnRvU3RyaW5nKCk7aWYoci5sZW5ndGg+aSlyZXR1cm4gUyhyLGkpO249bmV3IG0scz0wfX1yZXR1cm4gMDxzJiYocis9Ii5pbmNvbXBsZXRlIikscn0sdyk7ZnVuY3Rpb24gdyh0LGUpe3RoaXMuaGV4RGlnaXRzPSIwMTIzNDU2Nzg5QUJDREVGIix0IGluc3RhbmNlb2Ygdz8odGhpcy5lbmM9dC5lbmMsdGhpcy5wb3M9dC5wb3MpOih0aGlzLmVuYz10LHRoaXMucG9zPWUpfXZhciBCPShPLnByb3RvdHlwZS50eXBlTmFtZT1mdW5jdGlvbigpe3N3aXRjaCh0aGlzLnRhZy50YWdDbGFzcyl7Y2FzZSAwOnN3aXRjaCh0aGlzLnRhZy50YWdOdW1iZXIpe2Nhc2UgMDpyZXR1cm4iRU9DIjtjYXNlIDE6cmV0dXJuIkJPT0xFQU4iO2Nhc2UgMjpyZXR1cm4iSU5URUdFUiI7Y2FzZSAzOnJldHVybiJCSVRfU1RSSU5HIjtjYXNlIDQ6cmV0dXJuIk9DVEVUX1NUUklORyI7Y2FzZSA1OnJldHVybiJOVUxMIjtjYXNlIDY6cmV0dXJuIk9CSkVDVF9JREVOVElGSUVSIjtjYXNlIDc6cmV0dXJuIk9iamVjdERlc2NyaXB0b3IiO2Nhc2UgODpyZXR1cm4iRVhURVJOQUwiO2Nhc2UgOTpyZXR1cm4iUkVBTCI7Y2FzZSAxMDpyZXR1cm4iRU5VTUVSQVRFRCI7Y2FzZSAxMTpyZXR1cm4iRU1CRURERURfUERWIjtjYXNlIDEyOnJldHVybiJVVEY4U3RyaW5nIjtjYXNlIDE2OnJldHVybiJTRVFVRU5DRSI7Y2FzZSAxNzpyZXR1cm4iU0VUIjtjYXNlIDE4OnJldHVybiJOdW1lcmljU3RyaW5nIjtjYXNlIDE5OnJldHVybiJQcmludGFibGVTdHJpbmciO2Nhc2UgMjA6cmV0dXJuIlRlbGV0ZXhTdHJpbmciO2Nhc2UgMjE6cmV0dXJuIlZpZGVvdGV4U3RyaW5nIjtjYXNlIDIyOnJldHVybiJJQTVTdHJpbmciO2Nhc2UgMjM6cmV0dXJuIlVUQ1RpbWUiO2Nhc2UgMjQ6cmV0dXJuIkdlbmVyYWxpemVkVGltZSI7Y2FzZSAyNTpyZXR1cm4iR3JhcGhpY1N0cmluZyI7Y2FzZSAyNjpyZXR1cm4iVmlzaWJsZVN0cmluZyI7Y2FzZSAyNzpyZXR1cm4iR2VuZXJhbFN0cmluZyI7Y2FzZSAyODpyZXR1cm4iVW5pdmVyc2FsU3RyaW5nIjtjYXNlIDMwOnJldHVybiJCTVBTdHJpbmcifXJldHVybiJVbml2ZXJzYWxfIit0aGlzLnRhZy50YWdOdW1iZXIudG9TdHJpbmcoKTtjYXNlIDE6cmV0dXJuIkFwcGxpY2F0aW9uXyIrdGhpcy50YWcudGFnTnVtYmVyLnRvU3RyaW5nKCk7Y2FzZSAyOnJldHVybiJbIit0aGlzLnRhZy50YWdOdW1iZXIudG9TdHJpbmcoKSsiXSI7Y2FzZSAzOnJldHVybiJQcml2YXRlXyIrdGhpcy50YWcudGFnTnVtYmVyLnRvU3RyaW5nKCl9fSxPLnByb3RvdHlwZS5jb250ZW50PWZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXRoaXMudGFnKXJldHVybiBudWxsO3ZvaWQgMD09PXQmJih0PTEvMCk7dmFyIGU9dGhpcy5wb3NDb250ZW50KCksaT1NYXRoLmFicyh0aGlzLmxlbmd0aCk7aWYoIXRoaXMudGFnLmlzVW5pdmVyc2FsKCkpcmV0dXJuIG51bGwhPT10aGlzLnN1Yj8iKCIrdGhpcy5zdWIubGVuZ3RoKyIgZWxlbSkiOnRoaXMuc3RyZWFtLnBhcnNlT2N0ZXRTdHJpbmcoZSxlK2ksdCk7c3dpdGNoKHRoaXMudGFnLnRhZ051bWJlcil7Y2FzZSAxOnJldHVybiAwPT09dGhpcy5zdHJlYW0uZ2V0KGUpPyJmYWxzZSI6InRydWUiO2Nhc2UgMjpyZXR1cm4gdGhpcy5zdHJlYW0ucGFyc2VJbnRlZ2VyKGUsZStpKTtjYXNlIDM6cmV0dXJuIHRoaXMuc3ViPyIoIit0aGlzLnN1Yi5sZW5ndGgrIiBlbGVtKSI6dGhpcy5zdHJlYW0ucGFyc2VCaXRTdHJpbmcoZSxlK2ksdCk7Y2FzZSA0OnJldHVybiB0aGlzLnN1Yj8iKCIrdGhpcy5zdWIubGVuZ3RoKyIgZWxlbSkiOnRoaXMuc3RyZWFtLnBhcnNlT2N0ZXRTdHJpbmcoZSxlK2ksdCk7Y2FzZSA2OnJldHVybiB0aGlzLnN0cmVhbS5wYXJzZU9JRChlLGUraSx0KTtjYXNlIDE2OmNhc2UgMTc6cmV0dXJuIG51bGwhPT10aGlzLnN1Yj8iKCIrdGhpcy5zdWIubGVuZ3RoKyIgZWxlbSkiOiIobm8gZWxlbSkiO2Nhc2UgMTI6cmV0dXJuIFModGhpcy5zdHJlYW0ucGFyc2VTdHJpbmdVVEYoZSxlK2kpLHQpO2Nhc2UgMTg6Y2FzZSAxOTpjYXNlIDIwOmNhc2UgMjE6Y2FzZSAyMjpjYXNlIDI2OnJldHVybiBTKHRoaXMuc3RyZWFtLnBhcnNlU3RyaW5nSVNPKGUsZStpKSx0KTtjYXNlIDMwOnJldHVybiBTKHRoaXMuc3RyZWFtLnBhcnNlU3RyaW5nQk1QKGUsZStpKSx0KTtjYXNlIDIzOmNhc2UgMjQ6cmV0dXJuIHRoaXMuc3RyZWFtLnBhcnNlVGltZShlLGUraSwyMz09dGhpcy50YWcudGFnTnVtYmVyKX1yZXR1cm4gbnVsbH0sTy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlTmFtZSgpKyJAIit0aGlzLnN0cmVhbS5wb3MrIltoZWFkZXI6Iit0aGlzLmhlYWRlcisiLGxlbmd0aDoiK3RoaXMubGVuZ3RoKyIsc3ViOiIrKG51bGw9PT10aGlzLnN1Yj8ibnVsbCI6dGhpcy5zdWIubGVuZ3RoKSsiXSJ9LE8ucHJvdG90eXBlLnRvUHJldHR5U3RyaW5nPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PSIiKTt2YXIgZT10K3RoaXMudHlwZU5hbWUoKSsiIEAiK3RoaXMuc3RyZWFtLnBvcztpZigwPD10aGlzLmxlbmd0aCYmKGUrPSIrIiksZSs9dGhpcy5sZW5ndGgsdGhpcy50YWcudGFnQ29uc3RydWN0ZWQ/ZSs9IiAoY29uc3RydWN0ZWQpIjohdGhpcy50YWcuaXNVbml2ZXJzYWwoKXx8MyE9dGhpcy50YWcudGFnTnVtYmVyJiY0IT10aGlzLnRhZy50YWdOdW1iZXJ8fG51bGw9PT10aGlzLnN1Ynx8KGUrPSIgKGVuY2Fwc3VsYXRlcykiKSxlKz0iXG4iLG51bGwhPT10aGlzLnN1Yil7dCs9IiAgIjtmb3IodmFyIGk9MCxyPXRoaXMuc3ViLmxlbmd0aDtpPHI7KytpKWUrPXRoaXMuc3ViW2ldLnRvUHJldHR5U3RyaW5nKHQpfXJldHVybiBlfSxPLnByb3RvdHlwZS5wb3NTdGFydD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0cmVhbS5wb3N9LE8ucHJvdG90eXBlLnBvc0NvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHJlYW0ucG9zK3RoaXMuaGVhZGVyfSxPLnByb3RvdHlwZS5wb3NFbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHJlYW0ucG9zK3RoaXMuaGVhZGVyK01hdGguYWJzKHRoaXMubGVuZ3RoKX0sTy5wcm90b3R5cGUudG9IZXhTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHJlYW0uaGV4RHVtcCh0aGlzLnBvc1N0YXJ0KCksdGhpcy5wb3NFbmQoKSwhMCl9LE8uZGVjb2RlTGVuZ3RoPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KCksaT0xMjcmZTtpZihpPT1lKXJldHVybiBpO2lmKDY8aSl0aHJvdyBuZXcgRXJyb3IoIkxlbmd0aCBvdmVyIDQ4IGJpdHMgbm90IHN1cHBvcnRlZCBhdCBwb3NpdGlvbiAiKyh0LnBvcy0xKSk7aWYoMD09aSlyZXR1cm4gbnVsbDtmb3IodmFyIHI9ZT0wO3I8aTsrK3IpZT0yNTYqZSt0LmdldCgpO3JldHVybiBlfSxPLnByb3RvdHlwZS5nZXRIZXhTdHJpbmdWYWx1ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMudG9IZXhTdHJpbmcoKSxlPTIqdGhpcy5oZWFkZXIsaT0yKnRoaXMubGVuZ3RoO3JldHVybiB0LnN1YnN0cihlLGkpfSxPLmRlY29kZT1mdW5jdGlvbih0KXt2YXIgcjtmdW5jdGlvbiBlKCl7dmFyIHQ9W107aWYobnVsbCE9PXMpe2Zvcih2YXIgZT1vK3M7ci5wb3M8ZTspdFt0Lmxlbmd0aF09Ty5kZWNvZGUocik7aWYoci5wb3MhPWUpdGhyb3cgbmV3IEVycm9yKCJDb250ZW50IHNpemUgaXMgbm90IGNvcnJlY3QgZm9yIGNvbnRhaW5lciBzdGFydGluZyBhdCBvZmZzZXQgIitvKX1lbHNlIHRyeXtmb3IoOzspe3ZhciBpPU8uZGVjb2RlKHIpO2lmKGkudGFnLmlzRU9DKCkpYnJlYWs7dFt0Lmxlbmd0aF09aX1zPW8tci5wb3N9Y2F0Y2godCl7dGhyb3cgbmV3IEVycm9yKCJFeGNlcHRpb24gd2hpbGUgZGVjb2RpbmcgdW5kZWZpbmVkIGxlbmd0aCBjb250ZW50OiAiK3QpfXJldHVybiB0fXI9dCBpbnN0YW5jZW9mIEQ/dDpuZXcgRCh0LDApO3ZhciBpPW5ldyBEKHIpLG49bmV3IFIocikscz1PLmRlY29kZUxlbmd0aChyKSxvPXIucG9zLGE9by1pLnBvcyxoPW51bGw7aWYobi50YWdDb25zdHJ1Y3RlZCloPWUoKTtlbHNlIGlmKG4uaXNVbml2ZXJzYWwoKSYmKDM9PW4udGFnTnVtYmVyfHw0PT1uLnRhZ051bWJlcikpdHJ5e2lmKDM9PW4udGFnTnVtYmVyJiYwIT1yLmdldCgpKXRocm93IG5ldyBFcnJvcigiQklUIFNUUklOR3Mgd2l0aCB1bnVzZWQgYml0cyBjYW5ub3QgZW5jYXBzdWxhdGUuIik7aD1lKCk7Zm9yKHZhciB1PTA7dTxoLmxlbmd0aDsrK3UpaWYoaFt1XS50YWcuaXNFT0MoKSl0aHJvdyBuZXcgRXJyb3IoIkVPQyBpcyBub3Qgc3VwcG9zZWQgdG8gYmUgYWN0dWFsIGNvbnRlbnQuIil9Y2F0Y2godCl7aD1udWxsfWlmKG51bGw9PT1oKXtpZihudWxsPT09cyl0aHJvdyBuZXcgRXJyb3IoIldlIGNhbid0IHNraXAgb3ZlciBhbiBpbnZhbGlkIHRhZyB3aXRoIHVuZGVmaW5lZCBsZW5ndGggYXQgb2Zmc2V0ICIrbyk7ci5wb3M9bytNYXRoLmFicyhzKX1yZXR1cm4gbmV3IE8oaSxhLHMsbixoKX0sTyk7ZnVuY3Rpb24gTyh0LGUsaSxyLG4pe2lmKCEociBpbnN0YW5jZW9mIFIpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCB0YWcgdmFsdWUuIik7dGhpcy5zdHJlYW09dCx0aGlzLmhlYWRlcj1lLHRoaXMubGVuZ3RoPWksdGhpcy50YWc9cix0aGlzLnN1Yj1ufXZhciBBLFI9KEkucHJvdG90eXBlLmlzVW5pdmVyc2FsPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLnRhZ0NsYXNzfSxJLnByb3RvdHlwZS5pc0VPQz1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy50YWdDbGFzcyYmMD09PXRoaXMudGFnTnVtYmVyfSxJKTtmdW5jdGlvbiBJKHQpe3ZhciBlPXQuZ2V0KCk7aWYodGhpcy50YWdDbGFzcz1lPj42LHRoaXMudGFnQ29uc3RydWN0ZWQ9MCE9KDMyJmUpLHRoaXMudGFnTnVtYmVyPTMxJmUsMzE9PXRoaXMudGFnTnVtYmVyKXtmb3IodmFyIGk9bmV3IG07ZT10LmdldCgpLGkubXVsQWRkKDEyOCwxMjcmZSksMTI4JmU7KTt0aGlzLnRhZ051bWJlcj1pLnNpbXBsaWZ5KCl9fXZhciBQPVsyLDMsNSw3LDExLDEzLDE3LDE5LDIzLDI5LDMxLDM3LDQxLDQzLDQ3LDUzLDU5LDYxLDY3LDcxLDczLDc5LDgzLDg5LDk3LDEwMSwxMDMsMTA3LDEwOSwxMTMsMTI3LDEzMSwxMzcsMTM5LDE0OSwxNTEsMTU3LDE2MywxNjcsMTczLDE3OSwxODEsMTkxLDE5MywxOTcsMTk5LDIxMSwyMjMsMjI3LDIyOSwyMzMsMjM5LDI0MSwyNTEsMjU3LDI2MywyNjksMjcxLDI3NywyODEsMjgzLDI5MywzMDcsMzExLDMxMywzMTcsMzMxLDMzNywzNDcsMzQ5LDM1MywzNTksMzY3LDM3MywzNzksMzgzLDM4OSwzOTcsNDAxLDQwOSw0MTksNDIxLDQzMSw0MzMsNDM5LDQ0Myw0NDksNDU3LDQ2MSw0NjMsNDY3LDQ3OSw0ODcsNDkxLDQ5OSw1MDMsNTA5LDUyMSw1MjMsNTQxLDU0Nyw1NTcsNTYzLDU2OSw1NzEsNTc3LDU4Nyw1OTMsNTk5LDYwMSw2MDcsNjEzLDYxNyw2MTksNjMxLDY0MSw2NDMsNjQ3LDY1Myw2NTksNjYxLDY3Myw2NzcsNjgzLDY5MSw3MDEsNzA5LDcxOSw3MjcsNzMzLDczOSw3NDMsNzUxLDc1Nyw3NjEsNzY5LDc3Myw3ODcsNzk3LDgwOSw4MTEsODIxLDgyMyw4MjcsODI5LDgzOSw4NTMsODU3LDg1OSw4NjMsODc3LDg4MSw4ODMsODg3LDkwNyw5MTEsOTE5LDkyOSw5MzcsOTQxLDk0Nyw5NTMsOTY3LDk3MSw5NzcsOTgzLDk5MSw5OTddLHg9KDE8PDI2KS9QW1AubGVuZ3RoLTFdLE09KEMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKHQpe2lmKHRoaXMuczwwKXJldHVybiItIit0aGlzLm5lZ2F0ZSgpLnRvU3RyaW5nKHQpO3ZhciBlO2lmKDE2PT10KWU9NDtlbHNlIGlmKDg9PXQpZT0zO2Vsc2UgaWYoMj09dCllPTE7ZWxzZSBpZigzMj09dCllPTU7ZWxzZXtpZig0IT10KXJldHVybiB0aGlzLnRvUmFkaXgodCk7ZT0yfXZhciBpLHI9KDE8PGUpLTEsbj0hMSxzPSIiLG89dGhpcy50LGE9dGhpcy5EQi1vKnRoaXMuREIlZTtpZigwPG8tLSlmb3IoYTx0aGlzLkRCJiYwPChpPXRoaXNbb10+PmEpJiYobj0hMCxzPWgoaSkpOzA8PW87KWE8ZT8oaT0odGhpc1tvXSYoMTw8YSktMSk8PGUtYSxpfD10aGlzWy0tb10+PihhKz10aGlzLkRCLWUpKTooaT10aGlzW29dPj4oYS09ZSkmcixhPD0wJiYoYSs9dGhpcy5EQiwtLW8pKSwwPGkmJihuPSEwKSxuJiYocys9aChpKSk7cmV0dXJuIG4/czoiMCJ9LEMucHJvdG90eXBlLm5lZ2F0ZT1mdW5jdGlvbigpe3ZhciB0PWsoKTtyZXR1cm4gQy5aRVJPLnN1YlRvKHRoaXMsdCksdH0sQy5wcm90b3R5cGUuYWJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuczwwP3RoaXMubmVnYXRlKCk6dGhpc30sQy5wcm90b3R5cGUuY29tcGFyZVRvPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucy10LnM7aWYoMCE9ZSlyZXR1cm4gZTt2YXIgaT10aGlzLnQ7aWYoMCE9KGU9aS10LnQpKXJldHVybiB0aGlzLnM8MD8tZTplO2Zvcig7MDw9LS1pOylpZigwIT0oZT10aGlzW2ldLXRbaV0pKXJldHVybiBlO3JldHVybiAwfSxDLnByb3RvdHlwZS5iaXRMZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50PD0wPzA6dGhpcy5EQioodGhpcy50LTEpKyQodGhpc1t0aGlzLnQtMV1edGhpcy5zJnRoaXMuRE0pfSxDLnByb3RvdHlwZS5tb2Q9ZnVuY3Rpb24odCl7dmFyIGU9aygpO3JldHVybiB0aGlzLmFicygpLmRpdlJlbVRvKHQsbnVsbCxlKSx0aGlzLnM8MCYmMDxlLmNvbXBhcmVUbyhDLlpFUk8pJiZ0LnN1YlRvKGUsZSksZX0sQy5wcm90b3R5cGUubW9kUG93SW50PWZ1bmN0aW9uKHQsZSl7dmFyIGk7cmV0dXJuIGk9dDwyNTZ8fGUuaXNFdmVuKCk/bmV3IEwoZSk6bmV3IHEoZSksdGhpcy5leHAodCxpKX0sQy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgdD1rKCk7cmV0dXJuIHRoaXMuY29weVRvKHQpLHR9LEMucHJvdG90eXBlLmludFZhbHVlPWZ1bmN0aW9uKCl7aWYodGhpcy5zPDApe2lmKDE9PXRoaXMudClyZXR1cm4gdGhpc1swXS10aGlzLkRWO2lmKDA9PXRoaXMudClyZXR1cm4tMX1lbHNle2lmKDE9PXRoaXMudClyZXR1cm4gdGhpc1swXTtpZigwPT10aGlzLnQpcmV0dXJuIDB9cmV0dXJuKHRoaXNbMV0mKDE8PDMyLXRoaXMuREIpLTEpPDx0aGlzLkRCfHRoaXNbMF19LEMucHJvdG90eXBlLmJ5dGVWYWx1ZT1mdW5jdGlvbigpe3JldHVybiAwPT10aGlzLnQ/dGhpcy5zOnRoaXNbMF08PDI0Pj4yNH0sQy5wcm90b3R5cGUuc2hvcnRWYWx1ZT1mdW5jdGlvbigpe3JldHVybiAwPT10aGlzLnQ/dGhpcy5zOnRoaXNbMF08PDE2Pj4xNn0sQy5wcm90b3R5cGUuc2lnbnVtPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuczwwPy0xOnRoaXMudDw9MHx8MT09dGhpcy50JiZ0aGlzWzBdPD0wPzA6MX0sQy5wcm90b3R5cGUudG9CeXRlQXJyYXk9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnQsZT1bXTtlWzBdPXRoaXMuczt2YXIgaSxyPXRoaXMuREItdCp0aGlzLkRCJTgsbj0wO2lmKDA8dC0tKWZvcihyPHRoaXMuREImJihpPXRoaXNbdF0+PnIpIT0odGhpcy5zJnRoaXMuRE0pPj5yJiYoZVtuKytdPWl8dGhpcy5zPDx0aGlzLkRCLXIpOzA8PXQ7KXI8OD8oaT0odGhpc1t0XSYoMTw8ciktMSk8PDgtcixpfD10aGlzWy0tdF0+PihyKz10aGlzLkRCLTgpKTooaT10aGlzW3RdPj4oci09OCkmMjU1LHI8PTAmJihyKz10aGlzLkRCLC0tdCkpLDAhPSgxMjgmaSkmJihpfD0tMjU2KSwwPT1uJiYoMTI4JnRoaXMucykhPSgxMjgmaSkmJisrbiwoMDxufHxpIT10aGlzLnMpJiYoZVtuKytdPWkpO3JldHVybiBlfSxDLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24odCl7cmV0dXJuIDA9PXRoaXMuY29tcGFyZVRvKHQpfSxDLnByb3RvdHlwZS5taW49ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcGFyZVRvKHQpPDA/dGhpczp0fSxDLnByb3RvdHlwZS5tYXg9ZnVuY3Rpb24odCl7cmV0dXJuIDA8dGhpcy5jb21wYXJlVG8odCk/dGhpczp0fSxDLnByb3RvdHlwZS5hbmQ9ZnVuY3Rpb24odCl7dmFyIGU9aygpO3JldHVybiB0aGlzLmJpdHdpc2VUbyh0LGksZSksZX0sQy5wcm90b3R5cGUub3I9ZnVuY3Rpb24odCl7dmFyIGU9aygpO3JldHVybiB0aGlzLmJpdHdpc2VUbyh0LHUsZSksZX0sQy5wcm90b3R5cGUueG9yPWZ1bmN0aW9uKHQpe3ZhciBlPWsoKTtyZXR1cm4gdGhpcy5iaXR3aXNlVG8odCxyLGUpLGV9LEMucHJvdG90eXBlLmFuZE5vdD1mdW5jdGlvbih0KXt2YXIgZT1rKCk7cmV0dXJuIHRoaXMuYml0d2lzZVRvKHQsbixlKSxlfSxDLnByb3RvdHlwZS5ub3Q9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9aygpLGU9MDtlPHRoaXMudDsrK2UpdFtlXT10aGlzLkRNJn50aGlzW2VdO3JldHVybiB0LnQ9dGhpcy50LHQucz1+dGhpcy5zLHR9LEMucHJvdG90eXBlLnNoaWZ0TGVmdD1mdW5jdGlvbih0KXt2YXIgZT1rKCk7cmV0dXJuIHQ8MD90aGlzLnJTaGlmdFRvKC10LGUpOnRoaXMubFNoaWZ0VG8odCxlKSxlfSxDLnByb3RvdHlwZS5zaGlmdFJpZ2h0PWZ1bmN0aW9uKHQpe3ZhciBlPWsoKTtyZXR1cm4gdDwwP3RoaXMubFNoaWZ0VG8oLXQsZSk6dGhpcy5yU2hpZnRUbyh0LGUpLGV9LEMucHJvdG90eXBlLmdldExvd2VzdFNldEJpdD1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy50OysrdClpZigwIT10aGlzW3RdKXJldHVybiB0KnRoaXMuREIrcyh0aGlzW3RdKTtyZXR1cm4gdGhpcy5zPDA/dGhpcy50KnRoaXMuREI6LTF9LEMucHJvdG90eXBlLmJpdENvdW50PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT10aGlzLnMmdGhpcy5ETSxpPTA7aTx0aGlzLnQ7KytpKXQrPW8odGhpc1tpXV5lKTtyZXR1cm4gdH0sQy5wcm90b3R5cGUudGVzdEJpdD1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLmZsb29yKHQvdGhpcy5EQik7cmV0dXJuIGU+PXRoaXMudD8wIT10aGlzLnM6MCE9KHRoaXNbZV0mMTw8dCV0aGlzLkRCKX0sQy5wcm90b3R5cGUuc2V0Qml0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNoYW5nZUJpdCh0LHUpfSxDLnByb3RvdHlwZS5jbGVhckJpdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGFuZ2VCaXQodCxuKX0sQy5wcm90b3R5cGUuZmxpcEJpdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGFuZ2VCaXQodCxyKX0sQy5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3ZhciBlPWsoKTtyZXR1cm4gdGhpcy5hZGRUbyh0LGUpLGV9LEMucHJvdG90eXBlLnN1YnRyYWN0PWZ1bmN0aW9uKHQpe3ZhciBlPWsoKTtyZXR1cm4gdGhpcy5zdWJUbyh0LGUpLGV9LEMucHJvdG90eXBlLm11bHRpcGx5PWZ1bmN0aW9uKHQpe3ZhciBlPWsoKTtyZXR1cm4gdGhpcy5tdWx0aXBseVRvKHQsZSksZX0sQy5wcm90b3R5cGUuZGl2aWRlPWZ1bmN0aW9uKHQpe3ZhciBlPWsoKTtyZXR1cm4gdGhpcy5kaXZSZW1Ubyh0LGUsbnVsbCksZX0sQy5wcm90b3R5cGUucmVtYWluZGVyPWZ1bmN0aW9uKHQpe3ZhciBlPWsoKTtyZXR1cm4gdGhpcy5kaXZSZW1Ubyh0LG51bGwsZSksZX0sQy5wcm90b3R5cGUuZGl2aWRlQW5kUmVtYWluZGVyPWZ1bmN0aW9uKHQpe3ZhciBlPWsoKSxpPWsoKTtyZXR1cm4gdGhpcy5kaXZSZW1Ubyh0LGUsaSksW2UsaV19LEMucHJvdG90eXBlLm1vZFBvdz1mdW5jdGlvbih0LGUpe3ZhciBpLHIsbj10LmJpdExlbmd0aCgpLHM9WSgxKTtpZihuPD0wKXJldHVybiBzO2k9bjwxOD8xOm48NDg/MzpuPDE0ND80Om48NzY4PzU6NixyPW48OD9uZXcgTChlKTplLmlzRXZlbigpP25ldyBLKGUpOm5ldyBxKGUpO3ZhciBvPVtdLGE9MyxoPWktMSx1PSgxPDxpKS0xO2lmKG9bMV09ci5jb252ZXJ0KHRoaXMpLDE8aSl7dmFyIGM9aygpO2ZvcihyLnNxclRvKG9bMV0sYyk7YTw9dTspb1thXT1rKCksci5tdWxUbyhjLG9bYS0yXSxvW2FdKSxhKz0yfXZhciBmLGwscD10LnQtMSxkPSEwLGc9aygpO2ZvcihuPSQodFtwXSktMTswPD1wOyl7Zm9yKGg8PW4/Zj10W3BdPj5uLWgmdTooZj0odFtwXSYoMTw8bisxKS0xKTw8aC1uLDA8cCYmKGZ8PXRbcC0xXT4+dGhpcy5EQituLWgpKSxhPWk7MD09KDEmZik7KWY+Pj0xLC0tYTtpZigobi09YSk8MCYmKG4rPXRoaXMuREIsLS1wKSxkKW9bZl0uY29weVRvKHMpLGQ9ITE7ZWxzZXtmb3IoOzE8YTspci5zcXJUbyhzLGcpLHIuc3FyVG8oZyxzKSxhLT0yOzA8YT9yLnNxclRvKHMsZyk6KGw9cyxzPWcsZz1sKSxyLm11bFRvKGcsb1tmXSxzKX1mb3IoOzA8PXAmJjA9PSh0W3BdJjE8PG4pOylyLnNxclRvKHMsZyksbD1zLHM9ZyxnPWwsLS1uPDAmJihuPXRoaXMuREItMSwtLXApfXJldHVybiByLnJldmVydChzKX0sQy5wcm90b3R5cGUubW9kSW52ZXJzZT1mdW5jdGlvbih0KXt2YXIgZT10LmlzRXZlbigpO2lmKHRoaXMuaXNFdmVuKCkmJmV8fDA9PXQuc2lnbnVtKCkpcmV0dXJuIEMuWkVSTztmb3IodmFyIGk9dC5jbG9uZSgpLHI9dGhpcy5jbG9uZSgpLG49WSgxKSxzPVkoMCksbz1ZKDApLGE9WSgxKTswIT1pLnNpZ251bSgpOyl7Zm9yKDtpLmlzRXZlbigpOylpLnJTaGlmdFRvKDEsaSksZT8obi5pc0V2ZW4oKSYmcy5pc0V2ZW4oKXx8KG4uYWRkVG8odGhpcyxuKSxzLnN1YlRvKHQscykpLG4uclNoaWZ0VG8oMSxuKSk6cy5pc0V2ZW4oKXx8cy5zdWJUbyh0LHMpLHMuclNoaWZ0VG8oMSxzKTtmb3IoO3IuaXNFdmVuKCk7KXIuclNoaWZ0VG8oMSxyKSxlPyhvLmlzRXZlbigpJiZhLmlzRXZlbigpfHwoby5hZGRUbyh0aGlzLG8pLGEuc3ViVG8odCxhKSksby5yU2hpZnRUbygxLG8pKTphLmlzRXZlbigpfHxhLnN1YlRvKHQsYSksYS5yU2hpZnRUbygxLGEpOzA8PWkuY29tcGFyZVRvKHIpPyhpLnN1YlRvKHIsaSksZSYmbi5zdWJUbyhvLG4pLHMuc3ViVG8oYSxzKSk6KHIuc3ViVG8oaSxyKSxlJiZvLnN1YlRvKG4sbyksYS5zdWJUbyhzLGEpKX1yZXR1cm4gMCE9ci5jb21wYXJlVG8oQy5PTkUpP0MuWkVSTzowPD1hLmNvbXBhcmVUbyh0KT9hLnN1YnRyYWN0KHQpOmEuc2lnbnVtKCk8MD8oYS5hZGRUbyh0LGEpLGEuc2lnbnVtKCk8MD9hLmFkZCh0KTphKTphfSxDLnByb3RvdHlwZS5wb3c9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZXhwKHQsbmV3IFYpfSxDLnByb3RvdHlwZS5nY2Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zPDA/dGhpcy5uZWdhdGUoKTp0aGlzLmNsb25lKCksaT10LnM8MD90Lm5lZ2F0ZSgpOnQuY2xvbmUoKTtpZihlLmNvbXBhcmVUbyhpKTwwKXt2YXIgcj1lO2U9aSxpPXJ9dmFyIG49ZS5nZXRMb3dlc3RTZXRCaXQoKSxzPWkuZ2V0TG93ZXN0U2V0Qml0KCk7aWYoczwwKXJldHVybiBlO2ZvcihuPHMmJihzPW4pLDA8cyYmKGUuclNoaWZ0VG8ocyxlKSxpLnJTaGlmdFRvKHMsaSkpOzA8ZS5zaWdudW0oKTspMDwobj1lLmdldExvd2VzdFNldEJpdCgpKSYmZS5yU2hpZnRUbyhuLGUpLDA8KG49aS5nZXRMb3dlc3RTZXRCaXQoKSkmJmkuclNoaWZ0VG8obixpKSwwPD1lLmNvbXBhcmVUbyhpKT8oZS5zdWJUbyhpLGUpLGUuclNoaWZ0VG8oMSxlKSk6KGkuc3ViVG8oZSxpKSxpLnJTaGlmdFRvKDEsaSkpO3JldHVybiAwPHMmJmkubFNoaWZ0VG8ocyxpKSxpfSxDLnByb3RvdHlwZS5pc1Byb2JhYmxlUHJpbWU9ZnVuY3Rpb24odCl7dmFyIGUsaT10aGlzLmFicygpO2lmKDE9PWkudCYmaVswXTw9UFtQLmxlbmd0aC0xXSl7Zm9yKGU9MDtlPFAubGVuZ3RoOysrZSlpZihpWzBdPT1QW2VdKXJldHVybiEwO3JldHVybiExfWlmKGkuaXNFdmVuKCkpcmV0dXJuITE7Zm9yKGU9MTtlPFAubGVuZ3RoOyl7Zm9yKHZhciByPVBbZV0sbj1lKzE7bjxQLmxlbmd0aCYmcjx4OylyKj1QW24rK107Zm9yKHI9aS5tb2RJbnQocik7ZTxuOylpZihyJVBbZSsrXT09MClyZXR1cm4hMX1yZXR1cm4gaS5taWxsZXJSYWJpbih0KX0sQy5wcm90b3R5cGUuY29weVRvPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnQtMTswPD1lOy0tZSl0W2VdPXRoaXNbZV07dC50PXRoaXMudCx0LnM9dGhpcy5zfSxDLnByb3RvdHlwZS5mcm9tSW50PWZ1bmN0aW9uKHQpe3RoaXMudD0xLHRoaXMucz10PDA/LTE6MCwwPHQ/dGhpc1swXT10OnQ8LTE/dGhpc1swXT10K3RoaXMuRFY6dGhpcy50PTB9LEMucHJvdG90eXBlLmZyb21TdHJpbmc9ZnVuY3Rpb24odCxlKXt2YXIgaTtpZigxNj09ZSlpPTQ7ZWxzZSBpZig4PT1lKWk9MztlbHNlIGlmKDI1Nj09ZSlpPTg7ZWxzZSBpZigyPT1lKWk9MTtlbHNlIGlmKDMyPT1lKWk9NTtlbHNle2lmKDQhPWUpcmV0dXJuIHZvaWQgdGhpcy5mcm9tUmFkaXgodCxlKTtpPTJ9dGhpcy50PTAsdGhpcy5zPTA7Zm9yKHZhciByPXQubGVuZ3RoLG49ITEscz0wOzA8PS0tcjspe3ZhciBvPTg9PWk/MjU1Jit0W3JdOloodCxyKTtvPDA/Ii0iPT10LmNoYXJBdChyKSYmKG49ITApOihuPSExLDA9PXM/dGhpc1t0aGlzLnQrK109bzpzK2k+dGhpcy5EQj8odGhpc1t0aGlzLnQtMV18PShvJigxPDx0aGlzLkRCLXMpLTEpPDxzLHRoaXNbdGhpcy50KytdPW8+PnRoaXMuREItcyk6dGhpc1t0aGlzLnQtMV18PW88PHMsKHMrPWkpPj10aGlzLkRCJiYocy09dGhpcy5EQikpfTg9PWkmJjAhPSgxMjgmK3RbMF0pJiYodGhpcy5zPS0xLDA8cyYmKHRoaXNbdGhpcy50LTFdfD0oMTw8dGhpcy5EQi1zKS0xPDxzKSksdGhpcy5jbGFtcCgpLG4mJkMuWkVSTy5zdWJUbyh0aGlzLHRoaXMpfSxDLnByb3RvdHlwZS5jbGFtcD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnMmdGhpcy5ETTswPHRoaXMudCYmdGhpc1t0aGlzLnQtMV09PXQ7KS0tdGhpcy50fSxDLnByb3RvdHlwZS5kbFNoaWZ0VG89ZnVuY3Rpb24odCxlKXt2YXIgaTtmb3IoaT10aGlzLnQtMTswPD1pOy0taSllW2krdF09dGhpc1tpXTtmb3IoaT10LTE7MDw9aTstLWkpZVtpXT0wO2UudD10aGlzLnQrdCxlLnM9dGhpcy5zfSxDLnByb3RvdHlwZS5kclNoaWZ0VG89ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dDtpPHRoaXMudDsrK2kpZVtpLXRdPXRoaXNbaV07ZS50PU1hdGgubWF4KHRoaXMudC10LDApLGUucz10aGlzLnN9LEMucHJvdG90eXBlLmxTaGlmdFRvPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXQldGhpcy5EQixyPXRoaXMuREItaSxuPSgxPDxyKS0xLHM9TWF0aC5mbG9vcih0L3RoaXMuREIpLG89dGhpcy5zPDxpJnRoaXMuRE0sYT10aGlzLnQtMTswPD1hOy0tYSllW2ErcysxXT10aGlzW2FdPj5yfG8sbz0odGhpc1thXSZuKTw8aTtmb3IoYT1zLTE7MDw9YTstLWEpZVthXT0wO2Vbc109byxlLnQ9dGhpcy50K3MrMSxlLnM9dGhpcy5zLGUuY2xhbXAoKX0sQy5wcm90b3R5cGUuclNoaWZ0VG89ZnVuY3Rpb24odCxlKXtlLnM9dGhpcy5zO3ZhciBpPU1hdGguZmxvb3IodC90aGlzLkRCKTtpZihpPj10aGlzLnQpZS50PTA7ZWxzZXt2YXIgcj10JXRoaXMuREIsbj10aGlzLkRCLXIscz0oMTw8ciktMTtlWzBdPXRoaXNbaV0+PnI7Zm9yKHZhciBvPWkrMTtvPHRoaXMudDsrK28pZVtvLWktMV18PSh0aGlzW29dJnMpPDxuLGVbby1pXT10aGlzW29dPj5yOzA8ciYmKGVbdGhpcy50LWktMV18PSh0aGlzLnMmcyk8PG4pLGUudD10aGlzLnQtaSxlLmNsYW1wKCl9fSxDLnByb3RvdHlwZS5zdWJUbz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0wLHI9MCxuPU1hdGgubWluKHQudCx0aGlzLnQpO2k8bjspcis9dGhpc1tpXS10W2ldLGVbaSsrXT1yJnRoaXMuRE0scj4+PXRoaXMuREI7aWYodC50PHRoaXMudCl7Zm9yKHItPXQucztpPHRoaXMudDspcis9dGhpc1tpXSxlW2krK109ciZ0aGlzLkRNLHI+Pj10aGlzLkRCO3IrPXRoaXMuc31lbHNle2ZvcihyKz10aGlzLnM7aTx0LnQ7KXItPXRbaV0sZVtpKytdPXImdGhpcy5ETSxyPj49dGhpcy5EQjtyLT10LnN9ZS5zPXI8MD8tMTowLHI8LTE/ZVtpKytdPXRoaXMuRFYrcjowPHImJihlW2krK109ciksZS50PWksZS5jbGFtcCgpfSxDLnByb3RvdHlwZS5tdWx0aXBseVRvPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5hYnMoKSxyPXQuYWJzKCksbj1pLnQ7Zm9yKGUudD1uK3IudDswPD0tLW47KWVbbl09MDtmb3Iobj0wO248ci50OysrbillW24raS50XT1pLmFtKDAscltuXSxlLG4sMCxpLnQpO2Uucz0wLGUuY2xhbXAoKSx0aGlzLnMhPXQucyYmQy5aRVJPLnN1YlRvKGUsZSl9LEMucHJvdG90eXBlLnNxdWFyZVRvPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmFicygpLGk9dC50PTIqZS50OzA8PS0taTspdFtpXT0wO2ZvcihpPTA7aTxlLnQtMTsrK2kpe3ZhciByPWUuYW0oaSxlW2ldLHQsMippLDAsMSk7KHRbaStlLnRdKz1lLmFtKGkrMSwyKmVbaV0sdCwyKmkrMSxyLGUudC1pLTEpKT49ZS5EViYmKHRbaStlLnRdLT1lLkRWLHRbaStlLnQrMV09MSl9MDx0LnQmJih0W3QudC0xXSs9ZS5hbShpLGVbaV0sdCwyKmksMCwxKSksdC5zPTAsdC5jbGFtcCgpfSxDLnByb3RvdHlwZS5kaXZSZW1Ubz1mdW5jdGlvbih0LGUsaSl7dmFyIHI9dC5hYnMoKTtpZighKHIudDw9MCkpe3ZhciBuPXRoaXMuYWJzKCk7aWYobi50PHIudClyZXR1cm4gbnVsbCE9ZSYmZS5mcm9tSW50KDApLHZvaWQobnVsbCE9aSYmdGhpcy5jb3B5VG8oaSkpO251bGw9PWkmJihpPWsoKSk7dmFyIHM9aygpLG89dGhpcy5zLGE9dC5zLGg9dGhpcy5EQi0kKHJbci50LTFdKTswPGg/KHIubFNoaWZ0VG8oaCxzKSxuLmxTaGlmdFRvKGgsaSkpOihyLmNvcHlUbyhzKSxuLmNvcHlUbyhpKSk7dmFyIHU9cy50LGM9c1t1LTFdO2lmKDAhPWMpe3ZhciBmPWMqKDE8PHRoaXMuRjEpKygxPHU/c1t1LTJdPj50aGlzLkYyOjApLGw9dGhpcy5GVi9mLHA9KDE8PHRoaXMuRjEpL2YsZD0xPDx0aGlzLkYyLGc9aS50LF89Zy11LHY9bnVsbD09ZT9rKCk6ZTtmb3Iocy5kbFNoaWZ0VG8oXyx2KSwwPD1pLmNvbXBhcmVUbyh2KSYmKGlbaS50KytdPTEsaS5zdWJUbyh2LGkpKSxDLk9ORS5kbFNoaWZ0VG8odSx2KSx2LnN1YlRvKHMscyk7cy50PHU7KXNbcy50KytdPTA7Zm9yKDswPD0tLV87KXt2YXIgbT1pWy0tZ109PWM/dGhpcy5ETTpNYXRoLmZsb29yKGlbZ10qbCsoaVtnLTFdK2QpKnApO2lmKChpW2ddKz1zLmFtKDAsbSxpLF8sMCx1KSk8bSlmb3Iocy5kbFNoaWZ0VG8oXyx2KSxpLnN1YlRvKHYsaSk7aVtnXTwtLW07KWkuc3ViVG8odixpKX1udWxsIT1lJiYoaS5kclNoaWZ0VG8odSxlKSxvIT1hJiZDLlpFUk8uc3ViVG8oZSxlKSksaS50PXUsaS5jbGFtcCgpLDA8aCYmaS5yU2hpZnRUbyhoLGkpLG88MCYmQy5aRVJPLnN1YlRvKGksaSl9fX0sQy5wcm90b3R5cGUuaW52RGlnaXQ9ZnVuY3Rpb24oKXtpZih0aGlzLnQ8MSlyZXR1cm4gMDt2YXIgdD10aGlzWzBdO2lmKDA9PSgxJnQpKXJldHVybiAwO3ZhciBlPTMmdDtyZXR1cm4gMDwoZT0oZT0oZT0oZT1lKigyLSgxNSZ0KSplKSYxNSkqKDItKDI1NSZ0KSplKSYyNTUpKigyLSgoNjU1MzUmdCkqZSY2NTUzNSkpJjY1NTM1KSooMi10KmUldGhpcy5EVikldGhpcy5EVik/dGhpcy5EVi1lOi1lfSxDLnByb3RvdHlwZS5pc0V2ZW49ZnVuY3Rpb24oKXtyZXR1cm4gMD09KDA8dGhpcy50PzEmdGhpc1swXTp0aGlzLnMpfSxDLnByb3RvdHlwZS5leHA9ZnVuY3Rpb24odCxlKXtpZig0Mjk0OTY3Mjk1PHR8fHQ8MSlyZXR1cm4gQy5PTkU7dmFyIGk9aygpLHI9aygpLG49ZS5jb252ZXJ0KHRoaXMpLHM9JCh0KS0xO2ZvcihuLmNvcHlUbyhpKTswPD0tLXM7KWlmKGUuc3FyVG8oaSxyKSwwPCh0JjE8PHMpKWUubXVsVG8ocixuLGkpO2Vsc2V7dmFyIG89aTtpPXIscj1vfXJldHVybiBlLnJldmVydChpKX0sQy5wcm90b3R5cGUuY2h1bmtTaXplPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLmZsb29yKE1hdGguTE4yKnRoaXMuREIvTWF0aC5sb2codCkpfSxDLnByb3RvdHlwZS50b1JhZGl4PWZ1bmN0aW9uKHQpe2lmKG51bGw9PXQmJih0PTEwKSwwPT10aGlzLnNpZ251bSgpfHx0PDJ8fDM2PHQpcmV0dXJuIjAiO3ZhciBlPXRoaXMuY2h1bmtTaXplKHQpLGk9TWF0aC5wb3codCxlKSxyPVkoaSksbj1rKCkscz1rKCksbz0iIjtmb3IodGhpcy5kaXZSZW1UbyhyLG4scyk7MDxuLnNpZ251bSgpOylvPShpK3MuaW50VmFsdWUoKSkudG9TdHJpbmcodCkuc3Vic3RyKDEpK28sbi5kaXZSZW1UbyhyLG4scyk7cmV0dXJuIHMuaW50VmFsdWUoKS50b1N0cmluZyh0KStvfSxDLnByb3RvdHlwZS5mcm9tUmFkaXg9ZnVuY3Rpb24odCxlKXt0aGlzLmZyb21JbnQoMCksbnVsbD09ZSYmKGU9MTApO2Zvcih2YXIgaT10aGlzLmNodW5rU2l6ZShlKSxyPU1hdGgucG93KGUsaSksbj0hMSxzPTAsbz0wLGE9MDthPHQubGVuZ3RoOysrYSl7dmFyIGg9Wih0LGEpO2g8MD8iLSI9PXQuY2hhckF0KGEpJiYwPT10aGlzLnNpZ251bSgpJiYobj0hMCk6KG89ZSpvK2gsKytzPj1pJiYodGhpcy5kTXVsdGlwbHkociksdGhpcy5kQWRkT2Zmc2V0KG8sMCksbz1zPTApKX0wPHMmJih0aGlzLmRNdWx0aXBseShNYXRoLnBvdyhlLHMpKSx0aGlzLmRBZGRPZmZzZXQobywwKSksbiYmQy5aRVJPLnN1YlRvKHRoaXMsdGhpcyl9LEMucHJvdG90eXBlLmZyb21OdW1iZXI9ZnVuY3Rpb24odCxlLGkpe2lmKCJudW1iZXIiPT10eXBlb2YgZSlpZih0PDIpdGhpcy5mcm9tSW50KDEpO2Vsc2UgZm9yKHRoaXMuZnJvbU51bWJlcih0LGkpLHRoaXMudGVzdEJpdCh0LTEpfHx0aGlzLmJpdHdpc2VUbyhDLk9ORS5zaGlmdExlZnQodC0xKSx1LHRoaXMpLHRoaXMuaXNFdmVuKCkmJnRoaXMuZEFkZE9mZnNldCgxLDApOyF0aGlzLmlzUHJvYmFibGVQcmltZShlKTspdGhpcy5kQWRkT2Zmc2V0KDIsMCksdGhpcy5iaXRMZW5ndGgoKT50JiZ0aGlzLnN1YlRvKEMuT05FLnNoaWZ0TGVmdCh0LTEpLHRoaXMpO2Vsc2V7dmFyIHI9W10sbj03JnQ7ci5sZW5ndGg9MSsodD4+MyksZS5uZXh0Qnl0ZXMociksMDxuP3JbMF0mPSgxPDxuKS0xOnJbMF09MCx0aGlzLmZyb21TdHJpbmcociwyNTYpfX0sQy5wcm90b3R5cGUuYml0d2lzZVRvPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcixuLHM9TWF0aC5taW4odC50LHRoaXMudCk7Zm9yKHI9MDtyPHM7KytyKWlbcl09ZSh0aGlzW3JdLHRbcl0pO2lmKHQudDx0aGlzLnQpe2ZvcihuPXQucyZ0aGlzLkRNLHI9cztyPHRoaXMudDsrK3IpaVtyXT1lKHRoaXNbcl0sbik7aS50PXRoaXMudH1lbHNle2ZvcihuPXRoaXMucyZ0aGlzLkRNLHI9cztyPHQudDsrK3IpaVtyXT1lKG4sdFtyXSk7aS50PXQudH1pLnM9ZSh0aGlzLnMsdC5zKSxpLmNsYW1wKCl9LEMucHJvdG90eXBlLmNoYW5nZUJpdD1mdW5jdGlvbih0LGUpe3ZhciBpPUMuT05FLnNoaWZ0TGVmdCh0KTtyZXR1cm4gdGhpcy5iaXR3aXNlVG8oaSxlLGkpLGl9LEMucHJvdG90eXBlLmFkZFRvPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPTAscj0wLG49TWF0aC5taW4odC50LHRoaXMudCk7aTxuOylyKz10aGlzW2ldK3RbaV0sZVtpKytdPXImdGhpcy5ETSxyPj49dGhpcy5EQjtpZih0LnQ8dGhpcy50KXtmb3Iocis9dC5zO2k8dGhpcy50OylyKz10aGlzW2ldLGVbaSsrXT1yJnRoaXMuRE0scj4+PXRoaXMuREI7cis9dGhpcy5zfWVsc2V7Zm9yKHIrPXRoaXMucztpPHQudDspcis9dFtpXSxlW2krK109ciZ0aGlzLkRNLHI+Pj10aGlzLkRCO3IrPXQuc31lLnM9cjwwPy0xOjAsMDxyP2VbaSsrXT1yOnI8LTEmJihlW2krK109dGhpcy5EVityKSxlLnQ9aSxlLmNsYW1wKCl9LEMucHJvdG90eXBlLmRNdWx0aXBseT1mdW5jdGlvbih0KXt0aGlzW3RoaXMudF09dGhpcy5hbSgwLHQtMSx0aGlzLDAsMCx0aGlzLnQpLCsrdGhpcy50LHRoaXMuY2xhbXAoKX0sQy5wcm90b3R5cGUuZEFkZE9mZnNldD1mdW5jdGlvbih0LGUpe2lmKDAhPXQpe2Zvcig7dGhpcy50PD1lOyl0aGlzW3RoaXMudCsrXT0wO2Zvcih0aGlzW2VdKz10O3RoaXNbZV0+PXRoaXMuRFY7KXRoaXNbZV0tPXRoaXMuRFYsKytlPj10aGlzLnQmJih0aGlzW3RoaXMudCsrXT0wKSwrK3RoaXNbZV19fSxDLnByb3RvdHlwZS5tdWx0aXBseUxvd2VyVG89ZnVuY3Rpb24odCxlLGkpe3ZhciByPU1hdGgubWluKHRoaXMudCt0LnQsZSk7Zm9yKGkucz0wLGkudD1yOzA8cjspaVstLXJdPTA7Zm9yKHZhciBuPWkudC10aGlzLnQ7cjxuOysrcilpW3IrdGhpcy50XT10aGlzLmFtKDAsdFtyXSxpLHIsMCx0aGlzLnQpO2ZvcihuPU1hdGgubWluKHQudCxlKTtyPG47KytyKXRoaXMuYW0oMCx0W3JdLGksciwwLGUtcik7aS5jbGFtcCgpfSxDLnByb3RvdHlwZS5tdWx0aXBseVVwcGVyVG89ZnVuY3Rpb24odCxlLGkpey0tZTt2YXIgcj1pLnQ9dGhpcy50K3QudC1lO2ZvcihpLnM9MDswPD0tLXI7KWlbcl09MDtmb3Iocj1NYXRoLm1heChlLXRoaXMudCwwKTtyPHQudDsrK3IpaVt0aGlzLnQrci1lXT10aGlzLmFtKGUtcix0W3JdLGksMCwwLHRoaXMudCtyLWUpO2kuY2xhbXAoKSxpLmRyU2hpZnRUbygxLGkpfSxDLnByb3RvdHlwZS5tb2RJbnQ9ZnVuY3Rpb24odCl7aWYodDw9MClyZXR1cm4gMDt2YXIgZT10aGlzLkRWJXQsaT10aGlzLnM8MD90LTE6MDtpZigwPHRoaXMudClpZigwPT1lKWk9dGhpc1swXSV0O2Vsc2UgZm9yKHZhciByPXRoaXMudC0xOzA8PXI7LS1yKWk9KGUqaSt0aGlzW3JdKSV0O3JldHVybiBpfSxDLnByb3RvdHlwZS5taWxsZXJSYWJpbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnN1YnRyYWN0KEMuT05FKSxpPWUuZ2V0TG93ZXN0U2V0Qml0KCk7aWYoaTw9MClyZXR1cm4hMTt2YXIgcj1lLnNoaWZ0UmlnaHQoaSk7UC5sZW5ndGg8KHQ9dCsxPj4xKSYmKHQ9UC5sZW5ndGgpO2Zvcih2YXIgbj1rKCkscz0wO3M8dDsrK3Mpe24uZnJvbUludChQW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpQLmxlbmd0aCldKTt2YXIgbz1uLm1vZFBvdyhyLHRoaXMpO2lmKDAhPW8uY29tcGFyZVRvKEMuT05FKSYmMCE9by5jb21wYXJlVG8oZSkpe2Zvcih2YXIgYT0xO2ErKzxpJiYwIT1vLmNvbXBhcmVUbyhlKTspaWYoMD09KG89by5tb2RQb3dJbnQoMix0aGlzKSkuY29tcGFyZVRvKEMuT05FKSlyZXR1cm4hMTtpZigwIT1vLmNvbXBhcmVUbyhlKSlyZXR1cm4hMX19cmV0dXJuITB9LEMucHJvdG90eXBlLnNxdWFyZT1mdW5jdGlvbigpe3ZhciB0PWsoKTtyZXR1cm4gdGhpcy5zcXVhcmVUbyh0KSx0fSxDLnByb3RvdHlwZS5nY2RhPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5zPDA/dGhpcy5uZWdhdGUoKTp0aGlzLmNsb25lKCkscj10LnM8MD90Lm5lZ2F0ZSgpOnQuY2xvbmUoKTtpZihpLmNvbXBhcmVUbyhyKTwwKXt2YXIgbj1pO2k9cixyPW59dmFyIHM9aS5nZXRMb3dlc3RTZXRCaXQoKSxvPXIuZ2V0TG93ZXN0U2V0Qml0KCk7aWYobzwwKWUoaSk7ZWxzZXtzPG8mJihvPXMpLDA8byYmKGkuclNoaWZ0VG8obyxpKSxyLnJTaGlmdFRvKG8scikpO3ZhciBhPWZ1bmN0aW9uKCl7MDwocz1pLmdldExvd2VzdFNldEJpdCgpKSYmaS5yU2hpZnRUbyhzLGkpLDA8KHM9ci5nZXRMb3dlc3RTZXRCaXQoKSkmJnIuclNoaWZ0VG8ocyxyKSwwPD1pLmNvbXBhcmVUbyhyKT8oaS5zdWJUbyhyLGkpLGkuclNoaWZ0VG8oMSxpKSk6KHIuc3ViVG8oaSxyKSxyLnJTaGlmdFRvKDEscikpLDA8aS5zaWdudW0oKT9zZXRUaW1lb3V0KGEsMCk6KDA8byYmci5sU2hpZnRUbyhvLHIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlKHIpfSwwKSl9O3NldFRpbWVvdXQoYSwxMCl9fSxDLnByb3RvdHlwZS5mcm9tTnVtYmVyQXN5bmM9ZnVuY3Rpb24odCxlLGkscil7aWYoIm51bWJlciI9PXR5cGVvZiBlKWlmKHQ8Mil0aGlzLmZyb21JbnQoMSk7ZWxzZXt0aGlzLmZyb21OdW1iZXIodCxpKSx0aGlzLnRlc3RCaXQodC0xKXx8dGhpcy5iaXR3aXNlVG8oQy5PTkUuc2hpZnRMZWZ0KHQtMSksdSx0aGlzKSx0aGlzLmlzRXZlbigpJiZ0aGlzLmRBZGRPZmZzZXQoMSwwKTt2YXIgbj10aGlzLHM9ZnVuY3Rpb24oKXtuLmRBZGRPZmZzZXQoMiwwKSxuLmJpdExlbmd0aCgpPnQmJm4uc3ViVG8oQy5PTkUuc2hpZnRMZWZ0KHQtMSksbiksbi5pc1Byb2JhYmxlUHJpbWUoZSk/c2V0VGltZW91dChmdW5jdGlvbigpe3IoKX0sMCk6c2V0VGltZW91dChzLDApfTtzZXRUaW1lb3V0KHMsMCl9ZWxzZXt2YXIgbz1bXSxhPTcmdDtvLmxlbmd0aD0xKyh0Pj4zKSxlLm5leHRCeXRlcyhvKSwwPGE/b1swXSY9KDE8PGEpLTE6b1swXT0wLHRoaXMuZnJvbVN0cmluZyhvLDI1Nil9fSxDKTtmdW5jdGlvbiBDKHQsZSxpKXtudWxsIT10JiYoIm51bWJlciI9PXR5cGVvZiB0P3RoaXMuZnJvbU51bWJlcih0LGUsaSk6bnVsbD09ZSYmInN0cmluZyIhPXR5cGVvZiB0P3RoaXMuZnJvbVN0cmluZyh0LDI1Nik6dGhpcy5mcm9tU3RyaW5nKHQsZSkpfXZhciBWPShOLnByb3RvdHlwZS5jb252ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0fSxOLnByb3RvdHlwZS5yZXZlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LE4ucHJvdG90eXBlLm11bFRvPWZ1bmN0aW9uKHQsZSxpKXt0Lm11bHRpcGx5VG8oZSxpKX0sTi5wcm90b3R5cGUuc3FyVG89ZnVuY3Rpb24odCxlKXt0LnNxdWFyZVRvKGUpfSxOKTtmdW5jdGlvbiBOKCl7fXZhciBMPShVLnByb3RvdHlwZS5jb252ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0LnM8MHx8MDw9dC5jb21wYXJlVG8odGhpcy5tKT90Lm1vZCh0aGlzLm0pOnR9LFUucHJvdG90eXBlLnJldmVydD1mdW5jdGlvbih0KXtyZXR1cm4gdH0sVS5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKHQpe3QuZGl2UmVtVG8odGhpcy5tLG51bGwsdCl9LFUucHJvdG90eXBlLm11bFRvPWZ1bmN0aW9uKHQsZSxpKXt0Lm11bHRpcGx5VG8oZSxpKSx0aGlzLnJlZHVjZShpKX0sVS5wcm90b3R5cGUuc3FyVG89ZnVuY3Rpb24odCxlKXt0LnNxdWFyZVRvKGUpLHRoaXMucmVkdWNlKGUpfSxVKTtmdW5jdGlvbiBVKHQpe3RoaXMubT10fXZhciBxPShqLnByb3RvdHlwZS5jb252ZXJ0PWZ1bmN0aW9uKHQpe3ZhciBlPWsoKTtyZXR1cm4gdC5hYnMoKS5kbFNoaWZ0VG8odGhpcy5tLnQsZSksZS5kaXZSZW1Ubyh0aGlzLm0sbnVsbCxlKSx0LnM8MCYmMDxlLmNvbXBhcmVUbyhNLlpFUk8pJiZ0aGlzLm0uc3ViVG8oZSxlKSxlfSxqLnByb3RvdHlwZS5yZXZlcnQ9ZnVuY3Rpb24odCl7dmFyIGU9aygpO3JldHVybiB0LmNvcHlUbyhlKSx0aGlzLnJlZHVjZShlKSxlfSxqLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24odCl7Zm9yKDt0LnQ8PXRoaXMubXQyOyl0W3QudCsrXT0wO2Zvcih2YXIgZT0wO2U8dGhpcy5tLnQ7KytlKXt2YXIgaT0zMjc2NyZ0W2VdLHI9aSp0aGlzLm1wbCsoKGkqdGhpcy5tcGgrKHRbZV0+PjE1KSp0aGlzLm1wbCZ0aGlzLnVtKTw8MTUpJnQuRE07Zm9yKHRbaT1lK3RoaXMubS50XSs9dGhpcy5tLmFtKDAscix0LGUsMCx0aGlzLm0udCk7dFtpXT49dC5EVjspdFtpXS09dC5EVix0WysraV0rK310LmNsYW1wKCksdC5kclNoaWZ0VG8odGhpcy5tLnQsdCksMDw9dC5jb21wYXJlVG8odGhpcy5tKSYmdC5zdWJUbyh0aGlzLm0sdCl9LGoucHJvdG90eXBlLm11bFRvPWZ1bmN0aW9uKHQsZSxpKXt0Lm11bHRpcGx5VG8oZSxpKSx0aGlzLnJlZHVjZShpKX0sai5wcm90b3R5cGUuc3FyVG89ZnVuY3Rpb24odCxlKXt0LnNxdWFyZVRvKGUpLHRoaXMucmVkdWNlKGUpfSxqKTtmdW5jdGlvbiBqKHQpe3RoaXMubT10LHRoaXMubXA9dC5pbnZEaWdpdCgpLHRoaXMubXBsPTMyNzY3JnRoaXMubXAsdGhpcy5tcGg9dGhpcy5tcD4+MTUsdGhpcy51bT0oMTw8dC5EQi0xNSktMSx0aGlzLm10Mj0yKnQudH12YXIgSz0oSC5wcm90b3R5cGUuY29udmVydD1mdW5jdGlvbih0KXtpZih0LnM8MHx8dC50PjIqdGhpcy5tLnQpcmV0dXJuIHQubW9kKHRoaXMubSk7aWYodC5jb21wYXJlVG8odGhpcy5tKTwwKXJldHVybiB0O3ZhciBlPWsoKTtyZXR1cm4gdC5jb3B5VG8oZSksdGhpcy5yZWR1Y2UoZSksZX0sSC5wcm90b3R5cGUucmV2ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0fSxILnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24odCl7Zm9yKHQuZHJTaGlmdFRvKHRoaXMubS50LTEsdGhpcy5yMiksdC50PnRoaXMubS50KzEmJih0LnQ9dGhpcy5tLnQrMSx0LmNsYW1wKCkpLHRoaXMubXUubXVsdGlwbHlVcHBlclRvKHRoaXMucjIsdGhpcy5tLnQrMSx0aGlzLnEzKSx0aGlzLm0ubXVsdGlwbHlMb3dlclRvKHRoaXMucTMsdGhpcy5tLnQrMSx0aGlzLnIyKTt0LmNvbXBhcmVUbyh0aGlzLnIyKTwwOyl0LmRBZGRPZmZzZXQoMSx0aGlzLm0udCsxKTtmb3IodC5zdWJUbyh0aGlzLnIyLHQpOzA8PXQuY29tcGFyZVRvKHRoaXMubSk7KXQuc3ViVG8odGhpcy5tLHQpfSxILnByb3RvdHlwZS5tdWxUbz1mdW5jdGlvbih0LGUsaSl7dC5tdWx0aXBseVRvKGUsaSksdGhpcy5yZWR1Y2UoaSl9LEgucHJvdG90eXBlLnNxclRvPWZ1bmN0aW9uKHQsZSl7dC5zcXVhcmVUbyhlKSx0aGlzLnJlZHVjZShlKX0sSCk7ZnVuY3Rpb24gSCh0KXt0aGlzLm09dCx0aGlzLnIyPWsoKSx0aGlzLnEzPWsoKSxNLk9ORS5kbFNoaWZ0VG8oMip0LnQsdGhpcy5yMiksdGhpcy5tdT10aGlzLnIyLmRpdmlkZSh0KX1mdW5jdGlvbiBrKCl7cmV0dXJuIG5ldyBNKG51bGwpfWZ1bmN0aW9uIEYodCxlKXtyZXR1cm4gbmV3IE0odCxlKX1BPSJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXIiPT1uYXZpZ2F0b3IuYXBwTmFtZT8oTS5wcm90b3R5cGUuYW09ZnVuY3Rpb24odCxlLGkscixuLHMpe2Zvcih2YXIgbz0zMjc2NyZlLGE9ZT4+MTU7MDw9LS1zOyl7dmFyIGg9MzI3NjcmdGhpc1t0XSx1PXRoaXNbdCsrXT4+MTUsYz1hKmgrdSpvO249KChoPW8qaCsoKDMyNzY3JmMpPDwxNSkraVtyXSsoMTA3Mzc0MTgyMyZuKSk+Pj4zMCkrKGM+Pj4xNSkrYSp1KyhuPj4+MzApLGlbcisrXT0xMDczNzQxODIzJmh9cmV0dXJuIG59LDMwKToiTmV0c2NhcGUiIT1uYXZpZ2F0b3IuYXBwTmFtZT8oTS5wcm90b3R5cGUuYW09ZnVuY3Rpb24odCxlLGkscixuLHMpe2Zvcig7MDw9LS1zOyl7dmFyIG89ZSp0aGlzW3QrK10raVtyXStuO249TWF0aC5mbG9vcihvLzY3MTA4ODY0KSxpW3IrK109NjcxMDg4NjMmb31yZXR1cm4gbn0sMjYpOihNLnByb3RvdHlwZS5hbT1mdW5jdGlvbih0LGUsaSxyLG4scyl7Zm9yKHZhciBvPTE2MzgzJmUsYT1lPj4xNDswPD0tLXM7KXt2YXIgaD0xNjM4MyZ0aGlzW3RdLHU9dGhpc1t0KytdPj4xNCxjPWEqaCt1Km87bj0oKGg9bypoKygoMTYzODMmYyk8PDE0KStpW3JdK24pPj4yOCkrKGM+PjE0KSthKnUsaVtyKytdPTI2ODQzNTQ1NSZofXJldHVybiBufSwyOCksTS5wcm90b3R5cGUuREI9QSxNLnByb3RvdHlwZS5ETT0oMTw8QSktMSxNLnByb3RvdHlwZS5EVj0xPDxBO00ucHJvdG90eXBlLkZWPU1hdGgucG93KDIsNTIpLE0ucHJvdG90eXBlLkYxPTUyLUEsTS5wcm90b3R5cGUuRjI9MipBLTUyO3ZhciB6LFcsRz1bXTtmb3Ioej0iMCIuY2hhckNvZGVBdCgwKSxXPTA7Vzw9OTsrK1cpR1t6KytdPVc7Zm9yKHo9ImEiLmNoYXJDb2RlQXQoMCksVz0xMDtXPDM2OysrVylHW3orK109Vztmb3Ioej0iQSIuY2hhckNvZGVBdCgwKSxXPTEwO1c8MzY7KytXKUdbeisrXT1XO2Z1bmN0aW9uIFoodCxlKXt2YXIgaT1HW3QuY2hhckNvZGVBdChlKV07cmV0dXJuIG51bGw9PWk/LTE6aX1mdW5jdGlvbiBZKHQpe3ZhciBlPWsoKTtyZXR1cm4gZS5mcm9tSW50KHQpLGV9ZnVuY3Rpb24gJCh0KXt2YXIgZSxpPTE7cmV0dXJuIDAhPShlPXQ+Pj4xNikmJih0PWUsaSs9MTYpLDAhPShlPXQ+PjgpJiYodD1lLGkrPTgpLDAhPShlPXQ+PjQpJiYodD1lLGkrPTQpLDAhPShlPXQ+PjIpJiYodD1lLGkrPTIpLDAhPShlPXQ+PjEpJiYodD1lLGkrPTEpLGl9TS5aRVJPPVkoMCksTS5PTkU9WSgxKTt2YXIgUT0oSi5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0KXt2YXIgZSxpLHI7Zm9yKGU9MDtlPDI1NjsrK2UpdGhpcy5TW2VdPWU7Zm9yKGU9aT0wO2U8MjU2OysrZSlpPWkrdGhpcy5TW2VdK3RbZSV0Lmxlbmd0aF0mMjU1LHI9dGhpcy5TW2VdLHRoaXMuU1tlXT10aGlzLlNbaV0sdGhpcy5TW2ldPXI7dGhpcy5pPTAsdGhpcy5qPTB9LEoucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gdGhpcy5pPXRoaXMuaSsxJjI1NSx0aGlzLmo9dGhpcy5qK3RoaXMuU1t0aGlzLmldJjI1NSx0PXRoaXMuU1t0aGlzLmldLHRoaXMuU1t0aGlzLmldPXRoaXMuU1t0aGlzLmpdLHRoaXMuU1t0aGlzLmpdPXQsdGhpcy5TW3QrdGhpcy5TW3RoaXMuaV0mMjU1XX0sSik7ZnVuY3Rpb24gSigpe3RoaXMuaT0wLHRoaXMuaj0wLHRoaXMuUz1bXX12YXIgWCx0dCxldD0yNTYsaXQ9bnVsbDtpZihudWxsPT1pdCl7aXQ9W107dmFyIHJ0PXZvaWQodHQ9MCk7aWYod2luZG93LmNyeXB0byYmd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMpe3ZhciBudD1uZXcgVWludDMyQXJyYXkoMjU2KTtmb3Iod2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMobnQpLHJ0PTA7cnQ8bnQubGVuZ3RoOysrcnQpaXRbdHQrK109MjU1Jm50W3J0XX12YXIgc3Q9ZnVuY3Rpb24odCl7aWYodGhpcy5jb3VudD10aGlzLmNvdW50fHwwLDI1Njw9dGhpcy5jb3VudHx8ZXQ8PXR0KXdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyP3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLHN0LCExKTp3aW5kb3cuZGV0YWNoRXZlbnQmJndpbmRvdy5kZXRhY2hFdmVudCgib25tb3VzZW1vdmUiLHN0KTtlbHNlIHRyeXt2YXIgZT10LngrdC55O2l0W3R0KytdPTI1NSZlLHRoaXMuY291bnQrPTF9Y2F0Y2godCl7fX07d2luZG93LmFkZEV2ZW50TGlzdGVuZXI/d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsc3QsITEpOndpbmRvdy5hdHRhY2hFdmVudCYmd2luZG93LmF0dGFjaEV2ZW50KCJvbm1vdXNlbW92ZSIsc3QpfWZ1bmN0aW9uIG90KCl7aWYobnVsbD09WCl7Zm9yKFg9bmV3IFE7dHQ8ZXQ7KXt2YXIgdD1NYXRoLmZsb29yKDY1NTM2Kk1hdGgucmFuZG9tKCkpO2l0W3R0KytdPTI1NSZ0fWZvcihYLmluaXQoaXQpLHR0PTA7dHQ8aXQubGVuZ3RoOysrdHQpaXRbdHRdPTA7dHQ9MH1yZXR1cm4gWC5uZXh0KCl9dmFyIGF0PShodC5wcm90b3R5cGUubmV4dEJ5dGVzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7KytlKXRbZV09b3QoKX0saHQpO2Z1bmN0aW9uIGh0KCl7fXZhciB1dD0oY3QucHJvdG90eXBlLmRvUHVibGljPWZ1bmN0aW9uKHQpe3JldHVybiB0Lm1vZFBvd0ludCh0aGlzLmUsdGhpcy5uKX0sY3QucHJvdG90eXBlLmRvUHJpdmF0ZT1mdW5jdGlvbih0KXtpZihudWxsPT10aGlzLnB8fG51bGw9PXRoaXMucSlyZXR1cm4gdC5tb2RQb3codGhpcy5kLHRoaXMubik7Zm9yKHZhciBlPXQubW9kKHRoaXMucCkubW9kUG93KHRoaXMuZG1wMSx0aGlzLnApLGk9dC5tb2QodGhpcy5xKS5tb2RQb3codGhpcy5kbXExLHRoaXMucSk7ZS5jb21wYXJlVG8oaSk8MDspZT1lLmFkZCh0aGlzLnApO3JldHVybiBlLnN1YnRyYWN0KGkpLm11bHRpcGx5KHRoaXMuY29lZmYpLm1vZCh0aGlzLnApLm11bHRpcGx5KHRoaXMucSkuYWRkKGkpfSxjdC5wcm90b3R5cGUuc2V0UHVibGljPWZ1bmN0aW9uKHQsZSl7bnVsbCE9dCYmbnVsbCE9ZSYmMDx0Lmxlbmd0aCYmMDxlLmxlbmd0aD8odGhpcy5uPUYodCwxNiksdGhpcy5lPXBhcnNlSW50KGUsMTYpKTpjb25zb2xlLmVycm9yKCJJbnZhbGlkIFJTQSBwdWJsaWMga2V5Iil9LGN0LnByb3RvdHlwZS5lbmNyeXB0PWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoZTx0Lmxlbmd0aCsxMSlyZXR1cm4gY29uc29sZS5lcnJvcigiTWVzc2FnZSB0b28gbG9uZyBmb3IgUlNBIiksbnVsbDtmb3IodmFyIGk9W10scj10Lmxlbmd0aC0xOzA8PXImJjA8ZTspe3ZhciBuPXQuY2hhckNvZGVBdChyLS0pO248MTI4P2lbLS1lXT1uOjEyNzxuJiZuPDIwNDg/KGlbLS1lXT02MyZufDEyOCxpWy0tZV09bj4+NnwxOTIpOihpWy0tZV09NjMmbnwxMjgsaVstLWVdPW4+PjYmNjN8MTI4LGlbLS1lXT1uPj4xMnwyMjQpfWlbLS1lXT0wO2Zvcih2YXIgcz1uZXcgYXQsbz1bXTsyPGU7KXtmb3Iob1swXT0wOzA9PW9bMF07KXMubmV4dEJ5dGVzKG8pO2lbLS1lXT1vWzBdfXJldHVybiBpWy0tZV09MixpWy0tZV09MCxuZXcgTShpKX0odCx0aGlzLm4uYml0TGVuZ3RoKCkrNz4+Myk7aWYobnVsbD09ZSlyZXR1cm4gbnVsbDt2YXIgaT10aGlzLmRvUHVibGljKGUpO2lmKG51bGw9PWkpcmV0dXJuIG51bGw7dmFyIHI9aS50b1N0cmluZygxNik7cmV0dXJuIDA9PSgxJnIubGVuZ3RoKT9yOiIwIityfSxjdC5wcm90b3R5cGUuc2V0UHJpdmF0ZT1mdW5jdGlvbih0LGUsaSl7bnVsbCE9dCYmbnVsbCE9ZSYmMDx0Lmxlbmd0aCYmMDxlLmxlbmd0aD8odGhpcy5uPUYodCwxNiksdGhpcy5lPXBhcnNlSW50KGUsMTYpLHRoaXMuZD1GKGksMTYpKTpjb25zb2xlLmVycm9yKCJJbnZhbGlkIFJTQSBwcml2YXRlIGtleSIpfSxjdC5wcm90b3R5cGUuc2V0UHJpdmF0ZUV4PWZ1bmN0aW9uKHQsZSxpLHIsbixzLG8sYSl7bnVsbCE9dCYmbnVsbCE9ZSYmMDx0Lmxlbmd0aCYmMDxlLmxlbmd0aD8odGhpcy5uPUYodCwxNiksdGhpcy5lPXBhcnNlSW50KGUsMTYpLHRoaXMuZD1GKGksMTYpLHRoaXMucD1GKHIsMTYpLHRoaXMucT1GKG4sMTYpLHRoaXMuZG1wMT1GKHMsMTYpLHRoaXMuZG1xMT1GKG8sMTYpLHRoaXMuY29lZmY9RihhLDE2KSk6Y29uc29sZS5lcnJvcigiSW52YWxpZCBSU0EgcHJpdmF0ZSBrZXkiKX0sY3QucHJvdG90eXBlLmdlbmVyYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IGF0LHI9dD4+MTt0aGlzLmU9cGFyc2VJbnQoZSwxNik7Zm9yKHZhciBuPW5ldyBNKGUsMTYpOzspe2Zvcig7dGhpcy5wPW5ldyBNKHQtciwxLGkpLDAhPXRoaXMucC5zdWJ0cmFjdChNLk9ORSkuZ2NkKG4pLmNvbXBhcmVUbyhNLk9ORSl8fCF0aGlzLnAuaXNQcm9iYWJsZVByaW1lKDEwKTspO2Zvcig7dGhpcy5xPW5ldyBNKHIsMSxpKSwwIT10aGlzLnEuc3VidHJhY3QoTS5PTkUpLmdjZChuKS5jb21wYXJlVG8oTS5PTkUpfHwhdGhpcy5xLmlzUHJvYmFibGVQcmltZSgxMCk7KTtpZih0aGlzLnAuY29tcGFyZVRvKHRoaXMucSk8PTApe3ZhciBzPXRoaXMucDt0aGlzLnA9dGhpcy5xLHRoaXMucT1zfXZhciBvPXRoaXMucC5zdWJ0cmFjdChNLk9ORSksYT10aGlzLnEuc3VidHJhY3QoTS5PTkUpLGg9by5tdWx0aXBseShhKTtpZigwPT1oLmdjZChuKS5jb21wYXJlVG8oTS5PTkUpKXt0aGlzLm49dGhpcy5wLm11bHRpcGx5KHRoaXMucSksdGhpcy5kPW4ubW9kSW52ZXJzZShoKSx0aGlzLmRtcDE9dGhpcy5kLm1vZChvKSx0aGlzLmRtcTE9dGhpcy5kLm1vZChhKSx0aGlzLmNvZWZmPXRoaXMucS5tb2RJbnZlcnNlKHRoaXMucCk7YnJlYWt9fX0sY3QucHJvdG90eXBlLmRlY3J5cHQ9ZnVuY3Rpb24odCl7dmFyIGU9Rih0LDE2KSxpPXRoaXMuZG9Qcml2YXRlKGUpO3JldHVybiBudWxsPT1pP251bGw6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dC50b0J5dGVBcnJheSgpLHI9MDtyPGkubGVuZ3RoJiYwPT1pW3JdOykrK3I7aWYoaS5sZW5ndGgtciE9ZS0xfHwyIT1pW3JdKXJldHVybiBudWxsO2ZvcigrK3I7MCE9aVtyXTspaWYoKytyPj1pLmxlbmd0aClyZXR1cm4gbnVsbDtmb3IodmFyIG49IiI7KytyPGkubGVuZ3RoOyl7dmFyIHM9MjU1Jmlbcl07czwxMjg/bis9U3RyaW5nLmZyb21DaGFyQ29kZShzKToxOTE8cyYmczwyMjQ/KG4rPVN0cmluZy5mcm9tQ2hhckNvZGUoKDMxJnMpPDw2fDYzJmlbcisxXSksKytyKToobis9U3RyaW5nLmZyb21DaGFyQ29kZSgoMTUmcyk8PDEyfCg2MyZpW3IrMV0pPDw2fDYzJmlbcisyXSkscis9Mil9cmV0dXJuIG59KGksdGhpcy5uLmJpdExlbmd0aCgpKzc+PjMpfSxjdC5wcm90b3R5cGUuZ2VuZXJhdGVBc3luYz1mdW5jdGlvbih0LGUsbil7dmFyIHM9bmV3IGF0LG89dD4+MTt0aGlzLmU9cGFyc2VJbnQoZSwxNik7dmFyIGE9bmV3IE0oZSwxNiksaD10aGlzLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7aWYoaC5wLmNvbXBhcmVUbyhoLnEpPD0wKXt2YXIgdD1oLnA7aC5wPWgucSxoLnE9dH12YXIgZT1oLnAuc3VidHJhY3QoTS5PTkUpLGk9aC5xLnN1YnRyYWN0KE0uT05FKSxyPWUubXVsdGlwbHkoaSk7MD09ci5nY2QoYSkuY29tcGFyZVRvKE0uT05FKT8oaC5uPWgucC5tdWx0aXBseShoLnEpLGguZD1hLm1vZEludmVyc2UociksaC5kbXAxPWguZC5tb2QoZSksaC5kbXExPWguZC5tb2QoaSksaC5jb2VmZj1oLnEubW9kSW52ZXJzZShoLnApLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtuKCl9LDApKTpzZXRUaW1lb3V0KHUsMCl9dmFyIGk9ZnVuY3Rpb24oKXtoLnE9aygpLGgucS5mcm9tTnVtYmVyQXN5bmMobywxLHMsZnVuY3Rpb24oKXtoLnEuc3VidHJhY3QoTS5PTkUpLmdjZGEoYSxmdW5jdGlvbih0KXswPT10LmNvbXBhcmVUbyhNLk9ORSkmJmgucS5pc1Byb2JhYmxlUHJpbWUoMTApP3NldFRpbWVvdXQoZSwwKTpzZXRUaW1lb3V0KGksMCl9KX0pfSxyPWZ1bmN0aW9uKCl7aC5wPWsoKSxoLnAuZnJvbU51bWJlckFzeW5jKHQtbywxLHMsZnVuY3Rpb24oKXtoLnAuc3VidHJhY3QoTS5PTkUpLmdjZGEoYSxmdW5jdGlvbih0KXswPT10LmNvbXBhcmVUbyhNLk9ORSkmJmgucC5pc1Byb2JhYmxlUHJpbWUoMTApP3NldFRpbWVvdXQoaSwwKTpzZXRUaW1lb3V0KHIsMCl9KX0pfTtzZXRUaW1lb3V0KHIsMCl9O3NldFRpbWVvdXQodSwwKX0sY3QucHJvdG90eXBlLnNpZ249ZnVuY3Rpb24odCxlLGkpe3ZhciByPWZ1bmN0aW9uKHQsZSl7aWYoZTx0Lmxlbmd0aCsyMilyZXR1cm4gY29uc29sZS5lcnJvcigiTWVzc2FnZSB0b28gbG9uZyBmb3IgUlNBIiksbnVsbDtmb3IodmFyIGk9ZS10Lmxlbmd0aC02LHI9IiIsbj0wO248aTtuKz0yKXIrPSJmZiI7cmV0dXJuIEYoIjAwMDEiK3IrIjAwIit0LDE2KX0oKGZ0W2ldfHwiIikrZSh0KS50b1N0cmluZygpLHRoaXMubi5iaXRMZW5ndGgoKS80KTtpZihudWxsPT1yKXJldHVybiBudWxsO3ZhciBuPXRoaXMuZG9Qcml2YXRlKHIpO2lmKG51bGw9PW4pcmV0dXJuIG51bGw7dmFyIHM9bi50b1N0cmluZygxNik7cmV0dXJuIDA9PSgxJnMubGVuZ3RoKT9zOiIwIitzfSxjdC5wcm90b3R5cGUudmVyaWZ5PWZ1bmN0aW9uKHQsZSxpKXt2YXIgcj1GKGUsMTYpLG49dGhpcy5kb1B1YmxpYyhyKTtyZXR1cm4gbnVsbD09bj9udWxsOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiBmdClpZihmdC5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIGk9ZnRbZV0scj1pLmxlbmd0aDtpZih0LnN1YnN0cigwLHIpPT1pKXJldHVybiB0LnN1YnN0cihyKX1yZXR1cm4gdH0obi50b1N0cmluZygxNikucmVwbGFjZSgvXjFmKzAwLywiIikpPT1pKHQpLnRvU3RyaW5nKCl9LGN0KTtmdW5jdGlvbiBjdCgpe3RoaXMubj1udWxsLHRoaXMuZT0wLHRoaXMuZD1udWxsLHRoaXMucD1udWxsLHRoaXMucT1udWxsLHRoaXMuZG1wMT1udWxsLHRoaXMuZG1xMT1udWxsLHRoaXMuY29lZmY9bnVsbH12YXIgZnQ9e21kMjoiMzAyMDMwMGMwNjA4MmE4NjQ4ODZmNzBkMDIwMjA1MDAwNDEwIixtZDU6IjMwMjAzMDBjMDYwODJhODY0ODg2ZjcwZDAyMDUwNTAwMDQxMCIsc2hhMToiMzAyMTMwMDkwNjA1MmIwZTAzMDIxYTA1MDAwNDE0IixzaGEyMjQ6IjMwMmQzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwNDA1MDAwNDFjIixzaGEyNTY6IjMwMzEzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwMTA1MDAwNDIwIixzaGEzODQ6IjMwNDEzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwMjA1MDAwNDMwIixzaGE1MTI6IjMwNTEzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwMzA1MDAwNDQwIixyaXBlbWQxNjA6IjMwMjEzMDA5MDYwNTJiMjQwMzAyMDEwNTAwMDQxNCJ9O3ZhciBsdD17fTtsdC5sYW5nPXtleHRlbmQ6ZnVuY3Rpb24odCxlLGkpe2lmKCFlfHwhdCl0aHJvdyBuZXcgRXJyb3IoIllBSE9PLmxhbmcuZXh0ZW5kIGZhaWxlZCwgcGxlYXNlIGNoZWNrIHRoYXQgYWxsIGRlcGVuZGVuY2llcyBhcmUgaW5jbHVkZWQuIik7ZnVuY3Rpb24gcigpe31pZihyLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgciwodC5wcm90b3R5cGUuY29uc3RydWN0b3I9dCkuc3VwZXJjbGFzcz1lLnByb3RvdHlwZSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj09T2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciYmKGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUpLGkpe3ZhciBuO2ZvcihuIGluIGkpdC5wcm90b3R5cGVbbl09aVtuXTt2YXIgcz1mdW5jdGlvbigpe30sbz1bInRvU3RyaW5nIiwidmFsdWVPZiJdO3RyeXsvTVNJRS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmKHM9ZnVuY3Rpb24odCxlKXtmb3Iobj0wO248by5sZW5ndGg7bis9MSl7dmFyIGk9b1tuXSxyPWVbaV07ImZ1bmN0aW9uIj09dHlwZW9mIHImJnIhPU9iamVjdC5wcm90b3R5cGVbaV0mJih0W2ldPXIpfX0pfWNhdGNoKHQpe31zKHQucHJvdG90eXBlLGkpfX19O3ZhciBwdD17fTt2b2lkIDAhPT1wdC5hc24xJiZwdC5hc24xfHwocHQuYXNuMT17fSkscHQuYXNuMS5BU04xVXRpbD1uZXcgZnVuY3Rpb24oKXt0aGlzLmludGVnZXJUb0J5dGVIZXg9ZnVuY3Rpb24odCl7dmFyIGU9dC50b1N0cmluZygxNik7cmV0dXJuIGUubGVuZ3RoJTI9PTEmJihlPSIwIitlKSxlfSx0aGlzLmJpZ0ludFRvTWluVHdvc0NvbXBsZW1lbnRzSGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXQudG9TdHJpbmcoMTYpO2lmKCItIiE9ZS5zdWJzdHIoMCwxKSllLmxlbmd0aCUyPT0xP2U9IjAiK2U6ZS5tYXRjaCgvXlswLTddLyl8fChlPSIwMCIrZSk7ZWxzZXt2YXIgaT1lLnN1YnN0cigxKS5sZW5ndGg7aSUyPT0xP2krPTE6ZS5tYXRjaCgvXlswLTddLyl8fChpKz0yKTtmb3IodmFyIHI9IiIsbj0wO248aTtuKyspcis9ImYiO2U9bmV3IE0ociwxNikueG9yKHQpLmFkZChNLk9ORSkudG9TdHJpbmcoMTYpLnJlcGxhY2UoL14tLywiIil9cmV0dXJuIGV9LHRoaXMuZ2V0UEVNU3RyaW5nRnJvbUhleD1mdW5jdGlvbih0LGUpe3JldHVybiBoZXh0b3BlbSh0LGUpfSx0aGlzLm5ld09iamVjdD1mdW5jdGlvbih0KXt2YXIgZT1wdC5hc24xLGk9ZS5ERVJCb29sZWFuLHI9ZS5ERVJJbnRlZ2VyLG49ZS5ERVJCaXRTdHJpbmcscz1lLkRFUk9jdGV0U3RyaW5nLG89ZS5ERVJOdWxsLGE9ZS5ERVJPYmplY3RJZGVudGlmaWVyLGg9ZS5ERVJFbnVtZXJhdGVkLHU9ZS5ERVJVVEY4U3RyaW5nLGM9ZS5ERVJOdW1lcmljU3RyaW5nLGY9ZS5ERVJQcmludGFibGVTdHJpbmcsbD1lLkRFUlRlbGV0ZXhTdHJpbmcscD1lLkRFUklBNVN0cmluZyxkPWUuREVSVVRDVGltZSxnPWUuREVSR2VuZXJhbGl6ZWRUaW1lLF89ZS5ERVJTZXF1ZW5jZSx2PWUuREVSU2V0LG09ZS5ERVJUYWdnZWRPYmplY3QseT1lLkFTTjFVdGlsLm5ld09iamVjdCxiPU9iamVjdC5rZXlzKHQpO2lmKDEhPWIubGVuZ3RoKXRocm93ImtleSBvZiBwYXJhbSBzaGFsbCBiZSBvbmx5IG9uZS4iO3ZhciBFPWJbMF07aWYoLTE9PSI6Ym9vbDppbnQ6Yml0c3RyOm9jdHN0cjpudWxsOm9pZDplbnVtOnV0ZjhzdHI6bnVtc3RyOnBybnN0cjp0ZWxzdHI6aWE1c3RyOnV0Y3RpbWU6Z2VudGltZTpzZXE6c2V0OnRhZzoiLmluZGV4T2YoIjoiK0UrIjoiKSl0aHJvdyJ1bmRlZmluZWQga2V5OiAiK0U7aWYoImJvb2wiPT1FKXJldHVybiBuZXcgaSh0W0VdKTtpZigiaW50Ij09RSlyZXR1cm4gbmV3IHIodFtFXSk7aWYoImJpdHN0ciI9PUUpcmV0dXJuIG5ldyBuKHRbRV0pO2lmKCJvY3RzdHIiPT1FKXJldHVybiBuZXcgcyh0W0VdKTtpZigibnVsbCI9PUUpcmV0dXJuIG5ldyBvKHRbRV0pO2lmKCJvaWQiPT1FKXJldHVybiBuZXcgYSh0W0VdKTtpZigiZW51bSI9PUUpcmV0dXJuIG5ldyBoKHRbRV0pO2lmKCJ1dGY4c3RyIj09RSlyZXR1cm4gbmV3IHUodFtFXSk7aWYoIm51bXN0ciI9PUUpcmV0dXJuIG5ldyBjKHRbRV0pO2lmKCJwcm5zdHIiPT1FKXJldHVybiBuZXcgZih0W0VdKTtpZigidGVsc3RyIj09RSlyZXR1cm4gbmV3IGwodFtFXSk7aWYoImlhNXN0ciI9PUUpcmV0dXJuIG5ldyBwKHRbRV0pO2lmKCJ1dGN0aW1lIj09RSlyZXR1cm4gbmV3IGQodFtFXSk7aWYoImdlbnRpbWUiPT1FKXJldHVybiBuZXcgZyh0W0VdKTtpZigic2VxIj09RSl7Zm9yKHZhciBUPXRbRV0sUz1bXSxEPTA7RDxULmxlbmd0aDtEKyspe3ZhciB3PXkoVFtEXSk7Uy5wdXNoKHcpfXJldHVybiBuZXcgXyh7YXJyYXk6U30pfWlmKCJzZXQiPT1FKXtmb3IoVD10W0VdLFM9W10sRD0wO0Q8VC5sZW5ndGg7RCsrKXt3PXkoVFtEXSk7Uy5wdXNoKHcpfXJldHVybiBuZXcgdih7YXJyYXk6U30pfWlmKCJ0YWciPT1FKXt2YXIgQj10W0VdO2lmKCJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoQikmJjM9PUIubGVuZ3RoKXt2YXIgTz15KEJbMl0pO3JldHVybiBuZXcgbSh7dGFnOkJbMF0sZXhwbGljaXQ6QlsxXSxvYmo6T30pfXZhciBBPXt9O2lmKHZvaWQgMCE9PUIuZXhwbGljaXQmJihBLmV4cGxpY2l0PUIuZXhwbGljaXQpLHZvaWQgMCE9PUIudGFnJiYoQS50YWc9Qi50YWcpLHZvaWQgMD09PUIub2JqKXRocm93Im9iaiBzaGFsbCBiZSBzcGVjaWZpZWQgZm9yICd0YWcnLiI7cmV0dXJuIEEub2JqPXkoQi5vYmopLG5ldyBtKEEpfX0sdGhpcy5qc29uVG9BU04xSEVYPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm5ld09iamVjdCh0KS5nZXRFbmNvZGVkSGV4KCl9fSxwdC5hc24xLkFTTjFVdGlsLm9pZEhleFRvSW50PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0iIixpPXBhcnNlSW50KHQuc3Vic3RyKDAsMiksMTYpLHI9KGU9TWF0aC5mbG9vcihpLzQwKSsiLiIraSU0MCwiIiksbj0yO248dC5sZW5ndGg7bis9Mil7dmFyIHM9KCIwMDAwMDAwMCIrcGFyc2VJbnQodC5zdWJzdHIobiwyKSwxNikudG9TdHJpbmcoMikpLnNsaWNlKC04KTtpZihyKz1zLnN1YnN0cigxLDcpLCIwIj09cy5zdWJzdHIoMCwxKSllPWUrIi4iK25ldyBNKHIsMikudG9TdHJpbmcoMTApLHI9IiJ9cmV0dXJuIGV9LHB0LmFzbjEuQVNOMVV0aWwub2lkSW50VG9IZXg9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gYSh0KXt2YXIgZT10LnRvU3RyaW5nKDE2KTtyZXR1cm4gMT09ZS5sZW5ndGgmJihlPSIwIitlKSxlfWZ1bmN0aW9uIGUodCl7dmFyIGU9IiIsaT1uZXcgTSh0LDEwKS50b1N0cmluZygyKSxyPTctaS5sZW5ndGglNzs3PT1yJiYocj0wKTtmb3IodmFyIG49IiIscz0wO3M8cjtzKyspbis9IjAiO2ZvcihpPW4raSxzPTA7czxpLmxlbmd0aC0xO3MrPTcpe3ZhciBvPWkuc3Vic3RyKHMsNyk7cyE9aS5sZW5ndGgtNyYmKG89IjEiK28pLGUrPWEocGFyc2VJbnQobywyKSl9cmV0dXJuIGV9aWYoIXQubWF0Y2goL15bMC05Ll0rJC8pKXRocm93Im1hbGZvcm1lZCBvaWQgc3RyaW5nOiAiK3Q7dmFyIGk9IiIscj10LnNwbGl0KCIuIiksbj00MCpwYXJzZUludChyWzBdKStwYXJzZUludChyWzFdKTtpKz1hKG4pLHIuc3BsaWNlKDAsMik7Zm9yKHZhciBzPTA7czxyLmxlbmd0aDtzKyspaSs9ZShyW3NdKTtyZXR1cm4gaX0scHQuYXNuMS5BU04xT2JqZWN0PWZ1bmN0aW9uKCl7dGhpcy5nZXRMZW5ndGhIZXhGcm9tVmFsdWU9ZnVuY3Rpb24oKXtpZih2b2lkIDA9PT10aGlzLmhWfHxudWxsPT10aGlzLmhWKXRocm93InRoaXMuaFYgaXMgbnVsbCBvciB1bmRlZmluZWQuIjtpZih0aGlzLmhWLmxlbmd0aCUyPT0xKXRocm93InZhbHVlIGhleCBtdXN0IGJlIGV2ZW4gbGVuZ3RoOiBuPSIrIiIubGVuZ3RoKyIsdj0iK3RoaXMuaFY7dmFyIHQ9dGhpcy5oVi5sZW5ndGgvMixlPXQudG9TdHJpbmcoMTYpO2lmKGUubGVuZ3RoJTI9PTEmJihlPSIwIitlKSx0PDEyOClyZXR1cm4gZTt2YXIgaT1lLmxlbmd0aC8yO2lmKDE1PGkpdGhyb3ciQVNOLjEgbGVuZ3RoIHRvbyBsb25nIHRvIHJlcHJlc2VudCBieSA4eDogbiA9ICIrdC50b1N0cmluZygxNik7cmV0dXJuKDEyOCtpKS50b1N0cmluZygxNikrZX0sdGhpcy5nZXRFbmNvZGVkSGV4PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuaFRMViYmIXRoaXMuaXNNb2RpZmllZHx8KHRoaXMuaFY9dGhpcy5nZXRGcmVzaFZhbHVlSGV4KCksdGhpcy5oTD10aGlzLmdldExlbmd0aEhleEZyb21WYWx1ZSgpLHRoaXMuaFRMVj10aGlzLmhUK3RoaXMuaEwrdGhpcy5oVix0aGlzLmlzTW9kaWZpZWQ9ITEpLHRoaXMuaFRMVn0sdGhpcy5nZXRWYWx1ZUhleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEVuY29kZWRIZXgoKSx0aGlzLmhWfSx0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4iIn19LHB0LmFzbjEuREVSQWJzdHJhY3RTdHJpbmc9ZnVuY3Rpb24odCl7cHQuYXNuMS5ERVJBYnN0cmFjdFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5nZXRTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zfSx0aGlzLnNldFN0cmluZz1mdW5jdGlvbih0KXt0aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5zPXQsdGhpcy5oVj1zdG9oZXgodGhpcy5zKX0sdGhpcy5zZXRTdHJpbmdIZXg9ZnVuY3Rpb24odCl7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMucz1udWxsLHRoaXMuaFY9dH0sdGhpcy5nZXRGcmVzaFZhbHVlSGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaFZ9LHZvaWQgMCE9PXQmJigic3RyaW5nIj09dHlwZW9mIHQ/dGhpcy5zZXRTdHJpbmcodCk6dm9pZCAwIT09dC5zdHI/dGhpcy5zZXRTdHJpbmcodC5zdHIpOnZvaWQgMCE9PXQuaGV4JiZ0aGlzLnNldFN0cmluZ0hleCh0LmhleCkpfSxsdC5sYW5nLmV4dGVuZChwdC5hc24xLkRFUkFic3RyYWN0U3RyaW5nLHB0LmFzbjEuQVNOMU9iamVjdCkscHQuYXNuMS5ERVJBYnN0cmFjdFRpbWU9ZnVuY3Rpb24odCl7cHQuYXNuMS5ERVJBYnN0cmFjdFRpbWUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMubG9jYWxEYXRlVG9VVEM9ZnVuY3Rpb24odCl7cmV0dXJuIHV0Yz10LmdldFRpbWUoKSs2ZTQqdC5nZXRUaW1lem9uZU9mZnNldCgpLG5ldyBEYXRlKHV0Yyl9LHRoaXMuZm9ybWF0RGF0ZT1mdW5jdGlvbih0LGUsaSl7dmFyIHI9dGhpcy56ZXJvUGFkZGluZyxuPXRoaXMubG9jYWxEYXRlVG9VVEModCkscz1TdHJpbmcobi5nZXRGdWxsWWVhcigpKTsidXRjIj09ZSYmKHM9cy5zdWJzdHIoMiwyKSk7dmFyIG89cytyKFN0cmluZyhuLmdldE1vbnRoKCkrMSksMikrcihTdHJpbmcobi5nZXREYXRlKCkpLDIpK3IoU3RyaW5nKG4uZ2V0SG91cnMoKSksMikrcihTdHJpbmcobi5nZXRNaW51dGVzKCkpLDIpK3IoU3RyaW5nKG4uZ2V0U2Vjb25kcygpKSwyKTtpZighMD09PWkpe3ZhciBhPW4uZ2V0TWlsbGlzZWNvbmRzKCk7aWYoMCE9YSl7dmFyIGg9cihTdHJpbmcoYSksMyk7bz1vKyIuIisoaD1oLnJlcGxhY2UoL1swXSskLywiIikpfX1yZXR1cm4gbysiWiJ9LHRoaXMuemVyb1BhZGRpbmc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5sZW5ndGg+PWU/dDpuZXcgQXJyYXkoZS10Lmxlbmd0aCsxKS5qb2luKCIwIikrdH0sdGhpcy5nZXRTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zfSx0aGlzLnNldFN0cmluZz1mdW5jdGlvbih0KXt0aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5zPXQsdGhpcy5oVj1zdG9oZXgodCl9LHRoaXMuc2V0QnlEYXRlVmFsdWU9ZnVuY3Rpb24odCxlLGkscixuLHMpe3ZhciBvPW5ldyBEYXRlKERhdGUuVVRDKHQsZS0xLGkscixuLHMsMCkpO3RoaXMuc2V0QnlEYXRlKG8pfSx0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oVn19LGx0LmxhbmcuZXh0ZW5kKHB0LmFzbjEuREVSQWJzdHJhY3RUaW1lLHB0LmFzbjEuQVNOMU9iamVjdCkscHQuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWQ9ZnVuY3Rpb24odCl7cHQuYXNuMS5ERVJBYnN0cmFjdFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5zZXRCeUFTTjFPYmplY3RBcnJheT1mdW5jdGlvbih0KXt0aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5hc24xQXJyYXk9dH0sdGhpcy5hcHBlbmRBU04xT2JqZWN0PWZ1bmN0aW9uKHQpe3RoaXMuaFRMVj1udWxsLHRoaXMuaXNNb2RpZmllZD0hMCx0aGlzLmFzbjFBcnJheS5wdXNoKHQpfSx0aGlzLmFzbjFBcnJheT1uZXcgQXJyYXksdm9pZCAwIT09dCYmdm9pZCAwIT09dC5hcnJheSYmKHRoaXMuYXNuMUFycmF5PXQuYXJyYXkpfSxsdC5sYW5nLmV4dGVuZChwdC5hc24xLkRFUkFic3RyYWN0U3RydWN0dXJlZCxwdC5hc24xLkFTTjFPYmplY3QpLHB0LmFzbjEuREVSQm9vbGVhbj1mdW5jdGlvbigpe3B0LmFzbjEuREVSQm9vbGVhbi5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5oVD0iMDEiLHRoaXMuaFRMVj0iMDEwMWZmIn0sbHQubGFuZy5leHRlbmQocHQuYXNuMS5ERVJCb29sZWFuLHB0LmFzbjEuQVNOMU9iamVjdCkscHQuYXNuMS5ERVJJbnRlZ2VyPWZ1bmN0aW9uKHQpe3B0LmFzbjEuREVSSW50ZWdlci5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5oVD0iMDIiLHRoaXMuc2V0QnlCaWdJbnRlZ2VyPWZ1bmN0aW9uKHQpe3RoaXMuaFRMVj1udWxsLHRoaXMuaXNNb2RpZmllZD0hMCx0aGlzLmhWPXB0LmFzbjEuQVNOMVV0aWwuYmlnSW50VG9NaW5Ud29zQ29tcGxlbWVudHNIZXgodCl9LHRoaXMuc2V0QnlJbnRlZ2VyPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBNKFN0cmluZyh0KSwxMCk7dGhpcy5zZXRCeUJpZ0ludGVnZXIoZSl9LHRoaXMuc2V0VmFsdWVIZXg9ZnVuY3Rpb24odCl7dGhpcy5oVj10fSx0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oVn0sdm9pZCAwIT09dCYmKHZvaWQgMCE9PXQuYmlnaW50P3RoaXMuc2V0QnlCaWdJbnRlZ2VyKHQuYmlnaW50KTp2b2lkIDAhPT10LmludD90aGlzLnNldEJ5SW50ZWdlcih0LmludCk6Im51bWJlciI9PXR5cGVvZiB0P3RoaXMuc2V0QnlJbnRlZ2VyKHQpOnZvaWQgMCE9PXQuaGV4JiZ0aGlzLnNldFZhbHVlSGV4KHQuaGV4KSl9LGx0LmxhbmcuZXh0ZW5kKHB0LmFzbjEuREVSSW50ZWdlcixwdC5hc24xLkFTTjFPYmplY3QpLHB0LmFzbjEuREVSQml0U3RyaW5nPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMCE9PXQmJnZvaWQgMCE9PXQub2JqKXt2YXIgZT1wdC5hc24xLkFTTjFVdGlsLm5ld09iamVjdCh0Lm9iaik7dC5oZXg9IjAwIitlLmdldEVuY29kZWRIZXgoKX1wdC5hc24xLkRFUkJpdFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5oVD0iMDMiLHRoaXMuc2V0SGV4VmFsdWVJbmNsdWRpbmdVbnVzZWRCaXRzPWZ1bmN0aW9uKHQpe3RoaXMuaFRMVj1udWxsLHRoaXMuaXNNb2RpZmllZD0hMCx0aGlzLmhWPXR9LHRoaXMuc2V0VW51c2VkQml0c0FuZEhleFZhbHVlPWZ1bmN0aW9uKHQsZSl7aWYodDwwfHw3PHQpdGhyb3cidW51c2VkIGJpdHMgc2hhbGwgYmUgZnJvbSAwIHRvIDc6IHUgPSAiK3Q7dmFyIGk9IjAiK3Q7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMuaFY9aStlfSx0aGlzLnNldEJ5QmluYXJ5U3RyaW5nPWZ1bmN0aW9uKHQpe3ZhciBlPTgtKHQ9dC5yZXBsYWNlKC8wKyQvLCIiKSkubGVuZ3RoJTg7OD09ZSYmKGU9MCk7Zm9yKHZhciBpPTA7aTw9ZTtpKyspdCs9IjAiO3ZhciByPSIiO2ZvcihpPTA7aTx0Lmxlbmd0aC0xO2krPTgpe3ZhciBuPXQuc3Vic3RyKGksOCkscz1wYXJzZUludChuLDIpLnRvU3RyaW5nKDE2KTsxPT1zLmxlbmd0aCYmKHM9IjAiK3MpLHIrPXN9dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMuaFY9IjAiK2Urcn0sdGhpcy5zZXRCeUJvb2xlYW5BcnJheT1mdW5jdGlvbih0KXtmb3IodmFyIGU9IiIsaT0wO2k8dC5sZW5ndGg7aSsrKTE9PXRbaV0/ZSs9IjEiOmUrPSIwIjt0aGlzLnNldEJ5QmluYXJ5U3RyaW5nKGUpfSx0aGlzLm5ld0ZhbHNlQXJyYXk9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBBcnJheSh0KSxpPTA7aTx0O2krKyllW2ldPSExO3JldHVybiBlfSx0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oVn0sdm9pZCAwIT09dCYmKCJzdHJpbmciPT10eXBlb2YgdCYmdC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9eWzAtOWEtZl0rJC8pP3RoaXMuc2V0SGV4VmFsdWVJbmNsdWRpbmdVbnVzZWRCaXRzKHQpOnZvaWQgMCE9PXQuaGV4P3RoaXMuc2V0SGV4VmFsdWVJbmNsdWRpbmdVbnVzZWRCaXRzKHQuaGV4KTp2b2lkIDAhPT10LmJpbj90aGlzLnNldEJ5QmluYXJ5U3RyaW5nKHQuYmluKTp2b2lkIDAhPT10LmFycmF5JiZ0aGlzLnNldEJ5Qm9vbGVhbkFycmF5KHQuYXJyYXkpKX0sbHQubGFuZy5leHRlbmQocHQuYXNuMS5ERVJCaXRTdHJpbmcscHQuYXNuMS5BU04xT2JqZWN0KSxwdC5hc24xLkRFUk9jdGV0U3RyaW5nPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMCE9PXQmJnZvaWQgMCE9PXQub2JqKXt2YXIgZT1wdC5hc24xLkFTTjFVdGlsLm5ld09iamVjdCh0Lm9iaik7dC5oZXg9ZS5nZXRFbmNvZGVkSGV4KCl9cHQuYXNuMS5ERVJPY3RldFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0KSx0aGlzLmhUPSIwNCJ9LGx0LmxhbmcuZXh0ZW5kKHB0LmFzbjEuREVST2N0ZXRTdHJpbmcscHQuYXNuMS5ERVJBYnN0cmFjdFN0cmluZykscHQuYXNuMS5ERVJOdWxsPWZ1bmN0aW9uKCl7cHQuYXNuMS5ERVJOdWxsLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLmhUPSIwNSIsdGhpcy5oVExWPSIwNTAwIn0sbHQubGFuZy5leHRlbmQocHQuYXNuMS5ERVJOdWxsLHB0LmFzbjEuQVNOMU9iamVjdCkscHQuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGEodCl7dmFyIGU9dC50b1N0cmluZygxNik7cmV0dXJuIDE9PWUubGVuZ3RoJiYoZT0iMCIrZSksZX1mdW5jdGlvbiBzKHQpe3ZhciBlPSIiLGk9bmV3IE0odCwxMCkudG9TdHJpbmcoMikscj03LWkubGVuZ3RoJTc7Nz09ciYmKHI9MCk7Zm9yKHZhciBuPSIiLHM9MDtzPHI7cysrKW4rPSIwIjtmb3IoaT1uK2kscz0wO3M8aS5sZW5ndGgtMTtzKz03KXt2YXIgbz1pLnN1YnN0cihzLDcpO3MhPWkubGVuZ3RoLTcmJihvPSIxIitvKSxlKz1hKHBhcnNlSW50KG8sMikpfXJldHVybiBlfXB0LmFzbjEuREVST2JqZWN0SWRlbnRpZmllci5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5oVD0iMDYiLHRoaXMuc2V0VmFsdWVIZXg9ZnVuY3Rpb24odCl7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMucz1udWxsLHRoaXMuaFY9dH0sdGhpcy5zZXRWYWx1ZU9pZFN0cmluZz1mdW5jdGlvbih0KXtpZighdC5tYXRjaCgvXlswLTkuXSskLykpdGhyb3cibWFsZm9ybWVkIG9pZCBzdHJpbmc6ICIrdDt2YXIgZT0iIixpPXQuc3BsaXQoIi4iKSxyPTQwKnBhcnNlSW50KGlbMF0pK3BhcnNlSW50KGlbMV0pO2UrPWEociksaS5zcGxpY2UoMCwyKTtmb3IodmFyIG49MDtuPGkubGVuZ3RoO24rKyllKz1zKGlbbl0pO3RoaXMuaFRMVj1udWxsLHRoaXMuaXNNb2RpZmllZD0hMCx0aGlzLnM9bnVsbCx0aGlzLmhWPWV9LHRoaXMuc2V0VmFsdWVOYW1lPWZ1bmN0aW9uKHQpe3ZhciBlPXB0LmFzbjEueDUwOS5PSUQubmFtZTJvaWQodCk7aWYoIiI9PT1lKXRocm93IkRFUk9iamVjdElkZW50aWZpZXIgb2lkTmFtZSB1bmRlZmluZWQ6ICIrdDt0aGlzLnNldFZhbHVlT2lkU3RyaW5nKGUpfSx0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oVn0sdm9pZCAwIT09dCYmKCJzdHJpbmciPT10eXBlb2YgdD90Lm1hdGNoKC9eWzAtMl0uWzAtOS5dKyQvKT90aGlzLnNldFZhbHVlT2lkU3RyaW5nKHQpOnRoaXMuc2V0VmFsdWVOYW1lKHQpOnZvaWQgMCE9PXQub2lkP3RoaXMuc2V0VmFsdWVPaWRTdHJpbmcodC5vaWQpOnZvaWQgMCE9PXQuaGV4P3RoaXMuc2V0VmFsdWVIZXgodC5oZXgpOnZvaWQgMCE9PXQubmFtZSYmdGhpcy5zZXRWYWx1ZU5hbWUodC5uYW1lKSl9LGx0LmxhbmcuZXh0ZW5kKHB0LmFzbjEuREVST2JqZWN0SWRlbnRpZmllcixwdC5hc24xLkFTTjFPYmplY3QpLHB0LmFzbjEuREVSRW51bWVyYXRlZD1mdW5jdGlvbih0KXtwdC5hc24xLkRFUkVudW1lcmF0ZWQuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMuaFQ9IjBhIix0aGlzLnNldEJ5QmlnSW50ZWdlcj1mdW5jdGlvbih0KXt0aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5oVj1wdC5hc24xLkFTTjFVdGlsLmJpZ0ludFRvTWluVHdvc0NvbXBsZW1lbnRzSGV4KHQpfSx0aGlzLnNldEJ5SW50ZWdlcj1mdW5jdGlvbih0KXt2YXIgZT1uZXcgTShTdHJpbmcodCksMTApO3RoaXMuc2V0QnlCaWdJbnRlZ2VyKGUpfSx0aGlzLnNldFZhbHVlSGV4PWZ1bmN0aW9uKHQpe3RoaXMuaFY9dH0sdGhpcy5nZXRGcmVzaFZhbHVlSGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaFZ9LHZvaWQgMCE9PXQmJih2b2lkIDAhPT10LmludD90aGlzLnNldEJ5SW50ZWdlcih0LmludCk6Im51bWJlciI9PXR5cGVvZiB0P3RoaXMuc2V0QnlJbnRlZ2VyKHQpOnZvaWQgMCE9PXQuaGV4JiZ0aGlzLnNldFZhbHVlSGV4KHQuaGV4KSl9LGx0LmxhbmcuZXh0ZW5kKHB0LmFzbjEuREVSRW51bWVyYXRlZCxwdC5hc24xLkFTTjFPYmplY3QpLHB0LmFzbjEuREVSVVRGOFN0cmluZz1mdW5jdGlvbih0KXtwdC5hc24xLkRFUlVURjhTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCksdGhpcy5oVD0iMGMifSxsdC5sYW5nLmV4dGVuZChwdC5hc24xLkRFUlVURjhTdHJpbmcscHQuYXNuMS5ERVJBYnN0cmFjdFN0cmluZykscHQuYXNuMS5ERVJOdW1lcmljU3RyaW5nPWZ1bmN0aW9uKHQpe3B0LmFzbjEuREVSTnVtZXJpY1N0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0KSx0aGlzLmhUPSIxMiJ9LGx0LmxhbmcuZXh0ZW5kKHB0LmFzbjEuREVSTnVtZXJpY1N0cmluZyxwdC5hc24xLkRFUkFic3RyYWN0U3RyaW5nKSxwdC5hc24xLkRFUlByaW50YWJsZVN0cmluZz1mdW5jdGlvbih0KXtwdC5hc24xLkRFUlByaW50YWJsZVN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0KSx0aGlzLmhUPSIxMyJ9LGx0LmxhbmcuZXh0ZW5kKHB0LmFzbjEuREVSUHJpbnRhYmxlU3RyaW5nLHB0LmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpLHB0LmFzbjEuREVSVGVsZXRleFN0cmluZz1mdW5jdGlvbih0KXtwdC5hc24xLkRFUlRlbGV0ZXhTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCksdGhpcy5oVD0iMTQifSxsdC5sYW5nLmV4dGVuZChwdC5hc24xLkRFUlRlbGV0ZXhTdHJpbmcscHQuYXNuMS5ERVJBYnN0cmFjdFN0cmluZykscHQuYXNuMS5ERVJJQTVTdHJpbmc9ZnVuY3Rpb24odCl7cHQuYXNuMS5ERVJJQTVTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCksdGhpcy5oVD0iMTYifSxsdC5sYW5nLmV4dGVuZChwdC5hc24xLkRFUklBNVN0cmluZyxwdC5hc24xLkRFUkFic3RyYWN0U3RyaW5nKSxwdC5hc24xLkRFUlVUQ1RpbWU9ZnVuY3Rpb24odCl7cHQuYXNuMS5ERVJVVENUaW1lLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQpLHRoaXMuaFQ9IjE3Iix0aGlzLnNldEJ5RGF0ZT1mdW5jdGlvbih0KXt0aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5kYXRlPXQsdGhpcy5zPXRoaXMuZm9ybWF0RGF0ZSh0aGlzLmRhdGUsInV0YyIpLHRoaXMuaFY9c3RvaGV4KHRoaXMucyl9LHRoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10aGlzLmRhdGUmJnZvaWQgMD09PXRoaXMucyYmKHRoaXMuZGF0ZT1uZXcgRGF0ZSx0aGlzLnM9dGhpcy5mb3JtYXREYXRlKHRoaXMuZGF0ZSwidXRjIiksdGhpcy5oVj1zdG9oZXgodGhpcy5zKSksdGhpcy5oVn0sdm9pZCAwIT09dCYmKHZvaWQgMCE9PXQuc3RyP3RoaXMuc2V0U3RyaW5nKHQuc3RyKToic3RyaW5nIj09dHlwZW9mIHQmJnQubWF0Y2goL15bMC05XXsxMn1aJC8pP3RoaXMuc2V0U3RyaW5nKHQpOnZvaWQgMCE9PXQuaGV4P3RoaXMuc2V0U3RyaW5nSGV4KHQuaGV4KTp2b2lkIDAhPT10LmRhdGUmJnRoaXMuc2V0QnlEYXRlKHQuZGF0ZSkpfSxsdC5sYW5nLmV4dGVuZChwdC5hc24xLkRFUlVUQ1RpbWUscHQuYXNuMS5ERVJBYnN0cmFjdFRpbWUpLHB0LmFzbjEuREVSR2VuZXJhbGl6ZWRUaW1lPWZ1bmN0aW9uKHQpe3B0LmFzbjEuREVSR2VuZXJhbGl6ZWRUaW1lLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQpLHRoaXMuaFQ9IjE4Iix0aGlzLndpdGhNaWxsaXM9ITEsdGhpcy5zZXRCeURhdGU9ZnVuY3Rpb24odCl7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMuZGF0ZT10LHRoaXMucz10aGlzLmZvcm1hdERhdGUodGhpcy5kYXRlLCJnZW4iLHRoaXMud2l0aE1pbGxpcyksdGhpcy5oVj1zdG9oZXgodGhpcy5zKX0sdGhpcy5nZXRGcmVzaFZhbHVlSGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuZGF0ZSYmdm9pZCAwPT09dGhpcy5zJiYodGhpcy5kYXRlPW5ldyBEYXRlLHRoaXMucz10aGlzLmZvcm1hdERhdGUodGhpcy5kYXRlLCJnZW4iLHRoaXMud2l0aE1pbGxpcyksdGhpcy5oVj1zdG9oZXgodGhpcy5zKSksdGhpcy5oVn0sdm9pZCAwIT09dCYmKHZvaWQgMCE9PXQuc3RyP3RoaXMuc2V0U3RyaW5nKHQuc3RyKToic3RyaW5nIj09dHlwZW9mIHQmJnQubWF0Y2goL15bMC05XXsxNH1aJC8pP3RoaXMuc2V0U3RyaW5nKHQpOnZvaWQgMCE9PXQuaGV4P3RoaXMuc2V0U3RyaW5nSGV4KHQuaGV4KTp2b2lkIDAhPT10LmRhdGUmJnRoaXMuc2V0QnlEYXRlKHQuZGF0ZSksITA9PT10Lm1pbGxpcyYmKHRoaXMud2l0aE1pbGxpcz0hMCkpfSxsdC5sYW5nLmV4dGVuZChwdC5hc24xLkRFUkdlbmVyYWxpemVkVGltZSxwdC5hc24xLkRFUkFic3RyYWN0VGltZSkscHQuYXNuMS5ERVJTZXF1ZW5jZT1mdW5jdGlvbih0KXtwdC5hc24xLkRFUlNlcXVlbmNlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQpLHRoaXMuaFQ9IjMwIix0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9IiIsZT0wO2U8dGhpcy5hc24xQXJyYXkubGVuZ3RoO2UrKyl7dCs9dGhpcy5hc24xQXJyYXlbZV0uZ2V0RW5jb2RlZEhleCgpfXJldHVybiB0aGlzLmhWPXQsdGhpcy5oVn19LGx0LmxhbmcuZXh0ZW5kKHB0LmFzbjEuREVSU2VxdWVuY2UscHQuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWQpLHB0LmFzbjEuREVSU2V0PWZ1bmN0aW9uKHQpe3B0LmFzbjEuREVSU2V0LnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQpLHRoaXMuaFQ9IjMxIix0aGlzLnNvcnRGbGFnPSEwLHRoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgQXJyYXksZT0wO2U8dGhpcy5hc24xQXJyYXkubGVuZ3RoO2UrKyl7dmFyIGk9dGhpcy5hc24xQXJyYXlbZV07dC5wdXNoKGkuZ2V0RW5jb2RlZEhleCgpKX1yZXR1cm4gMT09dGhpcy5zb3J0RmxhZyYmdC5zb3J0KCksdGhpcy5oVj10LmpvaW4oIiIpLHRoaXMuaFZ9LHZvaWQgMCE9PXQmJnZvaWQgMCE9PXQuc29ydGZsYWcmJjA9PXQuc29ydGZsYWcmJih0aGlzLnNvcnRGbGFnPSExKX0sbHQubGFuZy5leHRlbmQocHQuYXNuMS5ERVJTZXQscHQuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWQpLHB0LmFzbjEuREVSVGFnZ2VkT2JqZWN0PWZ1bmN0aW9uKHQpe3B0LmFzbjEuREVSVGFnZ2VkT2JqZWN0LnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLmhUPSJhMCIsdGhpcy5oVj0iIix0aGlzLmlzRXhwbGljaXQ9ITAsdGhpcy5hc24xT2JqZWN0PW51bGwsdGhpcy5zZXRBU04xT2JqZWN0PWZ1bmN0aW9uKHQsZSxpKXt0aGlzLmhUPWUsdGhpcy5pc0V4cGxpY2l0PXQsdGhpcy5hc24xT2JqZWN0PWksdGhpcy5pc0V4cGxpY2l0Pyh0aGlzLmhWPXRoaXMuYXNuMU9iamVjdC5nZXRFbmNvZGVkSGV4KCksdGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwKToodGhpcy5oVj1udWxsLHRoaXMuaFRMVj1pLmdldEVuY29kZWRIZXgoKSx0aGlzLmhUTFY9dGhpcy5oVExWLnJlcGxhY2UoL14uLi8sZSksdGhpcy5pc01vZGlmaWVkPSExKX0sdGhpcy5nZXRGcmVzaFZhbHVlSGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaFZ9LHZvaWQgMCE9PXQmJih2b2lkIDAhPT10LnRhZyYmKHRoaXMuaFQ9dC50YWcpLHZvaWQgMCE9PXQuZXhwbGljaXQmJih0aGlzLmlzRXhwbGljaXQ9dC5leHBsaWNpdCksdm9pZCAwIT09dC5vYmomJih0aGlzLmFzbjFPYmplY3Q9dC5vYmosdGhpcy5zZXRBU04xT2JqZWN0KHRoaXMuaXNFeHBsaWNpdCx0aGlzLmhULHRoaXMuYXNuMU9iamVjdCkpKX0sbHQubGFuZy5leHRlbmQocHQuYXNuMS5ERVJUYWdnZWRPYmplY3QscHQuYXNuMS5BU04xT2JqZWN0KTt2YXIgZHQsZ3QsX3QsdnQ9KHAoZ3Q9eXQsX3Q9ZHQ9dXQpLGd0LnByb3RvdHlwZT1udWxsPT09X3Q/T2JqZWN0LmNyZWF0ZShfdCk6KG10LnByb3RvdHlwZT1fdC5wcm90b3R5cGUsbmV3IG10KSx5dC5wcm90b3R5cGUucGFyc2VLZXk9ZnVuY3Rpb24odCl7dHJ5e3ZhciBlPTAsaT0wLHI9L15ccyooPzpbMC05QS1GYS1mXVswLTlBLUZhLWZdXHMqKSskLy50ZXN0KHQpP2codCk6Xy51bmFybW9yKHQpLG49Qi5kZWNvZGUocik7aWYoMz09PW4uc3ViLmxlbmd0aCYmKG49bi5zdWJbMl0uc3ViWzBdKSw5PT09bi5zdWIubGVuZ3RoKXtlPW4uc3ViWzFdLmdldEhleFN0cmluZ1ZhbHVlKCksdGhpcy5uPUYoZSwxNiksaT1uLnN1YlsyXS5nZXRIZXhTdHJpbmdWYWx1ZSgpLHRoaXMuZT1wYXJzZUludChpLDE2KTt2YXIgcz1uLnN1YlszXS5nZXRIZXhTdHJpbmdWYWx1ZSgpO3RoaXMuZD1GKHMsMTYpO3ZhciBvPW4uc3ViWzRdLmdldEhleFN0cmluZ1ZhbHVlKCk7dGhpcy5wPUYobywxNik7dmFyIGE9bi5zdWJbNV0uZ2V0SGV4U3RyaW5nVmFsdWUoKTt0aGlzLnE9RihhLDE2KTt2YXIgaD1uLnN1Yls2XS5nZXRIZXhTdHJpbmdWYWx1ZSgpO3RoaXMuZG1wMT1GKGgsMTYpO3ZhciB1PW4uc3ViWzddLmdldEhleFN0cmluZ1ZhbHVlKCk7dGhpcy5kbXExPUYodSwxNik7dmFyIGM9bi5zdWJbOF0uZ2V0SGV4U3RyaW5nVmFsdWUoKTt0aGlzLmNvZWZmPUYoYywxNil9ZWxzZXtpZigyIT09bi5zdWIubGVuZ3RoKXJldHVybiExO3ZhciBmPW4uc3ViWzFdLnN1YlswXTtlPWYuc3ViWzBdLmdldEhleFN0cmluZ1ZhbHVlKCksdGhpcy5uPUYoZSwxNiksaT1mLnN1YlsxXS5nZXRIZXhTdHJpbmdWYWx1ZSgpLHRoaXMuZT1wYXJzZUludChpLDE2KX1yZXR1cm4hMH1jYXRjaCh0KXtyZXR1cm4hMX19LHl0LnByb3RvdHlwZS5nZXRQcml2YXRlQmFzZUtleT1mdW5jdGlvbigpe3ZhciB0PXthcnJheTpbbmV3IHB0LmFzbjEuREVSSW50ZWdlcih7aW50OjB9KSxuZXcgcHQuYXNuMS5ERVJJbnRlZ2VyKHtiaWdpbnQ6dGhpcy5ufSksbmV3IHB0LmFzbjEuREVSSW50ZWdlcih7aW50OnRoaXMuZX0pLG5ldyBwdC5hc24xLkRFUkludGVnZXIoe2JpZ2ludDp0aGlzLmR9KSxuZXcgcHQuYXNuMS5ERVJJbnRlZ2VyKHtiaWdpbnQ6dGhpcy5wfSksbmV3IHB0LmFzbjEuREVSSW50ZWdlcih7YmlnaW50OnRoaXMucX0pLG5ldyBwdC5hc24xLkRFUkludGVnZXIoe2JpZ2ludDp0aGlzLmRtcDF9KSxuZXcgcHQuYXNuMS5ERVJJbnRlZ2VyKHtiaWdpbnQ6dGhpcy5kbXExfSksbmV3IHB0LmFzbjEuREVSSW50ZWdlcih7YmlnaW50OnRoaXMuY29lZmZ9KV19O3JldHVybiBuZXcgcHQuYXNuMS5ERVJTZXF1ZW5jZSh0KS5nZXRFbmNvZGVkSGV4KCl9LHl0LnByb3RvdHlwZS5nZXRQcml2YXRlQmFzZUtleUI2ND1mdW5jdGlvbigpe3JldHVybiBjKHRoaXMuZ2V0UHJpdmF0ZUJhc2VLZXkoKSl9LHl0LnByb3RvdHlwZS5nZXRQdWJsaWNCYXNlS2V5PWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHB0LmFzbjEuREVSU2VxdWVuY2Uoe2FycmF5OltuZXcgcHQuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyKHtvaWQ6IjEuMi44NDAuMTEzNTQ5LjEuMS4xIn0pLG5ldyBwdC5hc24xLkRFUk51bGxdfSksZT1uZXcgcHQuYXNuMS5ERVJTZXF1ZW5jZSh7YXJyYXk6W25ldyBwdC5hc24xLkRFUkludGVnZXIoe2JpZ2ludDp0aGlzLm59KSxuZXcgcHQuYXNuMS5ERVJJbnRlZ2VyKHtpbnQ6dGhpcy5lfSldfSksaT1uZXcgcHQuYXNuMS5ERVJCaXRTdHJpbmcoe2hleDoiMDAiK2UuZ2V0RW5jb2RlZEhleCgpfSk7cmV0dXJuIG5ldyBwdC5hc24xLkRFUlNlcXVlbmNlKHthcnJheTpbdCxpXX0pLmdldEVuY29kZWRIZXgoKX0seXQucHJvdG90eXBlLmdldFB1YmxpY0Jhc2VLZXlCNjQ9ZnVuY3Rpb24oKXtyZXR1cm4gYyh0aGlzLmdldFB1YmxpY0Jhc2VLZXkoKSl9LHl0LndvcmR3cmFwPWZ1bmN0aW9uKHQsZSl7aWYoIXQpcmV0dXJuIHQ7dmFyIGk9IiguezEsIisoZT1lfHw2NCkrIn0pKCArfCRcbj8pfCguezEsIitlKyJ9KSI7cmV0dXJuIHQubWF0Y2goUmVnRXhwKGksImciKSkuam9pbigiXG4iKX0seXQucHJvdG90eXBlLmdldFByaXZhdGVLZXk9ZnVuY3Rpb24oKXt2YXIgdD0iLS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLVxuIjtyZXR1cm4gdCs9eXQud29yZHdyYXAodGhpcy5nZXRQcml2YXRlQmFzZUtleUI2NCgpKSsiXG4iLHQrPSItLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLSJ9LHl0LnByb3RvdHlwZS5nZXRQdWJsaWNLZXk9ZnVuY3Rpb24oKXt2YXIgdD0iLS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS1cbiI7cmV0dXJuIHQrPXl0LndvcmR3cmFwKHRoaXMuZ2V0UHVibGljQmFzZUtleUI2NCgpKSsiXG4iLHQrPSItLS0tLUVORCBQVUJMSUMgS0VZLS0tLS0ifSx5dC5oYXNQdWJsaWNLZXlQcm9wZXJ0eT1mdW5jdGlvbih0KXtyZXR1cm4odD10fHx7fSkuaGFzT3duUHJvcGVydHkoIm4iKSYmdC5oYXNPd25Qcm9wZXJ0eSgiZSIpfSx5dC5oYXNQcml2YXRlS2V5UHJvcGVydHk9ZnVuY3Rpb24odCl7cmV0dXJuKHQ9dHx8e30pLmhhc093blByb3BlcnR5KCJuIikmJnQuaGFzT3duUHJvcGVydHkoImUiKSYmdC5oYXNPd25Qcm9wZXJ0eSgiZCIpJiZ0Lmhhc093blByb3BlcnR5KCJwIikmJnQuaGFzT3duUHJvcGVydHkoInEiKSYmdC5oYXNPd25Qcm9wZXJ0eSgiZG1wMSIpJiZ0Lmhhc093blByb3BlcnR5KCJkbXExIikmJnQuaGFzT3duUHJvcGVydHkoImNvZWZmIil9LHl0LnByb3RvdHlwZS5wYXJzZVByb3BlcnRpZXNGcm9tPWZ1bmN0aW9uKHQpe3RoaXMubj10Lm4sdGhpcy5lPXQuZSx0Lmhhc093blByb3BlcnR5KCJkIikmJih0aGlzLmQ9dC5kLHRoaXMucD10LnAsdGhpcy5xPXQucSx0aGlzLmRtcDE9dC5kbXAxLHRoaXMuZG1xMT10LmRtcTEsdGhpcy5jb2VmZj10LmNvZWZmKX0seXQpO2Z1bmN0aW9uIG10KCl7dGhpcy5jb25zdHJ1Y3Rvcj1ndH1mdW5jdGlvbiB5dCh0KXt2YXIgZT1kdC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiB0JiYoInN0cmluZyI9PXR5cGVvZiB0P2UucGFyc2VLZXkodCk6KHl0Lmhhc1ByaXZhdGVLZXlQcm9wZXJ0eSh0KXx8eXQuaGFzUHVibGljS2V5UHJvcGVydHkodCkpJiZlLnBhcnNlUHJvcGVydGllc0Zyb20odCkpLGV9dmFyIGJ0PShFdC5wcm90b3R5cGUuc2V0S2V5PWZ1bmN0aW9uKHQpe3RoaXMubG9nJiZ0aGlzLmtleSYmY29uc29sZS53YXJuKCJBIGtleSB3YXMgYWxyZWFkeSBzZXQsIG92ZXJyaWRpbmcgZXhpc3RpbmcuIiksdGhpcy5rZXk9bmV3IHZ0KHQpfSxFdC5wcm90b3R5cGUuc2V0UHJpdmF0ZUtleT1mdW5jdGlvbih0KXt0aGlzLnNldEtleSh0KX0sRXQucHJvdG90eXBlLnNldFB1YmxpY0tleT1mdW5jdGlvbih0KXt0aGlzLnNldEtleSh0KX0sRXQucHJvdG90eXBlLmRlY3J5cHQ9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiB0aGlzLmdldEtleSgpLmRlY3J5cHQoZih0KSl9Y2F0Y2godCl7cmV0dXJuITF9fSxFdC5wcm90b3R5cGUuZW5jcnlwdD1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIGModGhpcy5nZXRLZXkoKS5lbmNyeXB0KHQpKX1jYXRjaCh0KXtyZXR1cm4hMX19LEV0LnByb3RvdHlwZS5zaWduPWZ1bmN0aW9uKHQsZSxpKXt0cnl7cmV0dXJuIGModGhpcy5nZXRLZXkoKS5zaWduKHQsZSxpKSl9Y2F0Y2godCl7cmV0dXJuITF9fSxFdC5wcm90b3R5cGUudmVyaWZ5PWZ1bmN0aW9uKHQsZSxpKXt0cnl7cmV0dXJuIHRoaXMuZ2V0S2V5KCkudmVyaWZ5KHQsZihlKSxpKX1jYXRjaCh0KXtyZXR1cm4hMX19LEV0LnByb3RvdHlwZS5nZXRLZXk9ZnVuY3Rpb24odCl7aWYoIXRoaXMua2V5KXtpZih0aGlzLmtleT1uZXcgdnQsdCYmIltvYmplY3QgRnVuY3Rpb25dIj09PXt9LnRvU3RyaW5nLmNhbGwodCkpcmV0dXJuIHZvaWQgdGhpcy5rZXkuZ2VuZXJhdGVBc3luYyh0aGlzLmRlZmF1bHRfa2V5X3NpemUsdGhpcy5kZWZhdWx0X3B1YmxpY19leHBvbmVudCx0KTt0aGlzLmtleS5nZW5lcmF0ZSh0aGlzLmRlZmF1bHRfa2V5X3NpemUsdGhpcy5kZWZhdWx0X3B1YmxpY19leHBvbmVudCl9cmV0dXJuIHRoaXMua2V5fSxFdC5wcm90b3R5cGUuZ2V0UHJpdmF0ZUtleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEtleSgpLmdldFByaXZhdGVLZXkoKX0sRXQucHJvdG90eXBlLmdldFByaXZhdGVLZXlCNjQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRLZXkoKS5nZXRQcml2YXRlQmFzZUtleUI2NCgpfSxFdC5wcm90b3R5cGUuZ2V0UHVibGljS2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0S2V5KCkuZ2V0UHVibGljS2V5KCl9LEV0LnByb3RvdHlwZS5nZXRQdWJsaWNLZXlCNjQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRLZXkoKS5nZXRQdWJsaWNCYXNlS2V5QjY0KCl9LEV0LnZlcnNpb249IjMuMC4wLXJjLjEiLEV0KTtmdW5jdGlvbiBFdCh0KXt0PXR8fHt9LHRoaXMuZGVmYXVsdF9rZXlfc2l6ZT1wYXJzZUludCh0LmRlZmF1bHRfa2V5X3NpemUsMTApfHwxMDI0LHRoaXMuZGVmYXVsdF9wdWJsaWNfZXhwb25lbnQ9dC5kZWZhdWx0X3B1YmxpY19leHBvbmVudHx8IjAxMDAwMSIsdGhpcy5sb2c9dC5sb2d8fCExLHRoaXMua2V5PW51bGx9d2luZG93LkpTRW5jcnlwdD1idCx0LkpTRW5jcnlwdD1idCx0LmRlZmF1bHQ9YnQsT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSkoZSl9LDU3OmZ1bmN0aW9uKHQsZSxpKXt2YXIgcjtyPWZ1bmN0aW9uKGgpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgdD1oLGU9dC5saWIsaT1lLldvcmRBcnJheSxyPWUuSGFzaGVyLHM9dC5hbGdvLG89W10seT1bXTshZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe2Zvcih2YXIgZT1uLnNxcnQodCksaT0yO2k8PWU7aSsrKWlmKCEodCVpKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBlKHQpe3JldHVybiA0Mjk0OTY3Mjk2Kih0LSgwfHQpKXwwfWZvcih2YXIgaT0yLHI9MDtyPDY0Oyl0KGkpJiYocjw4JiYob1tyXT1lKG4ucG93KGksLjUpKSkseVtyXT1lKG4ucG93KGksMS8zKSkscisrKSxpKyt9KCk7dmFyIGI9W10sYT1zLlNIQTI1Nj1yLmV4dGVuZCh7X2RvUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9oYXNoPW5ldyBpLmluaXQoby5zbGljZSgwKSl9LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10aGlzLl9oYXNoLndvcmRzLHI9aVswXSxuPWlbMV0scz1pWzJdLG89aVszXSxhPWlbNF0saD1pWzVdLHU9aVs2XSxjPWlbN10sZj0wO2Y8NjQ7ZisrKXtpZihmPDE2KWJbZl09MHx0W2UrZl07ZWxzZXt2YXIgbD1iW2YtMTVdLHA9KGw8PDI1fGw+Pj43KV4obDw8MTR8bD4+PjE4KV5sPj4+MyxkPWJbZi0yXSxnPShkPDwxNXxkPj4+MTcpXihkPDwxM3xkPj4+MTkpXmQ+Pj4xMDtiW2ZdPXArYltmLTddK2crYltmLTE2XX12YXIgXz1yJm5eciZzXm4mcyx2PShyPDwzMHxyPj4+MileKHI8PDE5fHI+Pj4xMyleKHI8PDEwfHI+Pj4yMiksbT1jKygoYTw8MjZ8YT4+PjYpXihhPDwyMXxhPj4+MTEpXihhPDw3fGE+Pj4yNSkpKyhhJmhefmEmdSkreVtmXStiW2ZdO2M9dSx1PWgsaD1hLGE9byttfDAsbz1zLHM9bixuPXIscj1tKyh2K18pfDB9aVswXT1pWzBdK3J8MCxpWzFdPWlbMV0rbnwwLGlbMl09aVsyXStzfDAsaVszXT1pWzNdK298MCxpWzRdPWlbNF0rYXwwLGlbNV09aVs1XStofDAsaVs2XT1pWzZdK3V8MCxpWzddPWlbN10rY3wwfSxfZG9GaW5hbGl6ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2RhdGEsZT10LndvcmRzLGk9OCp0aGlzLl9uRGF0YUJ5dGVzLHI9OCp0LnNpZ0J5dGVzO3JldHVybiBlW3I+Pj41XXw9MTI4PDwyNC1yJTMyLGVbMTQrKDY0K3I+Pj45PDw0KV09bi5mbG9vcihpLzQyOTQ5NjcyOTYpLGVbMTUrKDY0K3I+Pj45PDw0KV09aSx0LnNpZ0J5dGVzPTQqZS5sZW5ndGgsdGhpcy5fcHJvY2VzcygpLHRoaXMuX2hhc2h9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIHQ9ci5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiB0Ll9oYXNoPXRoaXMuX2hhc2guY2xvbmUoKSx0fX0pO3QuU0hBMjU2PXIuX2NyZWF0ZUhlbHBlcihhKSx0LkhtYWNTSEEyNTY9ci5fY3JlYXRlSG1hY0hlbHBlcihhKX0oTWF0aCksaC5TSEEyNTZ9LHQuZXhwb3J0cz1yKGkoNTgpKX0sNTg6ZnVuY3Rpb24odCxlLGkpe3ZhciByO3I9ZnVuY3Rpb24oKXt2YXIgYyxpLHQsZSxyLGYsbixzLG8sYSxoLHUsbD1sfHwoYz1NYXRoLGk9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHAucHJvdG90eXBlPXQsZT1uZXcgcCxwLnByb3RvdHlwZT1udWxsLGV9LGU9KHQ9e30pLmxpYj17fSxyPWUuQmFzZT17ZXh0ZW5kOmZ1bmN0aW9uKHQpe3ZhciBlPWkodGhpcyk7cmV0dXJuIHQmJmUubWl4SW4odCksZS5oYXNPd25Qcm9wZXJ0eSgiaW5pdCIpJiZ0aGlzLmluaXQhPT1lLmluaXR8fChlLmluaXQ9ZnVuY3Rpb24oKXtlLiRzdXBlci5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLChlLmluaXQucHJvdG90eXBlPWUpLiRzdXBlcj10aGlzLGV9LGNyZWF0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZXh0ZW5kKCk7cmV0dXJuIHQuaW5pdC5hcHBseSh0LGFyZ3VtZW50cyksdH0saW5pdDpmdW5jdGlvbigpe30sbWl4SW46ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShlKSYmKHRoaXNbZV09dFtlXSk7dC5oYXNPd25Qcm9wZXJ0eSgidG9TdHJpbmciKSYmKHRoaXMudG9TdHJpbmc9dC50b1N0cmluZyl9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5pdC5wcm90b3R5cGUuZXh0ZW5kKHRoaXMpfX0sZj1lLldvcmRBcnJheT1yLmV4dGVuZCh7aW5pdDpmdW5jdGlvbih0LGUpe3Q9dGhpcy53b3Jkcz10fHxbXSx0aGlzLnNpZ0J5dGVzPW51bGwhPWU/ZTo0KnQubGVuZ3RofSx0b1N0cmluZzpmdW5jdGlvbih0KXtyZXR1cm4odHx8cykuc3RyaW5naWZ5KHRoaXMpfSxjb25jYXQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy53b3JkcyxpPXQud29yZHMscj10aGlzLnNpZ0J5dGVzLG49dC5zaWdCeXRlcztpZih0aGlzLmNsYW1wKCksciU0KWZvcih2YXIgcz0wO3M8bjtzKyspe3ZhciBvPWlbcz4+PjJdPj4+MjQtcyU0KjgmMjU1O2VbcitzPj4+Ml18PW88PDI0LShyK3MpJTQqOH1lbHNlIGZvcihzPTA7czxuO3MrPTQpZVtyK3M+Pj4yXT1pW3M+Pj4yXTtyZXR1cm4gdGhpcy5zaWdCeXRlcys9bix0aGlzfSxjbGFtcDpmdW5jdGlvbigpe3ZhciB0PXRoaXMud29yZHMsZT10aGlzLnNpZ0J5dGVzO3RbZT4+PjJdJj00Mjk0OTY3Mjk1PDwzMi1lJTQqOCx0Lmxlbmd0aD1jLmNlaWwoZS80KX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgdD1yLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIHQud29yZHM9dGhpcy53b3Jkcy5zbGljZSgwKSx0fSxyYW5kb206ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtlPWU7dmFyIGk9OTg3NjU0MzIxLHI9NDI5NDk2NzI5NTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD0oKGk9MzY5NjkqKDY1NTM1JmkpKyhpPj4xNikmcik8PDE2KSsoZT0xOGUzKig2NTUzNSZlKSsoZT4+MTYpJnIpJnI7cmV0dXJuIHQvPTQyOTQ5NjcyOTYsKHQrPS41KSooLjU8Yy5yYW5kb20oKT8xOi0xKX19Zm9yKHZhciBpLHI9W10sbj0wO248dDtuKz00KXt2YXIgcz1lKDQyOTQ5NjcyOTYqKGl8fGMucmFuZG9tKCkpKTtpPTk4NzY1NDA3MSpzKCksci5wdXNoKDQyOTQ5NjcyOTYqcygpfDApfXJldHVybiBuZXcgZi5pbml0KHIsdCl9fSksbj10LmVuYz17fSxzPW4uSGV4PXtzdHJpbmdpZnk6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQud29yZHMsaT10LnNpZ0J5dGVzLHI9W10sbj0wO248aTtuKyspe3ZhciBzPWVbbj4+PjJdPj4+MjQtbiU0KjgmMjU1O3IucHVzaCgocz4+PjQpLnRvU3RyaW5nKDE2KSksci5wdXNoKCgxNSZzKS50b1N0cmluZygxNikpfXJldHVybiByLmpvaW4oIiIpfSxwYXJzZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dC5sZW5ndGgsaT1bXSxyPTA7cjxlO3IrPTIpaVtyPj4+M118PXBhcnNlSW50KHQuc3Vic3RyKHIsMiksMTYpPDwyNC1yJTgqNDtyZXR1cm4gbmV3IGYuaW5pdChpLGUvMil9fSxvPW4uTGF0aW4xPXtzdHJpbmdpZnk6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQud29yZHMsaT10LnNpZ0J5dGVzLHI9W10sbj0wO248aTtuKyspe3ZhciBzPWVbbj4+PjJdPj4+MjQtbiU0KjgmMjU1O3IucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKHMpKX1yZXR1cm4gci5qb2luKCIiKX0scGFyc2U6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQubGVuZ3RoLGk9W10scj0wO3I8ZTtyKyspaVtyPj4+Ml18PSgyNTUmdC5jaGFyQ29kZUF0KHIpKTw8MjQtciU0Kjg7cmV0dXJuIG5ldyBmLmluaXQoaSxlKX19LGE9bi5VdGY4PXtzdHJpbmdpZnk6ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKG8uc3RyaW5naWZ5KHQpKSl9Y2F0Y2godCl7dGhyb3cgbmV3IEVycm9yKCJNYWxmb3JtZWQgVVRGLTggZGF0YSIpfX0scGFyc2U6ZnVuY3Rpb24odCl7cmV0dXJuIG8ucGFyc2UodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHQpKSl9fSxoPWUuQnVmZmVyZWRCbG9ja0FsZ29yaXRobT1yLmV4dGVuZCh7cmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhPW5ldyBmLmluaXQsdGhpcy5fbkRhdGFCeXRlcz0wfSxfYXBwZW5kOmZ1bmN0aW9uKHQpeyJzdHJpbmciPT10eXBlb2YgdCYmKHQ9YS5wYXJzZSh0KSksdGhpcy5fZGF0YS5jb25jYXQodCksdGhpcy5fbkRhdGFCeXRlcys9dC5zaWdCeXRlc30sX3Byb2Nlc3M6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZGF0YSxpPWUud29yZHMscj1lLnNpZ0J5dGVzLG49dGhpcy5ibG9ja1NpemUscz1yLyg0Km4pLG89KHM9dD9jLmNlaWwocyk6Yy5tYXgoKDB8cyktdGhpcy5fbWluQnVmZmVyU2l6ZSwwKSkqbixhPWMubWluKDQqbyxyKTtpZihvKXtmb3IodmFyIGg9MDtoPG87aCs9bil0aGlzLl9kb1Byb2Nlc3NCbG9jayhpLGgpO3ZhciB1PWkuc3BsaWNlKDAsbyk7ZS5zaWdCeXRlcy09YX1yZXR1cm4gbmV3IGYuaW5pdCh1LGEpfSxjbG9uZTpmdW5jdGlvbigpe3ZhciB0PXIuY2xvbmUuY2FsbCh0aGlzKTtyZXR1cm4gdC5fZGF0YT10aGlzLl9kYXRhLmNsb25lKCksdH0sX21pbkJ1ZmZlclNpemU6MH0pLGUuSGFzaGVyPWguZXh0ZW5kKHtjZmc6ci5leHRlbmQoKSxpbml0OmZ1bmN0aW9uKHQpe3RoaXMuY2ZnPXRoaXMuY2ZnLmV4dGVuZCh0KSx0aGlzLnJlc2V0KCl9LHJlc2V0OmZ1bmN0aW9uKCl7aC5yZXNldC5jYWxsKHRoaXMpLHRoaXMuX2RvUmVzZXQoKX0sdXBkYXRlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9hcHBlbmQodCksdGhpcy5fcHJvY2VzcygpLHRoaXN9LGZpbmFsaXplOmZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0aGlzLl9hcHBlbmQodCksdGhpcy5fZG9GaW5hbGl6ZSgpfSxibG9ja1NpemU6MTYsX2NyZWF0ZUhlbHBlcjpmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IGkuaW5pdChlKS5maW5hbGl6ZSh0KX19LF9jcmVhdGVIbWFjSGVscGVyOmZ1bmN0aW9uKGkpe3JldHVybiBmdW5jdGlvbih0LGUpe3JldHVybiBuZXcgdS5ITUFDLmluaXQoaSxlKS5maW5hbGl6ZSh0KX19fSksdT10LmFsZ289e30sdCk7ZnVuY3Rpb24gcCgpe31yZXR1cm4gbH0sdC5leHBvcnRzPXIoKX19LFsyODVdKTsKdXBianNDaHVuayhbMjI2XSx7MjkxOmZ1bmN0aW9uKGUscixuKXtlLmV4cG9ydHM9bigyOTIpfSwyOTI6ZnVuY3Rpb24oZSxyLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHIsImN1cnJlbmN5U3VwcG9ydEVuYWJsZWQiLGZ1bmN0aW9uKCl7cmV0dXJuIG19KSxuLmQociwiY3VycmVuY3lSYXRlcyIsZnVuY3Rpb24oKXtyZXR1cm4gUn0pLHIuc2V0Q29uZmlnPWMsci5hZGRCaWRSZXNwb25zZUhvb2s9dzt2YXIgYT1uKDIzKSx1PW4oNCkscz0obi5uKHUpLG4oNSkpLGY9bigwKSxvPW4oMyksZD1uKDEzKTtmdW5jdGlvbiBsKGUpe3JldHVybihsPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIHksZz0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3ByZWJpZC9jdXJyZW5jeS1maWxlQDEvbGF0ZXN0Lmpzb24/ZGF0ZT0kJFRPREFZJCQiLHY9NCxwPVtdLGI9e30saD0hMSxDPSEwLFM9IlVTRCIsbT0hMSxSPXt9LEQ9e307ZnVuY3Rpb24gYyhlKXt2YXIgcj1nO2lmKCJvYmplY3QiPT09bChlLnJhdGVzKSYmKFIuY29udmVyc2lvbnM9ZS5yYXRlcyxDPSEoaD0hMCkpLCJvYmplY3QiPT09bChlLmRlZmF1bHRSYXRlcykmJih5PWUuZGVmYXVsdFJhdGVzLFIuY29udmVyc2lvbnM9eSxoPSEwKSwic3RyaW5nIj09dHlwZW9mIGUuYWRTZXJ2ZXJDdXJyZW5jeSl7Zi5sb2dJbmZvKCJlbmFibGluZyBjdXJyZW5jeSBzdXBwb3J0Iixhcmd1bWVudHMpLFM9ZS5hZFNlcnZlckN1cnJlbmN5LGUuY29udmVyc2lvblJhdGVGaWxlJiYoZi5sb2dJbmZvKCJjdXJyZW5jeSB1c2luZyBvdmVycmlkZSBjb252ZXJzaW9uUmF0ZUZpbGU6IixlLmNvbnZlcnNpb25SYXRlRmlsZSkscj1lLmNvbnZlcnNpb25SYXRlRmlsZSk7dmFyIG49ci5pbmRleE9mKCIkJFRPREFZJCQiKTtpZigtMSE9PW4pe3ZhciBvPW5ldyBEYXRlLGM9IiIuY29uY2F0KG8uZ2V0TW9udGgoKSsxKSx0PSIiLmNvbmNhdChvLmdldERhdGUoKSk7Yy5sZW5ndGg8MiYmKGM9IjAiLmNvbmNhdChjKSksdC5sZW5ndGg8MiYmKHQ9IjAiLmNvbmNhdCh0KSk7dmFyIGk9IiIuY29uY2F0KG8uZ2V0RnVsbFllYXIoKSkuY29uY2F0KGMpLmNvbmNhdCh0KTtyPSIiLmNvbmNhdChyLnN1YnN0cmluZygwLG4pKS5jb25jYXQoaSkuY29uY2F0KHIuc3Vic3RyaW5nKG4rOSxyLmxlbmd0aCkpfSFmdW5jdGlvbihlKXtiPXt9LG09ITAsZi5sb2dJbmZvKCJJbnN0YWxsaW5nIGFkZEJpZFJlc3BvbnNlIGRlY29yYXRvciBmb3IgY3VycmVuY3kgbW9kdWxlIixhcmd1bWVudHMpLE9iamVjdChkLmEpKCJhZGRCaWRSZXNwb25zZSIpLmJlZm9yZSh3LDEwMCksQyYmKEM9ITEsT2JqZWN0KHMuYSkoZSx7c3VjY2VzczpmdW5jdGlvbihyKXt0cnl7Uj1KU09OLnBhcnNlKHIpLGYubG9nSW5mbygiY3VycmVuY3lSYXRlcyBzZXQgdG8gIitKU09OLnN0cmluZ2lmeShSKSksaD0hMCxPKCl9Y2F0Y2goZSl7SSgiRmFpbGVkIHRvIHBhcnNlIGN1cnJlbmN5UmF0ZXMgcmVzcG9uc2U6ICIrcil9fSxlcnJvcjpJfSkpfShyKX1lbHNlIGYubG9nSW5mbygiZGlzYWJsaW5nIGN1cnJlbmN5IHN1cHBvcnQiKSxmdW5jdGlvbigpe2YubG9nSW5mbygiVW5pbnN0YWxsaW5nIGFkZEJpZFJlc3BvbnNlIGRlY29yYXRvciBmb3IgY3VycmVuY3kgbW9kdWxlIixhcmd1bWVudHMpLE9iamVjdChkLmEpKCJhZGRCaWRSZXNwb25zZSIpLmdldEhvb2tzKHtob29rOnd9KS5yZW1vdmUoKSxTPSJVU0QiLGI9e30saD1tPSExLEM9ITAsUj17fSxEPXt9fSgpOyJvYmplY3QiPT09bChlLmJpZGRlckN1cnJlbmN5RGVmYXVsdCkmJihEPWUuYmlkZGVyQ3VycmVuY3lEZWZhdWx0KX1mdW5jdGlvbiBJKGUpe3k/KGYubG9nV2FybihlKSxmLmxvZ1dhcm4oIkN1cnJlbmN5IGZhaWxlZCBsb2FkaW5nIHJhdGVzLCBmYWxsaW5nIGJhY2sgdG8gY3VycmVuY3kuZGVmYXVsdFJhdGVzIikpOmYubG9nRXJyb3IoZSl9ZnVuY3Rpb24gdyhlLHIsbil7aWYoIW4pcmV0dXJuIGUuY2FsbCh0aGlzLHIpO3ZhciBvLGMsdCxpPW4uYmlkZGVyQ29kZXx8bi5iaWRkZXI7aWYoRFtpXSl7dmFyIHM9RFtpXTtuLmN1cnJlbmN5JiZzIT09bi5jdXJyZW5jeT9mLmxvZ1dhcm4oIkN1cnJlbmN5IGRlZmF1bHQgJyIuY29uY2F0KGksIjogIikuY29uY2F0KHMsIicgaWdub3JlZC4gYWRhcHRlciBzcGVjaWZpZWQgJyIpLmNvbmNhdChuLmN1cnJlbmN5LCInIikpOm4uY3VycmVuY3k9c31pZihuLmN1cnJlbmN5fHwoZi5sb2dXYXJuKCdDdXJyZW5jeSBub3Qgc3BlY2lmaWVkIG9uIGJpZC4gIERlZmF1bHRlZCB0byAiVVNEIicpLG4uY3VycmVuY3k9IlVTRCIpLG4uZ2V0Q3BtSW5OZXdDdXJyZW5jeT1mdW5jdGlvbihlKXtyZXR1cm4ocGFyc2VGbG9hdCh0aGlzLmNwbSkqaih0aGlzLmN1cnJlbmN5LGUpKS50b0ZpeGVkKDMpfSxuLmN1cnJlbmN5PT09UylyZXR1cm4gZS5jYWxsKHRoaXMscixuKTtwLnB1c2goKG89ZSxjPXRoaXMsdD1bcixuXSxmdW5jdGlvbigpe3ZhciByPXRbMV07aWYodm9pZCAwIT09ciYmImN1cnJlbmN5ImluIHImJiJjcG0iaW4gcil7dmFyIGU9ci5jdXJyZW5jeTt0cnl7dmFyIG49aihlKTsxIT09biYmKHIuY3BtPShwYXJzZUZsb2F0KHIuY3BtKSpuKS50b0ZpeGVkKDQpLHIuY3VycmVuY3k9Uyl9Y2F0Y2goZSl7Zi5sb2dXYXJuKCJSZXR1cm5pbmcgTk9fQklELCBnZXRDdXJyZW5jeUNvbnZlcnNpb24gdGhyZXcgZXJyb3I6ICIsZSksdFsxXT1PYmplY3QoYS5hKSh1LlNUQVRVUy5OT19CSUQse2JpZGRlcjpyLmJpZGRlckNvZGV8fHIuYmlkZGVyLGJpZElkOnIucmVxdWVzdElkfSl9fXJldHVybiBvLmFwcGx5KGMsdCl9KSksbSYmIWh8fE8oKX1mdW5jdGlvbiBPKCl7Zm9yKDswPHAubGVuZ3RoOylwLnNoaWZ0KCkoKX1mdW5jdGlvbiBqKGUscil7dmFyIG4sbz0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXI/cjpTLGM9bnVsbCx0PSIiLmNvbmNhdChlLCItPiIpLmNvbmNhdChvKTtpZih0IGluIGIpYz1iW3RdLGYubG9nTWVzc2FnZSgiVXNpbmcgY29udmVyc2lvbkNhY2hlIHZhbHVlICIrYysiIGZvciAiK3QpO2Vsc2UgaWYoITE9PT1tKXtpZigiVVNEIiE9PWUpdGhyb3cgbmV3IEVycm9yKCJQcmViaWQgY3VycmVuY3kgc3VwcG9ydCBoYXMgbm90IGJlZW4gZW5hYmxlZCBhbmQgZnJvbUN1cnJlbmN5IGlzIG5vdCBVU0QiKTtjPTF9ZWxzZSBpZihlPT09byljPTE7ZWxzZSBpZihlIGluIFIuY29udmVyc2lvbnMpe2lmKCEobyBpbihuPVIuY29udmVyc2lvbnNbZV0pKSl0aHJvdyBuZXcgRXJyb3IoIlNwZWNpZmllZCBhZFNlcnZlckN1cnJlbmN5IGluIGNvbmZpZyAnIitvKyInIG5vdCBmb3VuZCBpbiB0aGUgY3VycmVuY3kgcmF0ZXMgZmlsZSIpO2M9bltvXSxmLmxvZ0luZm8oImdldEN1cnJlbmN5Q29udmVyc2lvbiB1c2luZyBkaXJlY3QgIitlKyIgdG8gIitvKyIgY29udmVyc2lvblJhdGUgIitjKX1lbHNlIGlmKG8gaW4gUi5jb252ZXJzaW9ucyl7aWYoIShlIGluKG49Ui5jb252ZXJzaW9uc1tvXSkpKXRocm93IG5ldyBFcnJvcigiU3BlY2lmaWVkIGZyb21DdXJyZW5jeSAnIitlKyInIG5vdCBmb3VuZCBpbiB0aGUgY3VycmVuY3kgcmF0ZXMgZmlsZSIpO2M9RigxL25bZV0sdiksZi5sb2dJbmZvKCJnZXRDdXJyZW5jeUNvbnZlcnNpb24gdXNpbmcgcmVjaXByb2NhbCAiK2UrIiB0byAiK28rIiBjb252ZXJzaW9uUmF0ZSAiK2MpfWVsc2V7dmFyIGk9T2JqZWN0LmtleXMoUi5jb252ZXJzaW9ucylbMF07aWYoIShlIGluIFIuY29udmVyc2lvbnNbaV0pKXRocm93IG5ldyBFcnJvcigiU3BlY2lmaWVkIGZyb21DdXJyZW5jeSAnIitlKyInIG5vdCBmb3VuZCBpbiB0aGUgY3VycmVuY3kgcmF0ZXMgZmlsZSIpO3ZhciBzPTEvUi5jb252ZXJzaW9uc1tpXVtlXTtpZighKG8gaW4gUi5jb252ZXJzaW9uc1tpXSkpdGhyb3cgbmV3IEVycm9yKCJTcGVjaWZpZWQgYWRTZXJ2ZXJDdXJyZW5jeSBpbiBjb25maWcgJyIrbysiJyBub3QgZm91bmQgaW4gdGhlIGN1cnJlbmN5IHJhdGVzIGZpbGUiKTtjPUYocypSLmNvbnZlcnNpb25zW2ldW29dLHYpLGYubG9nSW5mbygiZ2V0Q3VycmVuY3lDb252ZXJzaW9uIHVzaW5nIGludGVybWVkaWF0ZSAiK2UrIiB0aHJ1ICIraSsiIHRvICIrbysiIGNvbnZlcnNpb25SYXRlICIrYyl9cmV0dXJuIHQgaW4gYnx8KGYubG9nTWVzc2FnZSgiQWRkaW5nIGNvbnZlcnNpb25DYWNoZSB2YWx1ZSAiK2MrIiBmb3IgIit0KSxiW3RdPWMpLGN9ZnVuY3Rpb24gRihlLHIpe2Zvcih2YXIgbj0xLG89MDtvPHI7bysrKW4rPSIwIjtyZXR1cm4gTWF0aC5yb3VuZChlKm4pL259by5iLmdldENvbmZpZygiY3VycmVuY3kiLGZ1bmN0aW9uKGUpe3JldHVybiBjKGUuY3VycmVuY3kpfSl9fSxbMjkxXSk7CnVwYmpzQ2h1bmsoWzIxN10sezMxMTpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoMzEyKX0sMzEyOmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJEaXN0cmljdG1EbXhBZGFwdGVyIixmdW5jdGlvbigpe3JldHVybiBzfSksdC5tYXRjaFJlcXVlc3Q9ZCx0LmNoZWNrRGVlcEFycmF5PWMsdC5kZWZhdWx0U2l6ZT1wO3ZhciB1PXIoMCksaT1yKDEpLGE9cigzKTtmdW5jdGlvbiBuKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe2lmKCEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKXx8IltvYmplY3QgQXJndW1lbnRzXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpKXJldHVybjt2YXIgcj1bXSxpPSEwLG49ITEsdT12b2lkIDA7dHJ5e2Zvcih2YXIgYSxvPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEoaT0oYT1vLm5leHQoKSkuZG9uZSkmJihyLnB1c2goYS52YWx1ZSksIXR8fHIubGVuZ3RoIT09dCk7aT0hMCk7fWNhdGNoKGUpe249ITAsdT1lfWZpbmFsbHl7dHJ5e2l8fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyB1fX1yZXR1cm4gcn0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9KCl9ZnVuY3Rpb24gbyhlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgaT10W3JdO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfSh0aGlzLGUpLHRoaXMuY29kZT0iZGlzdHJpY3RtRE1YIix0aGlzLnN1cHBvcnRlZEZvcm1hdD1bImJhbm5lciJdfXZhciB0LHIsaTtyZXR1cm4gdD1lLChyPVt7a2V5OiJpc0JpZFJlcXVlc3RWYWxpZCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuISghZS5wYXJhbXMuZG14aWR8fCFlLnBhcmFtcy5tZW1iZXJpZCl9fSx7a2V5OiJpbnRlcnByZXRSZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSx1KXtyZXR1cm4oZT1lLmJvZHl8fHt9KS5zZWF0YmlkJiZBcnJheS5pc0FycmF5KGUuc2VhdGJpZCk/ZS5zZWF0YmlkLnJlZHVjZShmdW5jdGlvbihlLHQpe3ZhciByPXQuYmlkLnJlZHVjZShmdW5jdGlvbihlLHQpe2lmKGUucHJpY2U8dC5wcmljZSl7dmFyIHI9cChkKHQuaW1waWQsdSkpLGk9ci53aWR0aCxuPXIuaGVpZ2h0O3JldHVybiB0LmNwbT10LnByaWNlLHQuYmlkSWQ9dC5pbXBpZCx0LnJlcXVlc3RJZD10LmltcGlkLHQud2lkdGg9dC53fHxpLHQuaGVpZ2h0PXQuaHx8bix0LmFkPXQuYWRtLHQubmV0UmV2ZW51ZT0hMCx0LmNyZWF0aXZlSWQ9dC5jcmlkLHQuY3VycmVuY3k9IlVTRCIsdC50dGw9NjAsdH1yZXR1cm4gZS5jcG09ZS5wcmljZSxlfSx7cHJpY2U6MH0pO3JldHVybiByLmFkbSYmZS5wdXNoKHIpLGV9LFtdKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuISFlLmJpZElkfSk6W119fSx7a2V5OiJidWlsZFJlcXVlc3RzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPWEuYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKSxpPXtpZDp1LmdlbmVyYXRlVVVJRCgpLGN1cjpbIlVTRCJdLHRtYXg6ci0zMDAsdGVzdDp0aGlzLnRlc3QoKXx8MCxzaXRlOntwdWJsaXNoZXI6e2lkOlN0cmluZyhlWzBdLnBhcmFtcy5tZW1iZXJpZCl8fG51bGx9fX07aS50ZXN0fHxkZWxldGUgaS50ZXN0LHQuZ2RwckNvbnNlbnQmJihpLnJlZ3M9e30saS5yZWdzLmV4dD17fSxpLnJlZ3MuZXh0LmdkcHI9ITA9PT10LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MCxpLnJlZ3MuZXh0LmdkcHImJihpLnJlZ3MuZXh0LmNvbnNlbnQ9dC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSk7dmFyIG49ZS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIHQuaWQ9ZS5iaWRJZCx0LnRhZ2lkPVN0cmluZyhlLnBhcmFtcy5kbXhpZCksdC5zZWN1cmU9Imh0dHBzOiI9PT13aW5kb3cubG9jYXRpb24ucHJvdG9jb2w/MTowLHQuYmFubmVyPXt0b3BmcmFtZToxLHc6ZS5zaXplc1swXVswXXx8MCxoOmUuc2l6ZXNbMF1bMV18fDAsZm9ybWF0OmUuc2l6ZXMubWFwKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pfSx0fSk7cmV0dXJuIGkuaW1wPW4se21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovL2RteC5kaXN0cmljdG0uaW8vYi92MSIsZGF0YTpKU09OLnN0cmluZ2lmeShpKSxvcHRpb25zOntjb250ZW50VHlwZToiYXBwbGljYXRpb24vanNvbiIsd2l0aENyZWRlbnRpYWxzOiEwfSxiaWRkZXJSZXF1ZXN0OnR9fX0se2tleToidGVzdCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4tMSE9PXdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoImRtVGVzdD10cnVlIik/MTowfX0se2tleToiZ2V0VXNlclN5bmNzIix2YWx1ZTpmdW5jdGlvbihlKXtpZihlLmlmcmFtZUVuYWJsZWQpcmV0dXJuW3t0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly9jZG4uZGlzdHJpY3RtLmlvL2lkcy9pbmRleC5odG1sIn1dfX1dKSYmbyh0LnByb3RvdHlwZSxyKSxpJiZvKHQsaSksZX0oKTtmdW5jdGlvbiBkKHQsZSl7cmV0dXJuIG4oZS5iaWRkZXJSZXF1ZXN0LmJpZHMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZElkPT09dH0pLDEpWzBdfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJkFycmF5LmlzQXJyYXkoZVswXSk/ZVswXTplfWZ1bmN0aW9uIHAoZSl7dmFyIHQ9ZS5zaXplcyxyPXt9O3JldHVybiByLndpZHRoPWModClbMF0sci5oZWlnaHQ9Yyh0KVsxXSxyfU9iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShuZXcgcyl9fSxbMzExXSk7CnVwYmpzQ2h1bmsoWzIxMl0sezMyMTpmdW5jdGlvbihlLHIsaSl7ZS5leHBvcnRzPWkoMzIyKX0sMzIyOmZ1bmN0aW9uKGUscixpKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGkuZChyLCJlbXhBZGFwdGVyIixmdW5jdGlvbigpe3JldHVybiBnfSksaS5kKHIsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIHB9KTt2YXIgbD1pKDApLHQ9aSgxKSxvPWkoMiksbj1pKDEwKSxhPWkoMTEpLGQ9aS5uKGEpO2Z1bmN0aW9uIG0oKXtyZXR1cm4obT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgaT1hcmd1bWVudHNbcl07Zm9yKHZhciB0IGluIGkpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGksdCkmJihlW3RdPWlbdF0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBzPSJlbXhfZGlnaXRhbCIsdT0iLy9qcy5icmVhbHRpbWUuY29tL291dHN0cmVhbS8xLjMwLjAvYnVuZGxlLmpzIixnPXt2YWxpZGF0ZVNpemVzOmZ1bmN0aW9uKGUpe3JldHVybiBsLmlzQXJyYXkoZSkmJnZvaWQgMCE9PWVbMF0/ZS5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gbC5pc0FycmF5KGUpJiYyPT09ZS5sZW5ndGh9KToobC5sb2dXYXJuKHMrIjogU2l6ZXMgc2hvdWxkIGJlIGFuIGFycmF5IiksITEpfSxjaGVja1ZpZGVvQ29udGV4dDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMudmlkZW8mJmUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0JiYoImluc3RyZWFtIj09PWUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0fHwib3V0c3RyZWFtIj09PWUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0KX0sYnVpbGRCYW5uZXI6ZnVuY3Rpb24oZSl7dmFyIHI9W107cmV0dXJuIHI9ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzP2UubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM6ZS5zaXplcyxnLnZhbGlkYXRlU2l6ZXMocil8fChsLmxvZ1dhcm4ocysiOiBjb3VsZCBub3QgZGV0ZWN0IG1lZGlhVHlwZSBiYW5uZXIgc2l6ZXMuIEFzc2lnbmluZyB0byBiaWQgc2l6ZXMgaW5zdGVhZCIpLHI9ZS5zaXplcykse2Zvcm1hdDpyLm1hcChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSx3OnJbMF1bMF0saDpyWzBdWzFdfX0sZm9ybWF0VmlkZW9SZXNwb25zZTpmdW5jdGlvbihlLHIsaSl7cmV0dXJuIGUudmFzdFhtbD1yLmFkbSxpLmJpZFJlcXVlc3QmJmkuYmlkUmVxdWVzdC5tZWRpYVR5cGVzJiZpLmJpZFJlcXVlc3QubWVkaWFUeXBlcy52aWRlbyYmIm91dHN0cmVhbSI9PT1pLmJpZFJlcXVlc3QubWVkaWFUeXBlcy52aWRlby5jb250ZXh0JiYoZS5yZW5kZXJlcj1nLmNyZWF0ZVJlbmRlcmVyKGUse2lkOnIuaWQsdXJsOnV9KSksZX0saXNNb2JpbGU6ZnVuY3Rpb24oKXtyZXR1cm4vKGlvc3xpcG9kfGlwYWR8aXBob25lfGFuZHJvaWQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KX0saXNDb25uZWN0ZWRUVjpmdW5jdGlvbigpe3JldHVybi8oc21hcnRbLV0/dHZ8aGJidHZ8YXBwbGV0dnxnb29nbGV0dnxoZG1pfG5ldGNhc3RcLnR2fHZpZXJhfG5ldHR2fHJva3V8XGJkdHZcYnxzb255ZHR2fGluZXR0dmJyb3dzZXJ8XGJ0dlxiKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9LGdldERldmljZTpmdW5jdGlvbigpe3JldHVybnt1YTpuYXZpZ2F0b3IudXNlckFnZW50LGpzOjEsZG50OiJ5ZXMiPT09bmF2aWdhdG9yLmRvTm90VHJhY2t8fCIxIj09PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PT1uYXZpZ2F0b3IubXNEb05vdFRyYWNrPzE6MCxoOnNjcmVlbi5oZWlnaHQsdzpzY3JlZW4ud2lkdGgsZGV2aWNldHlwZTpnLmlzTW9iaWxlKCk/MTpnLmlzQ29ubmVjdGVkVFYoKT8zOjIsbGFuZ3VhZ2U6bmF2aWdhdG9yLmxhbmd1YWdlfHxuYXZpZ2F0b3IuYnJvd3Nlckxhbmd1YWdlfHxuYXZpZ2F0b3IudXNlckxhbmd1YWdlfHxuYXZpZ2F0b3Iuc3lzdGVtTGFuZ3VhZ2V9fSxjbGVhblByb3RvY29sczpmdW5jdGlvbihlKXtyZXR1cm4gZS5wcm90b2NvbHMmJmQoKShlLnByb3RvY29scyw3KSYmKGwubG9nV2FybihzKyI6IFZBU1QgNC4wIGlzIGN1cnJlbnRseSBub3Qgc3VwcG9ydGVkLiBUaGlzIHByb3RvY29sIGhhcyBiZWVuIGZpbHRlcmVkIG91dCBvZiB0aGUgcmVxdWVzdC4iKSxlLnByb3RvY29scz1lLnByb3RvY29scy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIDchPT1lfSkpLGV9LG91dHN0cmVhbVJlbmRlcjpmdW5jdGlvbihyKXtyLnJlbmRlcmVyLnB1c2goZnVuY3Rpb24oKXt2YXIgZT1yJiZyLnBhcmFtcyYmci5wYXJhbXNbMF0mJnIucGFyYW1zWzBdLnZpZGVvP3IucGFyYW1zWzBdLnZpZGVvOnt9O3dpbmRvdy5lbXhWaWRlb1F1ZXVlPXdpbmRvdy5lbXhWaWRlb1F1ZXVlfHxbXSx3aW5kb3cucXVldWVFbXhWaWRlbyh7aWQ6ci5hZFVuaXRDb2RlLGFkc1Jlc3BvbnNlczpyLnZhc3RYbWwsb3B0aW9uczplfSksd2luZG93LmVteFZpZGVvUmVhZHkmJndpbmRvdy52aWRlb2pzJiZ3aW5kb3cuZW14VmlkZW9SZWFkeSgpfSl9LGNyZWF0ZVJlbmRlcmVyOmZ1bmN0aW9uKGUscil7dmFyIGk9bi5hLmluc3RhbGwoe2lkOnIuaWQsdXJsOnUsbG9hZGVkOiExfSk7dHJ5e2kuc2V0UmVuZGVyKGcub3V0c3RyZWFtUmVuZGVyKX1jYXRjaChlKXtsLmxvZ1dhcm4oIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIGl9LGJ1aWxkVmlkZW86ZnVuY3Rpb24oZSl7dmFyIHI9bShlLm1lZGlhVHlwZXMudmlkZW8sZS5wYXJhbXMudmlkZW8pO3JldHVybiBsLmlzQXJyYXkoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF0pPyhyLnc9ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF1bMF0sci5oPWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdWzFdKTooci53PWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdLHIuaD1lLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVsxXSksZy5jbGVhblByb3RvY29scyhyKX0scGFyc2VSZXNwb25zZTpmdW5jdGlvbihlKXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlLnJlcGxhY2UoLyUoPyFbMC05XVswLTlhLWZBLUZdKykvZywiJTI1IikpfWNhdGNoKGUpe2wubG9nRXJyb3IoImVteF9kaWdpdGFsQmlkQWRhcHRlciIsImVycm9yIixlKX19LGdldFJlZmVycmVyOmZ1bmN0aW9uKCl7dHJ5e3JldHVybiB3aW5kb3cudG9wLmRvY3VtZW50LnJlZmVycmVyfWNhdGNoKGUpe3JldHVybiBkb2N1bWVudC5yZWZlcnJlcn19LGdldEdkcHI6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5nZHByQ29uc2VudCYmKHIucmVncz17ZXh0OntnZHByOiEwPT09ZS5nZHByQ29uc2VudC5nZHByQXBwbGllcz8xOjB9fSksZS5nZHByQ29uc2VudCYmZS5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKHIudXNlcj17ZXh0Ontjb25zZW50OmUuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZ319KSxyfX0scD17Y29kZTpzLHN1cHBvcnRlZE1lZGlhVHlwZXM6W28uYixvLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe2lmKCFlfHwhZS5wYXJhbXMpcmV0dXJuIGwubG9nV2FybihzKyI6IE1pc3NpbmcgYmlkIG9yIGJpZCBwYXJhbXMuIiksITE7aWYoZS5iaWRkZXIhPT1zKXJldHVybiBsLmxvZ1dhcm4ocysnOiBNdXN0IHVzZSAiZW14X2RpZ2l0YWwiIGFzIGJpZGRlciBjb2RlLicpLCExO2lmKCFlLnBhcmFtcy50YWdpZHx8IWwuaXNTdHIoZS5wYXJhbXMudGFnaWQpKXJldHVybiBsLmxvZ1dhcm4ocysiOiBNaXNzaW5nIHRhZ2lkIHBhcmFtIG9yIHRhZ2lkIHByZXNlbnQgYW5kIG5vdCB0eXBlIFN0cmluZy4iKSwhMTt2YXIgcjtpZihlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXIpe2lmKHI9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcz9lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzOmUuc2l6ZXMsIWcudmFsaWRhdGVTaXplcyhyKSlyZXR1cm4gbC5sb2dXYXJuKHMrIjogTWlzc2luZyBzaXplcyBpbiBiaWQiKSwhMX1lbHNlIGlmKGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLnZpZGVvKXtpZighZy5jaGVja1ZpZGVvQ29udGV4dChlKSlyZXR1cm4gbC5sb2dXYXJuKHMrIjogTWlzc2luZyB2aWRlbyBjb250ZXh0OiBpbnN0cmVhbSBvciBvdXRzdHJlYW0iKSwhMTtpZighZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUpcmV0dXJuIGwubG9nV2FybihzKyI6IE1pc3NpbmcgdmlkZW8gcGxheWVyU2l6ZSIpLCExfXJldHVybiEwfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIGE9W10saT1yLnRpbWVvdXR8fCIiLHQ9RGF0ZS5ub3coKSxuPWxvY2F0aW9uLnByb3RvY29sKyIvL2hiLmVteGRndC5jb20/dD0iK2krIiZ0cz0iK3QrIiZzcmM9cGJqcyIsbz0tMTxsb2NhdGlvbi5wcm90b2NvbC5pbmRleE9mKCJodHRwcyIpPzE6MCxkPWwuZ2V0VG9wV2luZG93TG9jYXRpb24oKS5ob3N0bmFtZSxzPXIucmVmZXJlckluZm8ucmVmZXJlcix1PWcuZ2V0RGV2aWNlKCkscD1nLmdldFJlZmVycmVyKCk7bC5fZWFjaChlLGZ1bmN0aW9uKGUpe3ZhciByPWwuZ2V0QmlkSWRQYXJhbWV0ZXIoInRhZ2lkIixlLnBhcmFtcyksaT1wYXJzZUZsb2F0KGwuZ2V0QmlkSWRQYXJhbWV0ZXIoImJpZGZsb29yIixlLnBhcmFtcykpfHwwLHQ9ISFlLm1lZGlhVHlwZXMudmlkZW8sbj1tKHtpZDplLmJpZElkLHRpZDplLnRyYW5zYWN0aW9uSWQsdGFnaWQ6cixzZWN1cmU6b30sdD97dmlkZW86Zy5idWlsZFZpZGVvKGUpfTp7YmFubmVyOmcuYnVpbGRCYW5uZXIoZSl9LDA8aT97YmlkZmxvb3I6aSxiaWRmbG9vcmN1cjoiVVNEIn06e30pO2EucHVzaChuKX0pO3ZhciBjPXtpZDpyLmF1Y3Rpb25JZCxpbXA6YSxkZXZpY2U6dSxzaXRlOntkb21haW46ZCxwYWdlOnMscmVmOnB9LGN1cjoiVVNEIix2ZXJzaW9uOiIxLjQxLjIifTtyZXR1cm4gYz1nLmdldEdkcHIocixtKHt9LGMpKSxyJiZyLnVzcENvbnNlbnQmJihjLnVzX3ByaXZhY3k9ci51c3BDb25zZW50KSx7bWV0aG9kOiJQT1NUIix1cmw6bixkYXRhOkpTT04uc3RyaW5naWZ5KGMpLG9wdGlvbnM6e3dpdGhDcmVkZW50aWFsczohMH0sYmlkUmVxdWVzdDpyfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxuKXt2YXIgYT1bXSxyPWUuYm9keXx8e307cmV0dXJuIHIuc2VhdGJpZCYmMDxyLnNlYXRiaWQubGVuZ3RoJiZyLnNlYXRiaWRbMF0uYmlkJiZyLnNlYXRiaWQuZm9yRWFjaChmdW5jdGlvbihlKXtlPWUuYmlkWzBdO3ZhciByPSExLGk9Zy5wYXJzZVJlc3BvbnNlKGUuYWRtKXx8IiIsdD17cmVxdWVzdElkOmUuaWQsY3BtOmUucHJpY2Usd2lkdGg6ZS53LGhlaWdodDplLmgsY3JlYXRpdmVJZDplLmNyaWR8fGUuaWQsZGVhbElkOmUuZGVhbGlkfHxudWxsLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsdHRsOmUudHRsLGFkOml9O2UuYWRtJiYtMTxlLmFkbS5pbmRleE9mKCI8P3htbCB2ZXJzaW9uPSIpJiYocj0hMCx0PWcuZm9ybWF0VmlkZW9SZXNwb25zZSh0LG0oe30sZSksbikpLHQubWVkaWFUeXBlPXI/by5kOm8uYixhLnB1c2godCl9KSxhfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSl7dmFyIHI9W107cmV0dXJuIGUuaWZyYW1lRW5hYmxlZCYmci5wdXNoKHt0eXBlOiJpZnJhbWUiLHVybDoiLy9iaWRkci5icmVhbHRpbWUuY29tL2NoZWNrLmh0bWwifSkscn19O09iamVjdCh0LnJlZ2lzdGVyQmlkZGVyKShwKX19LFszMjFdKTsKdXBianNDaHVuayhbMzBdLHsxODpmdW5jdGlvbihhLGIpe3ZhciBjO2M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7Yz1jfHxGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpfHxldmFsKCJ0aGlzIil9Y2F0Y2goZSl7Im9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJihjPXdpbmRvdyl9YS5leHBvcnRzPWN9LDM2MTpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oMzYyKX0sMzYyOmZ1bmN0aW9uKGUscixpKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGZ1bmN0aW9uKHkpe2kuZChyLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBufSk7dmFyIE89aSgwKSx3PWkoMyksZT1pKDExKSxVPWkubihlKSx0PWkoMSk7ZnVuY3Rpb24gaihlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXtpZighKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSl8fCJbb2JqZWN0IEFyZ3VtZW50c10iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKSlyZXR1cm47dmFyIG49W10scj0hMCxpPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIGEsYz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KGE9Yy5uZXh0KCkpLmRvbmUpJiYobi5wdXNoKGEudmFsdWUpLCF0fHxuLmxlbmd0aCE9PXQpO3I9ITApO31jYXRjaChlKXtpPSEwLG89ZX1maW5hbGx5e3RyeXtyfHxudWxsPT1jLnJldHVybnx8Yy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgb319cmV0dXJuIG59KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpfSgpfWZ1bmN0aW9uIFQoKXtyZXR1cm4oVD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBJPXttZW1iZXI6IlljWHI4N3oybHBiQiJ9LFM9e30sQT1udWxsO3ZhciBuPXtjb2RlOiJndW1ndW0iLGFsaWFzZXM6WyJnZyJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyYW1zLG49ZS5hZFVuaXRDb2RlO3N3aXRjaCghMCl7Y2FzZSEhdC5pblNjcmVlbjpjYXNlISF0LmluU2xvdDpjYXNlISF0LklDVjpicmVhaztkZWZhdWx0OnJldHVybiBPLmxvZ1dhcm4oIltHdW1HdW1dIE5vIHByb2R1Y3Qgc2VsZWN0ZWQgZm9yIHRoZSBwbGFjZW1lbnQgIi5jb25jYXQobiwiLCBwbGVhc2UgY2hlY2sgeW91ciBpbXBsZW1lbnRhdGlvbi4iKSksITF9cmV0dXJuISh0LmJpZGZsb29yJiYoIm51bWJlciIhPXR5cGVvZiB0LmJpZGZsb29yfHwhaXNGaW5pdGUodC5iaWRmbG9vcikpKXx8KE8ubG9nV2FybigiW0d1bUd1bV0gYmlkZmxvb3IgbXVzdCBiZSBhIE51bWJlciIpLCExKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLGgpe3ZhciBiPVtdLHY9aCYmaC5nZHByQ29uc2VudDtyZXR1cm4gTy5fZWFjaChlLGZ1bmN0aW9uKGUpe3ZhciB0LG4scixpLG89dy5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpLGE9ZS5iaWRJZCxjPWUucGFyYW1zLGQ9dm9pZCAwPT09Yz97fTpjLHU9ZS5zY2hhaW4scz1lLnRyYW5zYWN0aW9uSWQscD1lLnVzZXJJZCxsPXZvaWQgMD09PXA/e306cCxmPXt9LG09ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzLGc9aCYmaC5yZWZlcmVySW5mbyYmaC5yZWZlcmVySW5mby5yZWZlcmVyO0EmJihmLnB2PUEpLGQuYmlkZmxvb3ImJihmLmZwPWQuYmlkZmxvb3IpLGQuaW5TY3JlZW5QdWJJRCYmKGYucHViSWQ9ZC5pblNjcmVlblB1YklELGYucGk9MiksZC5pblNjcmVlbiYmKGYudD1kLmluU2NyZWVuLGYucGk9MiksZC5pblNsb3QmJihmLnNpPXBhcnNlSW50KGQuaW5TbG90LDEwKSxmLnBpPTMpLGQuSUNWJiYoZi5uaT1wYXJzZUludChkLklDViwxMCksZi5waT01KSx2JiYoZi5nZHByQXBwbGllcz12LmdkcHJBcHBsaWVzPzE6MCksZi5nZHByQXBwbGllcyYmKGYuZ2RwckNvbnNlbnQ9di5jb25zZW50U3RyaW5nKSx1JiZ1Lm5vZGVzJiYoZi5zY2hhaW49KG49IiIuY29uY2F0KCh0PXUpLnZlciwiLCIpLmNvbmNhdCh0LmNvbXBsZXRlKSx0Lm5vZGVzLm1hcChmdW5jdGlvbihlKXtuKz0iISIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlLmFzaXx8IiIpLCIsIiksbis9IiIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlLnNpZHx8IiIpLCIsIiksbis9IiIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlLmhwfHwiIiksIiwiKSxuKz0iIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUucmlkfHwiIiksIiwiKSxuKz0iIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUubmFtZXx8IiIpLCIsIiksbis9IiIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlLmRvbWFpbnx8IiIpKX0pLG4pKSxiLnB1c2goe2lkOmEsdG1heDpvLHRJZDpzLHBpOmYucGksc2VsZWN0b3I6ZC5zZWxlY3RvcixzaXplczptfHxlLnNpemVzLHVybDoiaHR0cHM6Ly9nMi5ndW1ndW0uY29tL2hiaWQvaW1wIixtZXRob2Q6IkdFVCIsZGF0YTpUKGYsZnVuY3Rpb24oZSl7dmFyIHQsbixyLGksbyxhLGMsZDtpZihTLnZ3KXJldHVybiBTO3RyeXtuPSh0PXkudG9wKS5zY3JlZW4scj1lfHwiIn1jYXRjaChlKXtyZXR1cm4gTy5sb2dFcnJvcihlKSxTfXJldHVybiBTPXt2dzp0LmlubmVyV2lkdGgsdmg6dC5pbm5lckhlaWdodCxzdzpuLndpZHRoLHNoOm4uaGVpZ2h0LHB1OnIsY2U6Ty5jb29raWVzQXJlRW5hYmxlZCgpLGRwcjp0LmRldmljZVBpeGVsUmF0aW98fDEsamNzaTpKU09OLnN0cmluZ2lmeSh7dDowLHJxOjh9KSxvZ3U6KGE9KGRvY3VtZW50JiZkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdKS5xdWVyeVNlbGVjdG9yKCJtZXRhW3Byb3BlcnR5PSdvZzp1cmwnXSIpKT9hLmNvbnRlbnQ6bnVsbH0sYz13aW5kb3cubmF2aWdhdG9yJiYod2luZG93Lm5hdmlnYXRvci5jb25uZWN0aW9ufHx3aW5kb3cubmF2aWdhdG9yLm1vekNvbm5lY3Rpb258fHdpbmRvdy5uYXZpZ2F0b3Iud2Via2l0Q29ubmVjdGlvbiksKG89KGQ9YyYmKGMuZG93bmxpbmt8fGMuYmFuZHdpZHRoKSk/TWF0aC5yb3VuZCgxMDI0KmQpOm51bGwpJiYoUy5ucz1vKSwoaT0oci5tYXRjaCgvI2dnYWQ9KFx3KykkLyl8fFswLDBdKVsxXSkmJihTW2lzTmFOKGkpPyJlQWRCdXlJZCI6ImFkQnV5SWQiXT1pKSxTfShnKSxmdW5jdGlvbihlKXt2YXIgdD1lLmRpZ2l0cnVzdGlkJiZlLmRpZ2l0cnVzdGlkLmRhdGE7aWYoIXQpe3ZhciBuPXdpbmRvdy5EaWdpVHJ1c3QmJndpbmRvdy5EaWdpVHJ1c3QuZ2V0VXNlcj93aW5kb3cuRGlnaVRydXN0LmdldFVzZXIoSSk6e307dD1uJiZuLnN1Y2Nlc3MmJm4uaWRlbnRpdHl8fCIifXJldHVybiF0fHx0LnByaXZhY3kmJnQucHJpdmFjeS5vcHRvdXQ/e306e2R0OnQuaWR9fShsKSwoaT17fSwocj1sKS50ZGlkJiYoaS50ZGlkPXIudGRpZCksaSkpfSl9KSxifSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaT1bXSxvPWUuYm9keSxhPVQoe2FkOntwcmljZTowLGlkOjAsbWFya3VwOiIifSxwYWc6e3B2aWQ6MH19LG8pLGM9YS5hZCxkPWMucHJpY2UsdT1jLmlkLHM9Yy5tYXJrdXAscD1hLmN3LGw9YS5wYWcucHZpZCxmPXQuZGF0YXx8e30sbT1mLnBpLGc9Mz09PW0mJjk9PT1mLnNpLGg9Ty5wYXJzZVNpemVzSW5wdXQodC5zaXplcyksYj1qKGhbMF0uc3BsaXQoIngiKSwyKSx2PWJbMF0seT1iWzFdO3RyeXt2YXIgdyxJO2lmKG8mJm8uYWQmJm8uYWQud2lkdGgmJm8uYWQuaGVpZ2h0KXc9by5hZC53aWR0aC50b1N0cmluZygpLEk9by5hZC5oZWlnaHQudG9TdHJpbmcoKTtlbHNlIGlmKHMpe3ZhciBTPXMuc3BsaXQoIlxuIilbMF0sQz1TLm1hdGNoKC93aWR0aDooW15weF0rKXB4Oy8pLHg9Uy5tYXRjaCgvaGVpZ2h0OihbXnB4XSspcHg7Lyk7dz1DJiZDWzFdLEk9eCYmeFsxXX1pZih3JiZJKXt2YXIgUj13KyJ4IitJOzA8PWguaW5kZXhPZihSKSYmKHY9dyx5PUkpfX1jYXRjaChlKXt9cmV0dXJuIDIhPT1tJiY1IT09bXx8IVUoKShoLCIxeDEiKXx8KHk9dj0iMSIpLEE9bCx1JiZpLnB1c2goe2FkOnA/KG49cCxyPVQoe30sbyx7YmlkUmVxdWVzdDp0fSksbi5yZXBsYWNlKCJBRF9KU09OIix3aW5kb3cuYnRvYShKU09OLnN0cmluZ2lmeShyKSkpKTpzLGNyZWF0aXZlOnMsY3BtOmc/LjE6ZCxjcmVhdGl2ZUlkOnUsY3VycmVuY3k6IlVTRCIsaGVpZ2h0OnksbmV0UmV2ZW51ZTohMCxyZXF1ZXN0SWQ6dC5pZCx0dGw6NjAsd2lkdGg6dn0pLGl9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQpe3JldHVybiB0Lm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5ib2R5JiZlLmJvZHkucHhzJiZlLmJvZHkucHhzLnNjcnx8W119KS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQodCl9LFtdKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue3R5cGU6ImYiPT09ZS50PyJpZnJhbWUiOiJpbWFnZSIsdXJsOmUudX19KX19O09iamVjdCh0LnJlZ2lzdGVyQmlkZGVyKShuKX0uY2FsbChyLGkoMTgpKX19LFszNjFdKTsKdXBianNDaHVuayhbMTg3XSx7Mzc3OmZ1bmN0aW9uKGUscixpKXtlLmV4cG9ydHM9aSgzNzgpfSwzNzg6ZnVuY3Rpb24oZSxyLGkpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksaS5kKHIsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSxyLkltcHJvdmVEaWdpdGFsQWRTZXJ2ZXJKU0NsaWVudD1uO3ZhciBoPWkoMCksdD1pKDEpLG09aSgzKSxiPWkoMiksYT17dmVyc2lvbjoiNi4wLjEiLGNvZGU6ImltcHJvdmVkaWdpdGFsIixhbGlhc2VzOlsiaWQiXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltiLmIsYi5jLGIuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZSYmZS5wYXJhbXMmJihlLnBhcmFtcy5wbGFjZW1lbnRJZHx8ZS5wYXJhbXMucGxhY2VtZW50S2V5JiZlLnBhcmFtcy5wdWJsaXNoZXJJZCkpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIGk9ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciByPWguZ2V0QmlkSWRQYXJhbWV0ZXIoImFkVW5pdENvZGUiLGUpfHxudWxsLGk9aC5nZXRCaWRJZFBhcmFtZXRlcigicGxhY2VtZW50SWQiLGUucGFyYW1zKXx8bnVsbCx0PW51bGwsYT1udWxsO251bGw9PT1pJiYodD1oLmdldEJpZElkUGFyYW1ldGVyKCJwdWJsaXNoZXJJZCIsZS5wYXJhbXMpfHxudWxsLGE9aC5nZXRCaWRJZFBhcmFtZXRlcigicGxhY2VtZW50S2V5IixlLnBhcmFtcyl8fG51bGwpO3ZhciBzPWguZ2V0QmlkSWRQYXJhbWV0ZXIoImtleVZhbHVlcyIsZS5wYXJhbXMpfHxudWxsLG49aC5nZXRCaWRJZFBhcmFtZXRlcigic2l6ZSIsZS5wYXJhbXMpfHxudWxsLGQ9aC5nZXRCaWRJZFBhcmFtZXRlcigiYmlkSWQiLGUpLGM9aC5nZXRCaWRJZFBhcmFtZXRlcigidHJhbnNhY3Rpb25JZCIsZSksbz1tLmIuZ2V0Q29uZmlnKCJjdXJyZW5jeS5hZFNlcnZlckN1cnJlbmN5IiksdT1oLmdldEJpZElkUGFyYW1ldGVyKCJiaWRGbG9vciIsZS5wYXJhbXMpLGw9aC5nZXRCaWRJZFBhcmFtZXRlcigiYmlkRmxvb3JDdXIiLGUucGFyYW1zKSxwPXt9O2YoZSkmJihwLmFkVHlwZXM9W2IuZF0pO2k/cC5wbGFjZW1lbnRJZD1pOih0JiYocC5wdWJsaXNoZXJJZD10KSxhJiYocC5wbGFjZW1lbnRLZXk9YSkpO3MmJihwLmtleVZhbHVlcz1zKTshMD09PW0uYi5nZXRDb25maWcoImltcHJvdmVkaWdpdGFsLnVzZVByZWJpZFNpemVzIikmJiFmKGUpJiZlLnNpemVzJiYwPGUuc2l6ZXMubGVuZ3RoP3AuZm9ybWF0PWUuc2l6ZXM6biYmbi53JiZuLmgmJihwLnNpemU9e30scC5zaXplLmg9bi5oLHAuc2l6ZS53PW4udyk7ZCYmKHAuaWQ9ZCk7ciYmKHAuYWRVbml0SWQ9cik7YyYmKHAudHJhbnNhY3Rpb25JZD1jKTtvJiYocC5jdXJyZW5jeT1vKTt1JiYocC5iaWRGbG9vcj11LHAuYmlkRmxvb3JDdXI9bD9sLnRvVXBwZXJDYXNlKCk6IlVTRCIpO3JldHVybiBwfShlKX0pLHQ9bmV3IG4oImhiIiksYT17c2luZ2xlUmVxdWVzdE1vZGU6ITA9PT1tLmIuZ2V0Q29uZmlnKCJpbXByb3ZlZGlnaXRhbC5zaW5nbGVSZXF1ZXN0IikscmV0dXJuT2JqVHlwZTp0LkNPTlNUQU5UUy5SRVRVUk5fT0JKX1RZUEUuVVJMX1BBUkFNU19TUExJVCxsaWJWZXJzaW9uOnRoaXMudmVyc2lvbn07ciYmci5nZHByQ29uc2VudCYmci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nJiYoYS5nZHByPXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyksciYmci5yZWZlcmVySW5mbyYmci5yZWZlcmVySW5mby5yZWZlcmVyJiYoYS5yZWZlcnJlcj1yLnJlZmVyZXJJbmZvLnJlZmVyZXIpLGEuc2NoYWluPWVbMF0uc2NoYWluO3ZhciBzPXQuY3JlYXRlUmVxdWVzdChpLGEpO3JldHVybiBzLmVycm9ycyYmMDxzLmVycm9ycy5sZW5ndGgmJmgubG9nRXJyb3IoIklEIFdBUk5JTkcgMHgwMSIpLHMucmVxdWVzdHN9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIHM9W107cmV0dXJuIGguX2VhY2goZS5ib2R5LmJpZCxmdW5jdGlvbihpKXtpZihpLnByaWNlJiZudWxsIT09aS5wcmljZSYmIWkuaGFzT3duUHJvcGVydHkoImVycm9yQ29kZSIpJiYoaS5hZG18fGkubmF0aXZlKSl7dmFyIHQ9e307aWYoaS5uYXRpdmUpdC5uYXRpdmU9ZnVuY3Rpb24oZSl7dmFyIHI9e307aWYoIWV8fCFoLmlzQXJyYXkoZS5hc3NldHMpKXJldHVybiBudWxsO2UuYXNzZXRzLmZvckVhY2goZnVuY3Rpb24oZSl7aWYoZS50aXRsZSlyLnRpdGxlPWUudGl0bGUudGV4dDtlbHNlIGlmKGUuZGF0YSlzd2l0Y2goZS5kYXRhLnR5cGUpe2Nhc2UgMTpyLnNwb25zb3JlZEJ5PWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDI6ci5ib2R5PWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDM6ci5yYXRpbmc9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgNDpyLmxpa2VzPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDU6ci5kb3dubG9hZHM9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgNjpyLnByaWNlPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDc6ci5zYWxlUHJpY2U9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgODpyLnBob25lPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDk6ci5hZGRyZXNzPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDEwOnIuYm9keTI9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgMTE6ci5kaXNwbGF5VXJsPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDEyOnIuY3RhPWUuZGF0YS52YWx1ZX1lbHNlIGlmKGUuaW1nKXN3aXRjaChlLmltZy50eXBlKXtjYXNlIDI6ci5pY29uPXt1cmw6ZS5pbWcudXJsLHdpZHRoOmUuaW1nLncsaGVpZ2h0OmUuaW1nLmh9O2JyZWFrO2Nhc2UgMzpyLmltYWdlPXt1cmw6ZS5pbWcudXJsLHdpZHRoOmUuaW1nLncsaGVpZ2h0OmUuaW1nLmh9fX0pLGUuZXZlbnR0cmFja2Vycz8oci5pbXByZXNzaW9uVHJhY2tlcnM9W10sZS5ldmVudHRyYWNrZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7aWYoMT09PWUuZXZlbnQpc3dpdGNoKGUubWV0aG9kKXtjYXNlIDE6ci5pbXByZXNzaW9uVHJhY2tlcnMucHVzaChlLnVybCk7YnJlYWs7Y2FzZSAyOnIuamF2YXNjcmlwdFRyYWNrZXJzPSc8c2NyaXB0IHNyYz0iJy5jb25jYXQoZS51cmwsJyI+PFwvc2NyaXB0PicpfX0pKTooci5pbXByZXNzaW9uVHJhY2tlcnM9ZS5pbXB0cmFja2Vyc3x8W10sci5qYXZhc2NyaXB0VHJhY2tlcnM9ZS5qc3RyYWNrZXIpO2UubGluayYmKHIuY2xpY2tVcmw9ZS5saW5rLnVybCxyLmNsaWNrVHJhY2tlcnM9ZS5saW5rLmNsaWNrdHJhY2tlcnMpO2UucHJpdmFjeSYmKHIucHJpdmFjeUxpbms9ZS5wcml2YWN5KTtyZXR1cm4gcn0oaS5uYXRpdmUpLHQub3J0Yk5hdGl2ZT1pLm5hdGl2ZSxpLm51cmwmJnQubmF0aXZlLmltcHJlc3Npb25UcmFja2Vycy51bnNoaWZ0KGkubnVybCksdC5tZWRpYVR5cGU9Yi5jO2Vsc2UgaWYoaS5hZF90eXBlJiYidmlkZW8iPT09aS5hZF90eXBlKXQudmFzdFhtbD1pLmFkbSx0Lm1lZGlhVHlwZT1iLmQ7ZWxzZXt2YXIgZT0iIjtpLm51cmwmJjA8aS5udXJsLmxlbmd0aCYmKGU9JzxpbWcgc3JjPSInLmNvbmNhdChpLm51cmwsJyIgd2lkdGg9IjAiIGhlaWdodD0iMCIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+JykpLHQuYWQ9IiIuY29uY2F0KGUsIjxzY3JpcHQ+IikuY29uY2F0KGkuYWRtLCI8XC9zY3JpcHQ+IiksdC5tZWRpYVR5cGU9Yi5ifWlmKHQuYWRJZD1pLmlkLHQuY3BtPXBhcnNlRmxvYXQoaS5wcmljZSksdC5jcmVhdGl2ZUlkPWkuY2lkLHQuY3VycmVuY3k9aS5jdXJyZW5jeT9pLmN1cnJlbmN5LnRvVXBwZXJDYXNlKCk6IlVTRCIsaC5pc051bWJlcihpLmxpZCkmJiJkZWFsX2lkIj09PWkuYnV5aW5nX3R5cGUpdC5kZWFsSWQ9aS5saWQ7ZWxzZSBpZihBcnJheS5pc0FycmF5KGkubGlkKSYmQXJyYXkuaXNBcnJheShpLmJ1eWluZ190eXBlKSYmaS5saWQubGVuZ3RoPT09aS5idXlpbmdfdHlwZS5sZW5ndGgpe3ZhciBhPSExO2kuYnV5aW5nX3R5cGUuZm9yRWFjaChmdW5jdGlvbihlLHIpe2F8fCJkZWFsX2lkIj09PWUmJihhPSEwLHQuZGVhbElkPWkubGlkW3JdKX0pfXQuaGVpZ2h0PWkuaCx0Lm5ldFJldmVudWU9ISFpLmlzTmV0JiZpLmlzTmV0LHQucmVxdWVzdElkPWkuaWQsdC50dGw9MzAwLHQud2lkdGg9aS53LHQud2lkdGgmJnQuaGVpZ2h0fHwodC53aWR0aD0xLHQuaGVpZ2h0PTEsci5zaXplcyYmKHQud2lkdGg9ci5zaXplc1swXVswXSx0LmhlaWdodD1yLnNpemVzWzBdWzFdKSkscy5wdXNoKHQpfX0pLHN9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIpe2lmKGUucGl4ZWxFbmFibGVkKXt2YXIgaT1bXTtyZXR1cm4gci5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuYm9keS5iaWQuZm9yRWFjaChmdW5jdGlvbihlKXtoLmlzQXJyYXkoZS5zeW5jKSYmZS5zeW5jLmZvckVhY2goZnVuY3Rpb24oZSl7LTE9PT1pLmluZGV4T2YoZSkmJmkucHVzaChlKX0pfSl9KSxpLm1hcChmdW5jdGlvbihlKXtyZXR1cm57dHlwZToiaW1hZ2UiLHVybDplfX0pfXJldHVybltdfX07ZnVuY3Rpb24gZihlKXt2YXIgcj1oLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlbyIpLGk9aC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpO3JldHVybiJ2aWRlbyI9PT1lLm1lZGlhVHlwZXx8ciYmIm91dHN0cmVhbSIhPT1pfWZ1bmN0aW9uIG4oZSl7dGhpcy5DT05TVEFOVFM9e0FEX1NFUlZFUl9CQVNFX1VSTDoiaWNlLjM2MHlpZWxkLmNvbSIsRU5EX1BPSU5UOmV8fCJoYiIsQURfU0VSVkVSX1VSTF9QQVJBTToianNvbnA9IixDTElFTlRfVkVSU0lPTjoiSlMtNi4yLjAiLE1BWF9VUkxfTEVOR1RIOjIwODMsRVJST1JfQ09ERVM6e01JU1NJTkdfUExBQ0VNRU5UX1BBUkFNUzoyLExJQl9WRVJTSU9OX01JU1NJTkc6M30sUkVUVVJOX09CSl9UWVBFOntERUZBVUxUOjAsVVJMX1BBUkFNU19TUExJVDoxfX0sdGhpcy5nZXRFcnJvclJldHVybj1mdW5jdGlvbihlKXtyZXR1cm57aWRNYXBwaW5nczp7fSxyZXF1ZXN0czp7fSxlcnJvckNvZGU6ZX19LHRoaXMuY3JlYXRlUmVxdWVzdD1mdW5jdGlvbihlLHIsaSl7aWYoIXIubGliVmVyc2lvbilyZXR1cm4gdGhpcy5nZXRFcnJvclJldHVybih0aGlzLkNPTlNUQU5UUy5FUlJPUl9DT0RFUy5MSUJfVkVSU0lPTl9NSVNTSU5HKTtyLnJldHVybk9ialR5cGU9ci5yZXR1cm5PYmpUeXBlfHx0aGlzLkNPTlNUQU5UUy5SRVRVUk5fT0JKX1RZUEUuREVGQVVMVCxyLmFkU2VydmVyQmFzZVVybD0iaHR0cHM6Ly8iKyhyLmFkU2VydmVyQmFzZVVybHx8dGhpcy5DT05TVEFOVFMuQURfU0VSVkVSX0JBU0VfVVJMKTt2YXIgdCxhPVtdO2lmKGguaXNBcnJheShlKSlmb3IodmFyIHM9MDtzPGUubGVuZ3RoO3MrKyl0PXRoaXMuY3JlYXRlSW1wcmVzc2lvbk9iamVjdChlW3NdKSxhLnB1c2godCk7ZWxzZSB0PXRoaXMuY3JlYXRlSW1wcmVzc2lvbk9iamVjdChlKSxhLnB1c2godCk7dmFyIG49ITA7ci5yZXR1cm5PYmpUeXBlPT09dGhpcy5DT05TVEFOVFMuUkVUVVJOX09CSl9UWVBFLlVSTF9QQVJBTVNfU1BMSVQmJihuPSExKTt2YXIgZD17cmVxdWVzdHM6W119O24mJihkLmlkTWFwcGluZ3M9W10pO2Zvcih2YXIgYz1udWxsLG89IiIuY29uY2F0KHIuYWRTZXJ2ZXJCYXNlVXJsLCIvIikuY29uY2F0KHRoaXMuQ09OU1RBTlRTLkVORF9QT0lOVCwiPyIpLmNvbmNhdCh0aGlzLkNPTlNUQU5UUy5BRF9TRVJWRVJfVVJMX1BBUkFNKSx1PXtiaWRfcmVxdWVzdDp0aGlzLmNyZWF0ZUJhc2ljQmlkUmVxdWVzdE9iamVjdChyLGkpfSxsPTA7bDxhLmxlbmd0aDtsKyspaWYoKHQ9YVtsXSkuZXJyb3JDb2RlKShjPWN8fFtdKS5wdXNoKHtlcnJvckNvZGU6dC5lcnJvckNvZGUsYWRVbml0SWQ6dC5hZFVuaXRJZH0pO2Vsc2V7biYmZC5pZE1hcHBpbmdzLnB1c2goe2FkVW5pdElkOnQuYWRVbml0SWQsaWQ6dC5pbXByZXNzaW9uT2JqZWN0LmlkfSksdS5iaWRfcmVxdWVzdC5pbXA9dS5iaWRfcmVxdWVzdC5pbXB8fFtdLHUuYmlkX3JlcXVlc3QuaW1wLnB1c2godC5pbXByZXNzaW9uT2JqZWN0KTt2YXIgcD0hMTsobytlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkodSkpKS5sZW5ndGg+dGhpcy5DT05TVEFOVFMuTUFYX1VSTF9MRU5HVEgmJihwPSEwLDE8dS5iaWRfcmVxdWVzdC5pbXAubGVuZ3RoJiYodS5iaWRfcmVxdWVzdC5pbXAucG9wKCksbiYmZC5pZE1hcHBpbmdzLnBvcCgpLGwtLSkpLCFwJiZyLnNpbmdsZVJlcXVlc3RNb2RlJiZsIT09YS5sZW5ndGgtMXx8KGQucmVxdWVzdHMucHVzaCh0aGlzLmZvcm1hdFJlcXVlc3Qocix1KSksdT17YmlkX3JlcXVlc3Q6dGhpcy5jcmVhdGVCYXNpY0JpZFJlcXVlc3RPYmplY3QocixpKX0pfXJldHVybiBjJiYoZC5lcnJvcnM9YyksZH0sdGhpcy5mb3JtYXRSZXF1ZXN0PWZ1bmN0aW9uKGUscil7c3dpdGNoKGUucmV0dXJuT2JqVHlwZSl7Y2FzZSB0aGlzLkNPTlNUQU5UUy5SRVRVUk5fT0JKX1RZUEUuVVJMX1BBUkFNU19TUExJVDpyZXR1cm57bWV0aG9kOiJHRVQiLHVybDoiIi5jb25jYXQoZS5hZFNlcnZlckJhc2VVcmwsIi8iKS5jb25jYXQodGhpcy5DT05TVEFOVFMuRU5EX1BPSU5UKSxkYXRhOiIiLmNvbmNhdCh0aGlzLkNPTlNUQU5UUy5BRF9TRVJWRVJfVVJMX1BBUkFNKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHIpKSl9O2RlZmF1bHQ6cmV0dXJue3VybDoiIi5jb25jYXQoZS5hZFNlcnZlckJhc2VVcmwsIi8iKSsiIi5jb25jYXQodGhpcy5DT05TVEFOVFMuRU5EX1BPSU5ULCI/IikuY29uY2F0KHRoaXMuQ09OU1RBTlRTLkFEX1NFUlZFUl9VUkxfUEFSQU0pK2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShyKSl9fX0sdGhpcy5jcmVhdGVCYXNpY0JpZFJlcXVlc3RPYmplY3Q9ZnVuY3Rpb24oZSxyKXt2YXIgaT17c2VjdXJlOjF9O2lmKGUucmVxdWVzdElkP2kuaWQ9ZS5yZXF1ZXN0SWQ6aS5pZD1oLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxlLmRvbWFpbiYmKGkuZG9tYWluPWUuZG9tYWluKSxlLnBhZ2UmJihpLnBhZ2U9ZS5wYWdlKSxlLnJlZiYmKGkucmVmPWUucmVmKSxlLmNhbGxiYWNrJiYoaS5jYWxsYmFjaz1lLmNhbGxiYWNrKSxlLmxpYlZlcnNpb24mJihpLnZlcnNpb249ZS5saWJWZXJzaW9uKyItIit0aGlzLkNPTlNUQU5UUy5DTElFTlRfVkVSU0lPTiksZS5yZWZlcnJlciYmKGkucmVmZXJyZXI9ZS5yZWZlcnJlciksIWUuZ2RwciYmMCE9PWUuZ2Rwcnx8KGkuZ2Rwcj1lLmdkcHIpLGUuc2NoYWluJiYoaS5zY2hhaW49ZS5zY2hhaW4pLHIpZm9yKHZhciB0IGluIHIpaVt0XT1yW3RdO3JldHVybiBpfSx0aGlzLmNyZWF0ZUltcHJlc3Npb25PYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHI9e30saT17fTtpZihyLmltcHJlc3Npb25PYmplY3Q9aSxlLmlkP2kuaWQ9ZS5pZDppLmlkPWguZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLGUuYWRUeXBlcyYmKGkuYWRfdHlwZXM9ZS5hZFR5cGVzKSxlLmFkVW5pdElkJiYoci5hZFVuaXRJZD1lLmFkVW5pdElkKSxlLmN1cnJlbmN5JiYoaS5jdXJyZW5jeT1lLmN1cnJlbmN5LnRvVXBwZXJDYXNlKCkpLGUuYmlkRmxvb3ImJihpLmJpZGZsb29yPWUuYmlkRmxvb3IpLGUuYmlkRmxvb3JDdXImJihpLmJpZGZsb29yY3VyPWUuYmlkRmxvb3JDdXIudG9VcHBlckNhc2UoKSksZS5wbGFjZW1lbnRJZCYmKGkucGlkPWUucGxhY2VtZW50SWQpLGUucHVibGlzaGVySWQmJihpLnB1YmlkPWUucHVibGlzaGVySWQpLGUucGxhY2VtZW50S2V5JiYoaS5wa2V5PWUucGxhY2VtZW50S2V5KSxlLnRyYW5zYWN0aW9uSWQmJihpLnRpZD1lLnRyYW5zYWN0aW9uSWQpLGUua2V5VmFsdWVzKWZvcih2YXIgdCBpbiBlLmtleVZhbHVlcylmb3IodmFyIGE9MDthPGUua2V5VmFsdWVzW3RdLmxlbmd0aDthKyspaS5rdnc9aS5rdnd8fHt9LGkua3Z3W3RdPWkua3Z3W3RdfHxbXSxpLmt2d1t0XS5wdXNoKGUua2V5VmFsdWVzW3RdW2FdKTtpZihpLmJhbm5lcj17fSxlLnNpemUmJmUuc2l6ZS53JiZlLnNpemUuaCYmKGkuYmFubmVyLnc9ZS5zaXplLncsaS5iYW5uZXIuaD1lLnNpemUuaCksZS5mb3JtYXQmJmguaXNBcnJheShlLmZvcm1hdCkpe3ZhciBzPWUuZm9ybWF0LmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMj09PWUubGVuZ3RoJiZoLmlzSW50ZWdlcihlWzBdKSYmaC5pc0ludGVnZXIoZVsxXSkmJjA8PWVbMF0mJjA8PWVbMV19KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSk7MDxzLmxlbmd0aCYmKGkuYmFubmVyLmZvcm1hdD1zKX1yZXR1cm4gaS5waWR8fGkucHViaWR8fGkucGtleXx8aS5iYW5uZXImJmkuYmFubmVyLncmJmkuYmFubmVyLmh8fChyLmltcHJlc3Npb25PYmplY3Q9bnVsbCxyLmVycm9yQ29kZT10aGlzLkNPTlNUQU5UUy5FUlJPUl9DT0RFUy5NSVNTSU5HX1BMQUNFTUVOVF9QQVJBTVMpLHJ9fU9iamVjdCh0LnJlZ2lzdGVyQmlkZGVyKShhKX19LFszNzddKTsKdXBianNDaHVuayhbMTgyXSx7MzkxOmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCgzOTIpfSwzOTI6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIE99KTt2YXIgbD10KDApLGI9dCgyKSxhPXQoMTIpLGk9dC5uKGEpLHk9dCgzKSxuPXQoMzkzKSxvPXQubihuKSxzPXQoMSk7ZnVuY3Rpb24gdihlKXtyZXR1cm4odj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciBkPVtiLmIsYi5kXSxoPTEwMCxnPTM1LHc9MzYwMCx4PSEwLEk9e0pQWToxfTtmdW5jdGlvbiBwKGUpe3ZhciByPXUoZSk7ci52aWRlbz1sLmRlZXBDbG9uZShlLnBhcmFtcy52aWRlbyksci52aWRlby53PWUucGFyYW1zLnNpemVbMF0sci52aWRlby5oPWUucGFyYW1zLnNpemVbMV07dmFyIHQ9bC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpO3JldHVybiB0JiYoImluc3RyZWFtIj09PXQ/ci52aWRlby5wbGFjZW1lbnQ9MToib3V0c3RyZWFtIj09PXQ/ci52aWRlby5wbGFjZW1lbnQ9NDpsLmxvZ1dhcm4oIml4IGJpZGRlciBwYXJhbXM6IHZpZGVvIGNvbnRleHQgJyIuY29uY2F0KHQsIicgaXMgbm90IHN1cHBvcnRlZCIpKSkscn1mdW5jdGlvbiB1KGUpe3ZhciByPXt9O3JldHVybiByLmlkPWUuYmlkSWQsci5leHQ9e30sci5leHQuc2lkPSIiLmNvbmNhdChlLnBhcmFtcy5zaXplWzBdLCJ4IikuY29uY2F0KGUucGFyYW1zLnNpemVbMV0pLHIuZXh0LnNpdGVJRD1lLnBhcmFtcy5zaXRlSWQsZS5wYXJhbXMuaGFzT3duUHJvcGVydHkoImJpZEZsb29yIikmJmUucGFyYW1zLmhhc093blByb3BlcnR5KCJiaWRGbG9vckN1ciIpJiYoci5iaWRmbG9vcj1lLnBhcmFtcy5iaWRGbG9vcixyLmJpZGZsb29yY3VyPWUucGFyYW1zLmJpZEZsb29yQ3VyKSxyfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJjI9PT1lLmxlbmd0aCYmbygpKGVbMF0pJiZvKCkoZVsxXSl9ZnVuY3Rpb24gbShlLHIpe2lmKGMoZSkpcmV0dXJuIGVbMF09PT1yWzBdJiZlWzFdPT09clsxXTtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKylpZihlW3RdWzBdPT09clswXSYmZVt0XVsxXT09PXJbMV0pcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gUChyLGUpe2lmKHIpcmV0dXJuIGkoKShlLGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkPT09cn0pfWZ1bmN0aW9uIGYoZSxyLHQsYSl7dmFyIGk9W107aWYod2luZG93LmhlYWRlcnRhZyYmImZ1bmN0aW9uIj09dHlwZW9mIHdpbmRvdy5oZWFkZXJ0YWcuZ2V0SWRlbnRpdHlJbmZvKXt2YXIgbj13aW5kb3cuaGVhZGVydGFnLmdldElkZW50aXR5SW5mbygpO2lmKG4mJiJvYmplY3QiPT09dihuKSlmb3IodmFyIG8gaW4gbilpZihuLmhhc093blByb3BlcnR5KG8pKXt2YXIgcz1uW29dOyFzLnJlc3BvbnNlUGVuZGluZyYmcy5kYXRhJiYib2JqZWN0Ij09PXYocy5kYXRhKSYmT2JqZWN0LmtleXMocy5kYXRhKS5sZW5ndGgmJmkucHVzaChzLmRhdGEpfX12YXIgZD17fTtpZihkLmlkPWVbMF0uYmlkZGVyUmVxdWVzdElkLGQuaW1wPXQsZC5zaXRlPXt9LGQuZXh0PXt9LGQuZXh0LnNvdXJjZT0icHJlYmlkIiwwPGkubGVuZ3RoJiYoZC51c2VyPXt9LGQudXNlci5laWRzPWkpLGRvY3VtZW50LnJlZmVycmVyJiYiIiE9PWRvY3VtZW50LnJlZmVycmVyJiYoZC5zaXRlLnJlZj1kb2N1bWVudC5yZWZlcnJlcikscil7aWYoci5nZHByQ29uc2VudCl7dmFyIHA9ci5nZHByQ29uc2VudDtwLmhhc093blByb3BlcnR5KCJnZHByQXBwbGllcyIpJiYoZC5yZWdzPXtleHQ6e2dkcHI6cC5nZHByQXBwbGllcz8xOjB9fSkscC5oYXNPd25Qcm9wZXJ0eSgiY29uc2VudFN0cmluZyIpJiYoZC51c2VyPWQudXNlcnx8e30sZC51c2VyLmV4dD17Y29uc2VudDpwLmNvbnNlbnRTdHJpbmd8fCIifSl9ci5yZWZlcmVySW5mbyYmKGQuc2l0ZS5wYWdlPXIucmVmZXJlckluZm8ucmVmZXJlcil9dmFyIHU9e30sYz15LmIuZ2V0Q29uZmlnKCJpeCIpO2lmKGMpe2lmKCJvYmplY3QiPT09dihjLmZpcnN0UGFydHlEYXRhKSl7dmFyIG09Yy5maXJzdFBhcnR5RGF0YSxmPSI/Ijtmb3IodmFyIGwgaW4gbSltLmhhc093blByb3BlcnR5KGwpJiYoZis9IiIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChsKSwiPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQobVtsXSksIiYiKSk7Zj1mLnNsaWNlKDAsLTEpLGQuc2l0ZS5wYWdlKz1mfSJudW1iZXIiPT10eXBlb2YgYy50aW1lb3V0JiYodS50PWMudGltZW91dCl9cmV0dXJuIHUucz1lWzBdLnBhcmFtcy5zaXRlSWQsdS52PWEsdS5yPUpTT04uc3RyaW5naWZ5KGQpLHUuYWM9ImoiLHUuc2Q9MSw4LjE9PT1hJiYodS5uZj0xKSx7bWV0aG9kOiJHRVQiLHVybDoiaHR0cHM6Ly9hcy1zZWMuY2FzYWxlbWVkaWEuY29tL2N5Z251cyIsZGF0YTp1fX12YXIgTz17Y29kZToiaXgiLGFsaWFzZXM6WyJpbmRleEV4Y2hhbmdlIl0sc3VwcG9ydGVkTWVkaWFUeXBlczpkLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe2lmKCFjKGUucGFyYW1zLnNpemUpKXJldHVybiBsLmxvZ0Vycm9yKCJpeCBiaWRkZXIgcGFyYW1zOiBiaWQgc2l6ZSBoYXMgaW52YWxpZCBmb3JtYXQuIiksITE7aWYoInN0cmluZyIhPXR5cGVvZiBlLnBhcmFtcy5zaXRlSWQmJiJudW1iZXIiIT10eXBlb2YgZS5wYXJhbXMuc2l0ZUlkKXJldHVybiBsLmxvZ0Vycm9yKCJpeCBiaWRkZXIgcGFyYW1zOiBzaXRlSWQgbXVzdCBiZSBzdHJpbmcgb3IgbnVtYmVyIHZhbHVlLiIpLCExO3ZhciByLHQsYT1lLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiYmlkRmxvb3IiKSxpPWUucGFyYW1zLmhhc093blByb3BlcnR5KCJiaWRGbG9vckN1ciIpO3JldHVybiEhKCFhJiYhaXx8YSYmaSYmKHI9ZS5wYXJhbXMuYmlkRmxvb3IsdD1lLnBhcmFtcy5iaWRGbG9vckN1cixCb29sZWFuKCJudW1iZXIiPT10eXBlb2YgciYmInN0cmluZyI9PXR5cGVvZiB0JiZ0Lm1hdGNoKC9eW0EtWl17M30kLykpKSl8fChsLmxvZ0Vycm9yKCJpeCBiaWRkZXIgcGFyYW1zOiBiaWRGbG9vciAvIGJpZEZsb29yQ3VyIHBhcmFtZXRlciBoYXMgaW52YWxpZCBmb3JtYXQuIiksITEpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7Zm9yKHZhciB0LGEsaT1bXSxuPVtdLG89W10scz1udWxsLGQ9MDtkPGUubGVuZ3RoO2QrKykocz1lW2RdKS5tZWRpYVR5cGUhPT1iLmQmJiFsLmRlZXBBY2Nlc3MocywibWVkaWFUeXBlcy52aWRlbyIpfHwocy5tZWRpYVR5cGU9PT1iLmR8fG0ocy5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUscy5wYXJhbXMuc2l6ZSk/by5wdXNoKHAocykpOmwubG9nRXJyb3IoIkJpZCBzaXplIGlzIG5vdCBpbmNsdWRlZCBpbiB2aWRlbyBwbGF5ZXJTaXplIikpLHMubWVkaWFUeXBlIT09Yi5iJiYhbC5kZWVwQWNjZXNzKHMsIm1lZGlhVHlwZXMuYmFubmVyIikmJihzLm1lZGlhVHlwZXx8cy5tZWRpYVR5cGVzKXx8bi5wdXNoKChhPXZvaWQgMCwoYT11KHQ9cykpLmJhbm5lcj17fSxhLmJhbm5lci53PXQucGFyYW1zLnNpemVbMF0sYS5iYW5uZXIuaD10LnBhcmFtcy5zaXplWzFdLGEuYmFubmVyLnRvcGZyYW1lPWwuaW5JZnJhbWUoKT8wOjEsYSkpO3JldHVybiAwPG4ubGVuZ3RoJiZpLnB1c2goZihlLHIsbiw3LjIpKSwwPG8ubGVuZ3RoJiZpLnB1c2goZihlLHIsbyw4LjEpKSxpfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PVtdO2lmKCFlLmhhc093blByb3BlcnR5KCJib2R5Iil8fCFlLmJvZHkuaGFzT3duUHJvcGVydHkoInNlYXRiaWQiKSlyZXR1cm4gdDtmb3IodmFyIGEsaSxuLG8scz1lLmJvZHksZD1zLnNlYXRiaWQscD0wO3A8ZC5sZW5ndGg7cCsrKWlmKGRbcF0uaGFzT3duUHJvcGVydHkoImJpZCIpKWZvcih2YXIgdT1kW3BdLmJpZCxjPUpTT04ucGFyc2Uoci5kYXRhLnIpLG09MDttPHUubGVuZ3RoO20rKyl7dmFyIGY9UCh1W21dLmltcGlkLGMuaW1wKTthPXVbbV0saT1zLmN1cixuPWYsbz12b2lkIDAsbz17fSxJLmhhc093blByb3BlcnR5KGkpP28uY3BtPWEucHJpY2UvSVtpXTpvLmNwbT1hLnByaWNlL2gsby5yZXF1ZXN0SWQ9YS5pbXBpZCxvLmRlYWxJZD1sLmRlZXBBY2Nlc3MoYSwiZXh0LmRlYWxpZCIpLG8ubmV0UmV2ZW51ZT14LG8uY3VycmVuY3k9aSxvLmNyZWF0aXZlSWQ9YS5oYXNPd25Qcm9wZXJ0eSgiY3JpZCIpP2EuY3JpZDoiLSIsbC5kZWVwQWNjZXNzKGEsImV4dC52YXN0dXJsIik/KG8udmFzdFVybD1hLmV4dC52YXN0dXJsLG8ud2lkdGg9bi52aWRlby53LG8uaGVpZ2h0PW4udmlkZW8uaCxvLm1lZGlhVHlwZT1iLmQsby50dGw9dyk6KG8uYWQ9YS5hZG0sby53aWR0aD1hLncsby5oZWlnaHQ9YS5oLG8ubWVkaWFUeXBlPWIuYixvLnR0bD1nKSxvLm1ldGE9e30sby5tZXRhLm5ldHdvcmtJZD1sLmRlZXBBY2Nlc3MoYSwiZXh0LmRzcGlkIiksby5tZXRhLmJyYW5kSWQ9bC5kZWVwQWNjZXNzKGEsImV4dC5hZHZicmFuZGlkIiksby5tZXRhLmJyYW5kTmFtZT1sLmRlZXBBY2Nlc3MoYSwiZXh0LmFkdmJyYW5kIiksdC5wdXNoKG8pfXJldHVybiB0fSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGwuY29udmVydFR5cGVzKHtzaXRlSUQ6Im51bWJlciJ9LGUpfX07T2JqZWN0KHMucmVnaXN0ZXJCaWRkZXIpKE8pfX0sWzM5MV0pOwp1cGJqc0NodW5rKFsxNzhdLHs0MDQ6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDQwNSl9LDQwNTpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsZnVuY3Rpb24oKXtyZXR1cm4gbn0pO3ZhciBpPXQoMCksYT10KDEpO2Z1bmN0aW9uIGQoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgcj0wLHQ9bmV3IEFycmF5KGUubGVuZ3RoKTtyPGUubGVuZ3RoO3IrKyl0W3JdPWVbcl07cmV0dXJuIHR9fShlKXx8ZnVuY3Rpb24oZSl7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKXx8IltvYmplY3QgQXJndW1lbnRzXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9KCl9dmFyIG49e2NvZGU6ImtvbW9vbmEiLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUmJmUucGFyYW1zJiZlLnBhcmFtcy5wbGFjZW1lbnRJZCYmZS5wYXJhbXMuaGJpZCl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSl7dmFyIHIsdD1lLm1hcChmdW5jdGlvbihlKXt2YXIgcj17dXVpZDplLmJpZElkLHNpemVzOmUuc2l6ZXMsdHJpZDplLnRyYW5zYWN0aW9uSWQsaGJpZDplLnBhcmFtcy5oYmlkLHBsYWNlbWVudGlkOmUucGFyYW1zLnBsYWNlbWVudElkfTtyZXR1cm4gZS5wYXJhbXMuZmxvb3JQcmljZSYmKHIuZmxvb3JwcmljZT1lLnBhcmFtcy5mbG9vclByaWNlKSxyfSksYT0obmV3IERhdGUpLmdldFRpbWUoKSxuPXt0c19hczphLGhiX3BsYWNlbWVudHM6W10saGJfcGxhY2VtZW50X2JpZGlkczp7fSxoYl9mbG9vcnM6e30sY2I6KHI9YSxNYXRoLmZsb29yKHIlNjU1MzYrNjU1MzYqTWF0aC5mbG9vcig2NTUzNipNYXRoLnJhbmRvbSgpKSkpLHR6OihuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKX07ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe24uaGRiZGlkPW4uaGRiZGlkfHxlLnBhcmFtcy5oYmlkLG4uZW5jb2RlX2JpZD1uLmVuY29kZV9iaWR8fGUucGFyYW1zLmVuY29kZV9iaWQsbi5oYl9wbGFjZW1lbnRfYmlkaWRzW2UucGFyYW1zLnBsYWNlbWVudElkXT1lLmJpZElkLGUucGFyYW1zLmZsb29yUHJpY2UmJihuLmhiX2Zsb29yc1tlLnBhcmFtcy5wbGFjZW1lbnRJZF09ZS5wYXJhbXMuZmxvb3JQcmljZSksbi5oYl9wbGFjZW1lbnRzLnB1c2goZS5wYXJhbXMucGxhY2VtZW50SWQpfSk7dmFyIG89e307cmV0dXJuIGkuaXNFbXB0eSh0KXx8KG89e2JpZHM6ZCh0KSxrYkNvbmY6bn0pLHttZXRob2Q6IlBPU1QiLHVybDoiLy9iaWRkZXIua29tb29uYS5jb20vdjEvR2V0U0JpZHMiLGRhdGE6SlNPTi5zdHJpbmdpZnkobyl9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlKXt2YXIgcj1bXTt0cnl7ZS5ib2R5JiZlLmJvZHkuYmlkcyYmZS5ib2R5LmJpZHMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlcXVlc3RJZD1lLnV1aWQsZS5hZD1lLmNyZWF0aXZlLHIucHVzaChlKX0pfWNhdGNoKGUpe2kubG9nRXJyb3IoZSl9cmV0dXJuIHJ9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlKXtpZihlLmlmcmFtZUVuYWJsZWQpcmV0dXJuW3t0eXBlOiJpZnJhbWUiLHVybDoiLy9zLmtvbW9vbmEuY29tL3N5bmMvdXN5bmMuaHRtbCJ9XX19O09iamVjdChhLnJlZ2lzdGVyQmlkZGVyKShuKX19LFs0MDRdKTsKdXBianNDaHVuayhbMTcwXSx7NDI0OmZ1bmN0aW9uKGUsbixyKXtlLmV4cG9ydHM9cig0MjUpfSw0MjU6ZnVuY3Rpb24oZSxuLHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKG4sInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIGl9KTt2YXIgbz1yKDApLHQ9cigyKSxkPXIoMSksaT17Y29kZToibG9ja2VyZG9tZSIsc3VwcG9ydGVkTWVkaWFUeXBlczpbdC5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIWUucGFyYW1zLmFkVW5pdElkfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsbil7dmFyIHIsdD1lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5zY2hhaW4mJihyPXJ8fGUuc2NoYWluKSx7cmVxdWVzdElkOmUuYmlkSWQsYWRVbml0Q29kZTplLmFkVW5pdENvZGUsYWRVbml0SWQ6by5nZXRCaWRJZFBhcmFtZXRlcigiYWRVbml0SWQiLGUucGFyYW1zKSxzaXplczplLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXN9fSksZD1uJiZuLnJlZmVyZXJJbmZvJiZuLnJlZmVyZXJJbmZvLmNhbm9uaWNhbFVybHx8IiIsaT1uJiZuLnJlZmVyZXJJbmZvJiZuLnJlZmVyZXJJbmZvLnJlZmVyZXJ8fCIiLHM9e2JpZFJlcXVlc3RzOnQsdXJsOmVuY29kZVVSSUNvbXBvbmVudChkKSxyZWZlcnJlcjplbmNvZGVVUklDb21wb25lbnQoaSl9O3JldHVybiByJiYocy5zY2hhaW49ciksbiYmKG4uZ2RwckNvbnNlbnQmJihzLmdkcHI9e2FwcGxpZXM6bi5nZHByQ29uc2VudC5nZHByQXBwbGllcyxjb25zZW50Om4uZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZ30pLG4udXNwQ29uc2VudCYmKHMudXNfcHJpdmFjeT17Y29uc2VudDpuLnVzcENvbnNlbnR9KSkse21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovL2xvY2tlcmRvbWUuY29tL2xhZGJpZC9wcmViaWQiLGRhdGE6SlNPTi5zdHJpbmdpZnkocyl9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5ib2R5JiZlLmJvZHkuYmlkcz9lLmJvZHkuYmlkcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue3JlcXVlc3RJZDplLnJlcXVlc3RJZCxjcG06ZS5jcG0sd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsY3JlYXRpdmVJZDplLmNyZWF0aXZlSWQsY3VycmVuY3k6ZS5jdXJyZW5jeSxuZXRSZXZlbnVlOmUubmV0UmV2ZW51ZSxhZDplLmFkLHR0bDplLnR0bH19KTpbXX19O09iamVjdChkLnJlZ2lzdGVyQmlkZGVyKShpKX19LFs0MjRdKTsKdXBianNDaHVuayhbMTYzXSx7NDQwOmZ1bmN0aW9uKHQsZSxyKXt0LmV4cG9ydHM9cig0NDEpfSw0NDE6ZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKGUsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIFR9KTt2YXIgbj1yKDEpLGQ9cigwKSxpPXIoMyksYT1yKDkpLG89cigyKSxjPXIoMzIpO2Z1bmN0aW9uIHUoKXtyZXR1cm4odT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgcj1hcmd1bWVudHNbZV07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJih0W25dPXJbbl0pfXJldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBzPSJtZWRpYW5ldCIscD17Tk9UX0RFVEVSTUlORUQ6MCxBQk9WRV9USEVfRk9MRDoxLEJFTE9XX1RIRV9GT0xEOjJ9LGw9ImNsaWVudF90aW1lb3V0IixmPSJjbGllbnRfYmlkX3dvbiIsbT1PYmplY3QoYy5iKSgpLGc9e307ZnVuY3Rpb24gYih0KXtyZXR1cm4gdSh7ZG9tYWluOih0PXR8fHt9KS5kb21haW58fGcudXJsRGF0YS5kb21haW4scGFnZTp0LnBhZ2V8fGcudXJsRGF0YS5wYWdlLHJlZjp0LnJlZnx8ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHdpbmRvdy50b3AuZG9jdW1lbnQucmVmZXJyZXJ9Y2F0Y2godCl7cmV0dXJuIGRvY3VtZW50LnJlZmVycmVyfX0oKSxpc1RvcDp0LmlzVG9wfHxnLnVybERhdGEuaXNUb3B9LGZ1bmN0aW9uKCl7aWYoZy5wYWdlTWV0YSlyZXR1cm4gZy5wYWdlTWV0YTt2YXIgdD15KCdsaW5rW3JlbD0iY2Fub25pY2FsIl0nLCJocmVmIiksZT15KCdtZXRhW3Byb3BlcnR5PSJvZzp1cmwiXScsImNvbnRlbnQiKSxyPXkoJ21ldGFbbmFtZT0idHdpdHRlcjp1cmwiXScsImNvbnRlbnQiKTtyZXR1cm4gZy5wYWdlTWV0YT11KHt9LHQmJntjYW5vbmljYWxfdXJsOnR9LGUmJntvZ191cmw6ZX0sciYme3R3aXR0ZXJfdXJsOnJ9KSxnLnBhZ2VNZXRhfSgpKX1mdW5jdGlvbiB5KHQsZSl7dmFyIHIsbixpPWZ1bmN0aW9uKHQsZSl7dHJ5e3ZhciByPWQuZ2V0V2luZG93VG9wKCkuZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0KTtpZihudWxsIT09ciYmcltlXSlyZXR1cm4gcltlXX1jYXRjaCh0KXt9fSh0LGUpO3JldHVybiBpJiYocj1pLChuPWQuZ2V0V2luZG93VG9wKCkuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpKS5ocmVmPXIsbi5ocmVmKX1mdW5jdGlvbiBoKHQsZSl7cmV0dXJuIHQuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGU9PT1lfSl9ZnVuY3Rpb24gdih0KXtyZXR1cm57dzpwYXJzZUludCh0WzBdLDEwKSxoOnBhcnNlSW50KHRbMV0sMTApfX1mdW5jdGlvbiBfKHQpe3ZhciBlLHI9e2lkOnQuYmlkSWQsZXh0OntkZnBfaWQ6dC5hZFVuaXRDb2RlLGRpc3BsYXlfY291bnQ6dC5iaWRSZXF1ZXN0c0NvdW50fSxhbGw6dC5wYXJhbXN9LG49ZC5kZWVwQWNjZXNzKHQsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIil8fHQuc2l6ZXN8fFtdO2lmKDA8bi5sZW5ndGgmJihyLmJhbm5lcj0oZT1uLGQuaXNBcnJheShlKSYmMj09PWUubGVuZ3RoJiYhZC5pc0FycmF5KGVbMF0pP1t2KGUpXTplLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdih0KX0pKSksdC5uYXRpdmVQYXJhbXMpdHJ5e3IubmF0aXZlPUpTT04uc3RyaW5naWZ5KHQubmF0aXZlUGFyYW1zKX1jYXRjaCh0KXtkLmxvZ0Vycm9yKCIiLmNvbmNhdChzLCIgOiBJbmNvcnJlY3QgSlNPTiA6IGJpZFJlcXVlc3QubmF0aXZlUGFyYW1zIikpfXQucGFyYW1zLmNyaWQmJihyLnRhZ2lkPXQucGFyYW1zLmNyaWQudG9TdHJpbmcoKSk7dmFyIGk9cGFyc2VGbG9hdCh0LnBhcmFtcy5iaWRmbG9vcik7aSYmKHIuYmlkZmxvb3I9aSk7dmFyIGEsbz1mdW5jdGlvbih0KXt2YXIgZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0KTtpZihlJiZlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCl7dmFyIHI9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxuPXt9O3JldHVybiBuLnRvcF9sZWZ0PXt5OnIudG9wLHg6ci5sZWZ0fSxuLmJvdHRvbV9yaWdodD17eTpyLmJvdHRvbSx4OnIucmlnaHR9LG59cmV0dXJuIG51bGx9KHQuYWRVbml0Q29kZSk7aWYobyYmci5iYW5uZXImJjAhPT1yLmJhbm5lci5sZW5ndGgpe3ZhciBjPXt0b3BfbGVmdDp7eDooYT1vKS50b3BfbGVmdC54K3dpbmRvdy5wYWdlWE9mZnNldCx5OmEudG9wX2xlZnQueSt3aW5kb3cucGFnZVlPZmZzZXR9LGJvdHRvbV9yaWdodDp7eDphLmJvdHRvbV9yaWdodC54K3dpbmRvdy5wYWdlWE9mZnNldCx5OmEuYm90dG9tX3JpZ2h0Lnkrd2luZG93LnBhZ2VZT2Zmc2V0fX07ci5leHQuY29vcmRpbmF0ZXM9YyxyLmV4dC52aWV3YWJpbGl0eT13KG8udG9wX2xlZnQseChyLmJhbm5lcikpLC41PHcoYy50b3BfbGVmdCx4KHIuYmFubmVyKSk/ci5leHQudmlzaWJpbGl0eT1wLkFCT1ZFX1RIRV9GT0xEOnIuZXh0LnZpc2liaWxpdHk9cC5CRUxPV19USEVfRk9MRH1lbHNlIHIuZXh0LnZpc2liaWxpdHk9cC5OT1RfREVURVJNSU5FRDtyZXR1cm4gcn1mdW5jdGlvbiB4KHQpe3JldHVybiB0LnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiBlLmgqZS53PHQuaCp0Lnc/ZTp0fSl9ZnVuY3Rpb24gdyh0LGUpe3ZhciByPWUudyplLmgsbj1ULmdldFdpbmRvd1NpemUoKSxpPXt4OnQueCtlLncseTp0LnkrZS5ofTtyZXR1cm4gMD09cnx8LTE9PT1uLnd8fC0xPT09bi5oPzA6ZnVuY3Rpb24odCxlLHIsbil7aWYodC54Pm4ueHx8ZS54PHIueHx8dC55Pm4ueXx8ZS55PHIueSlyZXR1cm4gMDtyZXR1cm4oTWF0aC5taW4oZS54LG4ueCktTWF0aC5tYXgodC54LHIueCkpKihNYXRoLm1pbihlLnksbi55KS1NYXRoLm1heCh0Lnksci55KSl9KHQsaSx7eDowLHk6MH0se3g6bi53LHk6bi5ofSkvcn1mdW5jdGlvbiBFKHQsZSl7cmV0dXJue3NpdGU6Yih0WzBdLnBhcmFtcy5zaXRlKSxleHQ6ZnVuY3Rpb24odCxlKXt2YXIgcj17Y3VzdG9tZXJfaWQ6dC5jaWQscHJlYmlkX3ZlcnNpb246dXBianMudmVyc2lvbn07ci5nZHByX2FwcGxpZXM9ISghZXx8IWUuZ2RwckFwcGxpZXMpLHIuZ2Rwcl9hcHBsaWVzJiYoci5nZHByX2NvbnNlbnRfc3RyaW5nPWUuY29uc2VudFN0cmluZ3x8IiIpO3ZhciBuPVQuZ2V0V2luZG93U2l6ZSgpO3JldHVybi0xIT09bi53JiYtMSE9PW4uaCYmKHIuc2NyZWVuPW4pLHJ9KHRbMF0ucGFyYW1zLGUuZ2RwckNvbnNlbnQpLGlkOnRbMF0uYXVjdGlvbklkLGltcDp0Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gXyh0KX0pLHRtYXg6ZS50aW1lb3V0fHxpLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0Iil9fWZ1bmN0aW9uIE8odCxlKXt2YXIgcj17cHJvdG9jb2w6Imh0dHBzIixob3N0bmFtZToicXNlYXJjaC1hLmFrYW1haWhkLm5ldC9sb2ciLHNlYXJjaDpmdW5jdGlvbih0LGUpe2U9ZC5pc0FycmF5KGUpJiZlfHxbXTt2YXIgcj17bG9naWQ6ImtmayIsZXZ0aWQ6InByb2plY3RldmVudHMiLHByb2plY3Q6InByZWJpZCJ9O3JldHVybiByLmFjaWQ9ZC5kZWVwQWNjZXNzKGUsIjAuYXVjdGlvbklkIil8fCIiLHIuY2lkPXVwYmpzLm1lZGlhbmV0R2xvYmFscy5jaWR8fCIiLHIuY3JpZD1lLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gZC5kZWVwQWNjZXNzKHQsInBhcmFtcy4wLmNyaWQiKXx8dC5hZFVuaXRDb2RlfSkuam9pbigifCIpLHIuYWR1bml0X2NvdW50PWUubGVuZ3RofHwwLHIuZG49Zy51cmxEYXRhLmRvbWFpbnx8IiIsci5yZXF1cmw9Zy51cmxEYXRhLnBhZ2V8fCIiLHIuaXN0b3A9Zy51cmxEYXRhLmlzVG9wfHwiIixyLmV2ZW50PXQubmFtZXx8IiIsci52YWx1ZT10LnZhbHVlfHwiIixyLnJkPXQucmVsYXRlZF9kYXRhfHwiIixyfSh0LGUpfTtkLnRyaWdnZXJQaXhlbChhLmEocikpfWcudXJsRGF0YT17ZG9tYWluOmEuYyhtLnJlZmVyZXIpLmhvc3QscGFnZTptLnJlZmVyZXIsaXNUb3A6bS5yZWFjaGVkVG9wfSx1cGJqcy5tZWRpYW5ldEdsb2JhbHM9e307dmFyIFQ9e2NvZGU6cyxzdXBwb3J0ZWRNZWRpYVR5cGVzOltvLmIsby5jXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbih0KXtyZXR1cm4gdC5wYXJhbXM/dC5wYXJhbXMuY2lkJiZkLmlzU3RyKHQucGFyYW1zLmNpZCkmJiFkLmlzRW1wdHlTdHIodC5wYXJhbXMuY2lkKT8odSh1cGJqcy5tZWRpYW5ldEdsb2JhbHMsIXVwYmpzLm1lZGlhbmV0R2xvYmFscy5jaWQmJntjaWQ6dC5wYXJhbXMuY2lkfSksITApOihkLmxvZ0Vycm9yKCIiLmNvbmNhdChzLCIgOiBjaWQgc2hvdWxkIGJlIGEgc3RyaW5nIikpLCExKTooZC5sb2dFcnJvcigiIi5jb25jYXQocywiIDogTWlzc2luZyBiaWQgcGFyYW1ldGVycyIpKSwhMSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24odCxlKXt2YXIgcj1FKHQsZSk7cmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovL3ByZWJpZC5tZWRpYS5uZXQvcnRiL3ByZWJpZCIsZGF0YTpKU09OLnN0cmluZ2lmeShyKX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKHQpe3ZhciBlPVtdO2lmKCF0fHwhdC5ib2R5KXJldHVybiBkLmxvZ0luZm8oIiIuY29uY2F0KHMsIiA6IHJlc3BvbnNlIGlzIGVtcHR5IikpLGU7dmFyIHI9dC5ib2R5LmJpZExpc3Q7cmV0dXJuIGQuaXNBcnJheShyKSYmMCE9PXIubGVuZ3RoP2U9ci5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuITE9PT0oZT10KS5ub19iaWQmJjA8cGFyc2VGbG9hdChlLmNwbSk7dmFyIGV9KTooZC5sb2dJbmZvKCIiLmNvbmNhdChzLCIgOiBubyBiaWRzIikpLGUpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24odCxlKXt2YXIgcixuPShyPWUsIWQuaXNFbXB0eShyKSYmclswXS5ib2R5JiZyWzBdLmJvZHkuZXh0JiZkLmlzQXJyYXkoclswXS5ib2R5LmV4dC5jc1VybCk/clswXS5ib2R5LmV4dC5jc1VybDpbXSk7cmV0dXJuIHQuaWZyYW1lRW5hYmxlZD9oKG4sImlmcmFtZSIpOnQucGl4ZWxFbmFibGVkP2gobiwiaW1hZ2UiKTp2b2lkIDB9LG9uVGltZW91dDpmdW5jdGlvbih0KXt0cnl7Tyh7bmFtZTpsLHZhbHVlOnQubGVuZ3RoLHJlbGF0ZWRfZGF0YTp0WzBdLnRpbWVvdXR8fGkuYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKX0sdCl9Y2F0Y2godCl7fX0sb25CaWRXb246ZnVuY3Rpb24odCl7dHJ5e08oe25hbWU6Zix2YWx1ZTp0LmNwbX0sW3RdKX1jYXRjaCh0KXt9fSxjbGVhck1uRGF0YTpmdW5jdGlvbigpe2c9e319LGdldFdpbmRvd1NpemU6ZnVuY3Rpb24oKXtyZXR1cm57dzp3aW5kb3cuaW5uZXJXaWR0aHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRofHxkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRofHwtMSxoOndpbmRvdy5pbm5lckhlaWdodHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodHx8ZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHR8fC0xfX19O09iamVjdChuLnJlZ2lzdGVyQmlkZGVyKShUKX19LFs0NDBdKTsKdXBianNDaHVuayhbMTU4XSx7NDUwOmZ1bmN0aW9uKGUscixhKXtlLmV4cG9ydHM9YSg0NTEpfSw0NTE6ZnVuY3Rpb24oZSxyLGEpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksYS5kKHIsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIHB9KTt2YXIgdD1hKDIpLG49YSgxKS5yZWdpc3RlckJpZGRlcixnPSIvL2hiLm15bmF0aXZlcGxhdGZvcm0uY29tL3B1YjIvd2ViL3YxLjE1LjAvaGJ3aWRnZXQuanNvbiI7ZnVuY3Rpb24gYyhlLHIpe3ZhciBhPXtwYWdlVXJsOntlbXB0eVZhbHVlOiJbUEFHRV9VUkxdIixkZWZhdWx0VmFsdWU6ZnVuY3Rpb24oZSl7ZT1lfHx3aW5kb3cubG9jYXRpb24uaHJlZjtmb3IodmFyIHI9bnVsbCxhPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJtZXRhIiksdD0wO3Q8YS5sZW5ndGgmJiFyO3QrKykib2c6dXJsIj09YVt0XS5nZXRBdHRyaWJ1dGUoInByb3BlcnR5IikmJihyPWFbdF0uY29udGVudCk7aWYoIXIpe3ZhciBuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImxpbmtbcmVsPSdjYW5vbmljYWwnXSIpO24mJihyPW4uaHJlZil9cmV0dXJuIGU9cnx8ZSxlbmNvZGVVUklDb21wb25lbnQoZSkudG9TdHJpbmcoKX0oKX0sZGlzcGxheVdpdGhpbklmcmFtZTp7ZW1wdHlWYWx1ZToiIixkZWZhdWx0VmFsdWU6IiJ9LGRhdGFQYXJhbXM6e2VtcHR5VmFsdWU6IltLRVlfVkFMVUVTXSIsZGVmYXVsdFZhbHVlOiIifSxwYWlkQ2xpY2tzOntlbXB0eVZhbHVlOiJbUEFJRF9UUkFDS0lOR19QSVhFTF0iLGRlZmF1bHRWYWx1ZToiIn0sb3JnYW5pY0NsaWNrczp7ZW1wdHlWYWx1ZToiW09SR0FOSUNfVFJBQ0tJTkdfUElYRUxdIixkZWZhdWx0VmFsdWU6IiJ9LGRhdGFWaWV3OntlbXB0eVZhbHVlOiJbVklFV19UUkFDS0lOR19QSVhFTF0iLGRlZmF1bHRWYWx1ZToiIn19O3JldHVybiBhLmhhc093blByb3BlcnR5KGUpP3ImJnIhPT1hW2VdLmVtcHR5VmFsdWU/e3ZhbHVlOnIsZnJvbVVzZXI6ITB9Ont2YWx1ZTphW2VdLmRlZmF1bHRWYWx1ZSxmcm9tVXNlcjohMX06e3ZhbHVlOnIsZnJvbVVzZXI6ITB9fXZhciBwPXtjb2RlOiJteTZzZW5zZSIsc3VwcG9ydGVkTWVkaWFUeXBlczpbdC5iLHQuY10saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISghZS5wYXJhbXN8fCFlLnBhcmFtcy5rZXkpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscyl7dmFyIGk9W107cmV0dXJuIGUmJmUubGVuZ3RoJiZlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9IShlLndpZGdldF9udW09MSksYT0hMTtpZihlLnBhcmFtcylmb3IodmFyIHQgaW4gZS5wYXJhbXMpaWYoZS5wYXJhbXMuaGFzT3duUHJvcGVydHkodCkpe2lmKCJkZWJ1ZyI9PT10JiYhMD09PWUucGFyYW1zW3RdKXthPSEwLGRlbGV0ZSBlLnBhcmFtc1t0XTtjb250aW51ZX12YXIgbj1jKHQsZS5wYXJhbXNbdF0pO2UucGFyYW1zW3RdPW4udmFsdWUsInBhZ2VVcmwiPT09dCYmITA9PT1uLmZyb21Vc2VyJiYocj0hMCksZS5wYXJhbXNbdF18fGRlbGV0ZSBlLnBhcmFtc1t0XX12YXIgcCxkLHU9IiIuY29uY2F0KGcsIj93aWRnZXRfa2V5PSIpLmNvbmNhdChlLnBhcmFtcy5rZXksIiZpc19kYXRhX3VybF9zZXQ9IikuY29uY2F0KHIpO2EmJih1PSIiLmNvbmNhdChnLCI/ZW52PWRlYnVnJndpZGdldF9rZXk9IikuY29uY2F0KGUucGFyYW1zLmtleSwiJmlzX2RhdGFfdXJsX3NldD0iKS5jb25jYXQocikpLGUuZ2Rwcj0oZD17Z2Rwcl9jb25zZW50Om51bGwsZ2RwcjpudWxsfSwocD1zKSYmImdkcHJDb25zZW50ImluIHAmJihkLmdkcHJfY29uc2VudD1wLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmd8fG51bGwsZC5nZHByPW51bGw9PT1kLmdkcHImJjE9PXAuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXN8fGQuZ2RwcixkLmdkcHI9KG51bGwhPT1kLmdkcHJ8fDAhPXAuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpJiZkLmdkcHIsZC5nZHByPW51bGw9PT1kLmdkcHImJjE9PXAuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXN8fGQuZ2RwcixkLmdkcHI9KG51bGwhPT1kLmdkcHJ8fDAhPXAuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpJiZkLmdkcHIpLGQpO3ZhciBsPXt9O2Zvcih2YXIgbyBpbiBlKWxbb109ZVtvXSwiYmlkZGVyIj09PW8mJihsW29dPSJteTZzZW5zZSIpO2kucHVzaCh7dXJsOnUsbWV0aG9kOiJQT1NUIixkYXRhOkpTT04uc3RyaW5naWZ5KGwpfSl9KSxpfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlKXt2YXIgcj1bXTtyZXR1cm4gZS5ib2R5JiYoZS5ib2R5LmJpZGRlckNvZGU9dGhpcy5jb2RlLHIucHVzaChlLmJvZHkpKSxyfX07bihwKX19LFs0NTBdKTsKdXBianNDaHVuayhbMTUzXSx7NDYwOmZ1bmN0aW9uKGUsXyx0KXtlLmV4cG9ydHM9dCg0NjEpfSw0NjE6ZnVuY3Rpb24obW9kdWxlLF9fd2VicGFja19leHBvcnRzX18sX193ZWJwYWNrX3JlcXVpcmVfXyl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfZXhwb3J0c19fLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywiQklEREVSX0NPREUiLGZ1bmN0aW9uKCl7cmV0dXJuIEJJRERFUl9DT0RFfSksX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIkVOR0lORV9CQVNFX1VSTCIsZnVuY3Rpb24oKXtyZXR1cm4gRU5HSU5FX0JBU0VfVVJMfSksX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIk5BVElWT19KU19VUkwiLGZ1bmN0aW9uKCl7cmV0dXJuIE5BVElWT19KU19VUkx9KSxfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywiVVNFUklEIixmdW5jdGlvbigpe3JldHVybiBVU0VSSUR9KSxfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywiVVNFUklTTkVXIixmdW5jdGlvbigpe3JldHVybiBVU0VSSVNORVd9KSxfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywiUkVGRVJFUiIsZnVuY3Rpb24oKXtyZXR1cm4gUkVGRVJFUn0pLF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCJTUE9OU09SRURfQVJUSUNMRSIsZnVuY3Rpb24oKXtyZXR1cm4gU1BPTlNPUkVEX0FSVElDTEV9KSxfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywic3BlYyIsZnVuY3Rpb24oKXtyZXR1cm4gc3BlY30pO3ZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfc3JjX3V0aWxzX189X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3NyY19hZGFwdGVyc19iaWRkZXJGYWN0b3J5X189X193ZWJwYWNrX3JlcXVpcmVfXygxKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3NyY19tZWRpYVR5cGVzX189X193ZWJwYWNrX3JlcXVpcmVfXygyKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfc3JjX2FkbG9hZGVyX189X193ZWJwYWNrX3JlcXVpcmVfXygzNSk7ZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KGUsXyx0KXtyZXR1cm4gXyBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLF8se3ZhbHVlOnQsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW19dPXQsZX12YXIgQklEREVSX0NPREU9Im50diIsRU5HSU5FX0JBU0VfVVJMPSJodHRwczovL2phZHNlcnZlLnBvc3RyZWxlYXNlLmNvbS90IixOQVRJVk9fSlNfVVJMPSIvL3MubnR2LmlvL3NlcnZlL2xvYWQuanMiLFVTRVJJRD0ibnR2X3VzaWQiLFVTRVJJU05FVz0ibnR2X3VzbmV3IixSRUZFUkVSPSJudHZfdXJsIixTUE9OU09SRURfQVJUSUNMRT0icHJ4X3QiLGJpZHNSZXF1ZXN0ZWQ9e30sc3BlYz17Y29kZTpCSURERVJfQ09ERSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3NyY19tZWRpYVR5cGVzX18uYl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlKXtPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX3NyY19hZGxvYWRlcl9fLmIpKE5BVElWT19KU19VUkwsIm50diIsZnVuY3Rpb24oKXt9KTt2YXIgXztyZXR1cm4gXz1jcmVhdGVTaW5nbGVCaWRSZXF1ZXN0KGJpZHNSZXF1ZXN0ZWQ9ZSkse21ldGhvZDoiR0VUIix1cmw6RU5HSU5FX0JBU0VfVVJMLGRhdGE6XyxvcHRpb25zOnt3aXRoQ3JlZGVudGlhbHM6ITF9fX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24gaW50ZXJwcmV0UmVzcG9uc2Uoc2VydmVyUmVzcG9uc2Upe3ZhciBiaWRzPVtdLGRhdGE9c2VydmVyUmVzcG9uc2UuYm9keTt0cnl7ZGF0YT1kYXRhLnJlcGxhY2UobmV3IFJlZ0V4cChhdG9iKCJMRndpWVhWMGIxQnNZWGxRWVhKaGJYTmNJanA3TGlvL2ZRPT0iKSksIiIpO3ZhciBtYXRjaGVkQWREYXRhPWRhdGEubWF0Y2goL1Bvc3RSZWxlYXNlXC5Qcm9jZXNzUmVzcG9uc2VcKCguKilcKTt9XClcKFwpOy8pO2lmKDE8bWF0Y2hlZEFkRGF0YS5sZW5ndGgpe21hdGNoZWRBZERhdGE9SlNPTi5wYXJzZShtYXRjaGVkQWREYXRhWzFdKTt2YXIgYWRKUz0iKGZ1bmN0aW9uKCl7UG9zdFJlbGVhc2UuUHJvY2Vzc1Jlc3BvbnNlKCIrSlNPTi5zdHJpbmdpZnkobWF0Y2hlZEFkRGF0YSkrIik7fSkoKTsiO2lmKC0xPGRvY3VtZW50LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigiP3ByeF90PSIpfHwtMTxkb2N1bWVudC5sb2NhdGlvbi5ocmVmLmluZGV4T2YoIiZwcnhfdD0iKSlyZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19zcmNfYWRsb2FkZXJfXy5iKShOQVRJVk9fSlNfVVJMLCJudHYiLGZ1bmN0aW9uKCl7ZXZhbChhZEpTKX0pLGJpZHM7Zm9yKHZhciBpPTA7aTxtYXRjaGVkQWREYXRhLnBsYWNlbWVudHMubGVuZ3RoO2krKyl7dmFyIGN1cnJlbnRQbGFjZW1lbnQ9bWF0Y2hlZEFkRGF0YS5wbGFjZW1lbnRzW2ldLHNlbGVjdG9yPWN1cnJlbnRQbGFjZW1lbnQuc2VsZWN0b3I7dHJ5e2lmKCFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSYmZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmVudHJ5LWNvbnRlbnQiKSl7dmFyIHBsYWNlSG9sZGVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3BsYWNlSG9sZGVyLmlkPXNlbGVjdG9yLnJlcGxhY2UoIiMiLCIiKSxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuZW50cnktY29udGVudCIpLm5leHRFbGVtZW50U2libGluZy5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShwbGFjZUhvbGRlcixkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuZW50cnktY29udGVudCIpLm5leHRFbGVtZW50U2libGluZyl9fWNhdGNoKGUpe31pZigwPGN1cnJlbnRQbGFjZW1lbnQuYWRzLmxlbmd0aClmb3IodmFyIGo9MDtqPGN1cnJlbnRQbGFjZW1lbnQuYWRzLmxlbmd0aDtqKyspe3ZhciBhZFdvbj1jdXJyZW50UGxhY2VtZW50LmFkc1tqXTtiaWRzLnB1c2goe3JlcXVlc3RJZDpiaWRzUmVxdWVzdGVkW2ldLmJpZElkLGNwbTp3aW5kb3cubnR2Q1BNfHwuMix3aWR0aDowLGhlaWdodDowLGFkOiI8ZGl2PjwvZGl2PiIsYWRKUzphZEpTLHR0bDozMDAsY3JlYXRpdmVJZDphZFdvbi5pZCxuZXRSZXZlbnVlOiEwLGN1cnJlbmN5OiJVU0QifSl9ZWxzZSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX3NyY19hZGxvYWRlcl9fLmIpKE5BVElWT19KU19VUkwsIm50diIsZnVuY3Rpb24oKXtldmFsKGFkSlMpfSl9MD09PW1hdGNoZWRBZERhdGEucGxhY2VtZW50cy5sZW5ndGgmJk9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfc3JjX2FkbG9hZGVyX18uYikoTkFUSVZPX0pTX1VSTCwibnR2IixmdW5jdGlvbigpe2V2YWwoYWRKUyl9KX19Y2F0Y2goZSl7fXJldHVybiBiaWRzfX07ZnVuY3Rpb24gY3JlYXRlU2luZ2xlQmlkUmVxdWVzdChlKXt2YXIgXyx0PXdpbmRvdy5Qb3N0UmVsZWFzZT93aW5kb3cuUG9zdFJlbGVhc2UuU2Vzc2lvbk1nbXQuc2Vzc2lvbklEOnNlc3Npb25TdG9yYWdlLl9udHZzbnx8TWF0aC5mbG9vcigxZTcqTWF0aC5yYW5kb20oKSsxKTtzZXNzaW9uU3RvcmFnZS5fbnR2c258fChzZXNzaW9uU3RvcmFnZS5fbnR2c249dCk7dmFyIHI9IXdpbmRvdy5Qb3N0UmVsZWFzZXx8d2luZG93LlBvc3RSZWxlYXNlLlNlc3Npb25NZ210Lm5ld1Nlc3Npb24sbj0hMTstMTxkb2N1bWVudC5sb2NhdGlvbi5ocmVmLmluZGV4T2YoIiZwcnhfdD0iKT9uPWRvY3VtZW50LmxvY2F0aW9uLmhyZWYuc3BsaXQoIiZwcnhfdD0iKVsxXS5zcGxpdCgiJiIpWzBdOi0xPGRvY3VtZW50LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigiP3ByeF90PSIpJiYobj1kb2N1bWVudC5sb2NhdGlvbi5ocmVmLnNwbGl0KCI/cHJ4X3Q9IilbMV0uc3BsaXQoIiYiKVswXSk7dmFyIGE9KF9kZWZpbmVQcm9wZXJ0eShfPXt9LFVTRVJJRCx0KSxfZGVmaW5lUHJvcGVydHkoXyxVU0VSSVNORVcsciksX2RlZmluZVByb3BlcnR5KF8sUkVGRVJFUixlbmNvZGVVUklDb21wb25lbnQod2luZG93LmxvY2F0aW9uLmhyZWYpKSxfKTtyZXR1cm4gbiYmKGFbU1BPTlNPUkVEX0FSVElDTEVdPW4pLGF9T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fc3JjX2FkYXB0ZXJzX2JpZGRlckZhY3RvcnlfXy5yZWdpc3RlckJpZGRlcikoc3BlYyl9fSxbNDYwXSk7CnVwYmpzQ2h1bmsoWzE0NV0sezQ3ODpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oNDc5KX0sNDc5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBpfSk7dmFyIGM9bigzKSxyPW4oMSksZD1uKDApLHM9bigyKSxvPW4oOSk7ZnVuY3Rpb24gdShlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXtpZighKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSl8fCJbb2JqZWN0IEFyZ3VtZW50c10iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKSlyZXR1cm47dmFyIG49W10scj0hMCxhPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIHMsbz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KHM9by5uZXh0KCkpLmRvbmUpJiYobi5wdXNoKHMudmFsdWUpLCF0fHxuLmxlbmd0aCE9PXQpO3I9ITApO31jYXRjaChlKXthPSEwLGk9ZX1maW5hbGx5e3RyeXtyfHxudWxsPT1vLnJldHVybnx8by5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgaX19cmV0dXJuIG59KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpfSgpfXZhciBhPVtzLmIscy5kXSxwPSJoYl9wYiIsbT0iMy4wLjAiLGw9e2lkbF9lbnY6ImxyZSIscHViY2lkOiJwdWJjaWQiLHRkaWQ6InR0ZHV1aWQifSxpPXtjb2RlOiJvcGVueCIsYWxpYXNlczpbIm9wZW54X2FiIl0sc3VwcG9ydGVkTWVkaWFUeXBlczphLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyYW1zLmRlbERvbWFpbnx8ZS5wYXJhbXMucGxhdGZvcm07cmV0dXJuIGQuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLmJhbm5lciIpJiZ0PyEhZS5wYXJhbXMudW5pdHx8MDxkLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMubGVuZ3RoIik6ISghZS5wYXJhbXMudW5pdHx8IXQpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7aWYoMD09PWUubGVuZ3RoKXJldHVybltdO3ZhciBhPVtdLHQ9dShlLnJlZHVjZShmdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiBuPXQsZC5kZWVwQWNjZXNzKG4sIm1lZGlhVHlwZXMudmlkZW8iKSYmIWQuZGVlcEFjY2VzcyhuLCJtZWRpYVR5cGVzLmJhbm5lciIpfHxuLm1lZGlhVHlwZT09PXMuZD9lWzBdLnB1c2godCk6ZVsxXS5wdXNoKHQpLGV9LFtbXSxbXV0pLDIpLG49dFswXSxpPXRbMV07cmV0dXJuIDA8aS5sZW5ndGgmJmEucHVzaChmdW5jdGlvbihlLHQpe3ZhciByPVtdLGE9ITEsbj1oKGUsdCksaT1kLl9tYXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXMudW5pdH0pO24uYXVzPWQuX21hcChlLGZ1bmN0aW9uKGUpe3JldHVybiBkLnBhcnNlU2l6ZXNJbnB1dChlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKS5qb2luKCIsIil9KS5qb2luKCJ8Iiksbi5kaXZJZHM9ZC5fbWFwKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlLmFkVW5pdENvZGUpfSkuam9pbigiLCIpLGkuc29tZShmdW5jdGlvbihlKXtyZXR1cm4gZX0pJiYobi5hdWlkPWkuam9pbigiLCIpKTtlLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zLmRvTm90VHJhY2t9KSYmKG4ubnM9MSk7ITAhPT1jLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiYhZS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtcy5jb3BwYX0pfHwobi50ZmNkPTEpO2UuZm9yRWFjaChmdW5jdGlvbih0KXtpZih0LnBhcmFtcy5jdXN0b21QYXJhbXMpe3ZhciBlPWQuX21hcChPYmplY3Qua2V5cyh0LnBhcmFtcy5jdXN0b21QYXJhbXMpLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuPXRbZV07ZC5pc0FycmF5KG4pJiYobj1uLmpvaW4oIiwiKSk7cmV0dXJuKGUudG9Mb3dlckNhc2UoKSsiPSIrbi50b0xvd2VyQ2FzZSgpKS5yZXBsYWNlKCIrIiwiLiIpLnJlcGxhY2UoIi8iLCJfIil9KGUsdC5wYXJhbXMuY3VzdG9tUGFyYW1zKX0pLG49d2luZG93LmJ0b2EoZS5qb2luKCImIikpO2E9ITAsci5wdXNoKG4pfWVsc2Ugci5wdXNoKCIiKX0pLGEmJihuLnRwcz1yLmpvaW4oIiwiKSk7dmFyIHM9W10sbz0hMTtlLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5wYXJhbXMuY3VzdG9tRmxvb3I/KHMucHVzaChNYXRoLnJvdW5kKDEwMCplLnBhcmFtcy5jdXN0b21GbG9vcikvMTAwKjFlMyksbz0hMCk6cy5wdXNoKDApfSksbyYmKG4uYXVtZnM9cy5qb2luKCIsIikpO3JldHVybnttZXRob2Q6IkdFVCIsdXJsOm4ucGg/Imh0dHBzOi8vdS5vcGVueC5uZXQvdy8xLjAvYXJqIjoiaHR0cHM6Ly8iLmNvbmNhdChlWzBdLnBhcmFtcy5kZWxEb21haW4sIi93LzEuMC9hcmoiKSxkYXRhOm4scGF5bG9hZDp7YmlkczplLHN0YXJ0VGltZTpuZXcgRGF0ZX19fShpLHIpKSwwPG4ubGVuZ3RoJiZuLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQsbjthLnB1c2goe21ldGhvZDoiR0VUIix1cmw6KG49ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGE9aChbZV0sdCksaT1kLmRlZXBBY2Nlc3MoZSwicGFyYW1zLnZpZGVvIil8fHt9LHM9ZC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpLG89ZC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpO2QuaXNBcnJheShlLnNpemVzKSYmMj09PWUuc2l6ZXMubGVuZ3RoJiYhZC5pc0FycmF5KGUuc2l6ZXNbMF0pPyhuPXBhcnNlSW50KGUuc2l6ZXNbMF0sMTApLHI9cGFyc2VJbnQoZS5zaXplc1sxXSwxMCkpOmQuaXNBcnJheShlLnNpemVzKSYmZC5pc0FycmF5KGUuc2l6ZXNbMF0pJiYyPT09ZS5zaXplc1swXS5sZW5ndGg/KG49cGFyc2VJbnQoZS5zaXplc1swXVswXSwxMCkscj1wYXJzZUludChlLnNpemVzWzBdWzFdLDEwKSk6ZC5pc0FycmF5KG8pJiYyPT09by5sZW5ndGgmJihuPXBhcnNlSW50KG9bMF0sMTApLHI9cGFyc2VJbnQob1sxXSwxMCkpO09iamVjdC5rZXlzKGkpLmZvckVhY2goZnVuY3Rpb24oZSl7Im9wZW5ydGIiPT09ZT8oaVtlXS53PW58fGlbZV0udyxpW2VdLnY9cnx8aVtlXS52LGFbZV09SlNPTi5zdHJpbmdpZnkoaVtlXSkpOmUgaW4gYXx8InVybCI9PT1lfHwoYVtlXT1pW2VdKX0pLGEuYXVpZD1lLnBhcmFtcy51bml0LGEudndkPW58fGkudndkLGEudmh0PXJ8fGkudmh0LCJvdXRzdHJlYW0iPT09cyYmKGEudm9zPSIxMDEiKTtpLm1pbWVzJiYoYS52bWltZXM9aS5taW1lcyk7cmV0dXJuIGF9KHQ9ZSxyKSkucGg/Imh0dHBzOi8vdS5vcGVueC5uZXQvdi8xLjAvYXZqcCI6Imh0dHBzOi8vIi5jb25jYXQodC5wYXJhbXMuZGVsRG9tYWluLCIvdi8xLjAvYXZqcCIpLGRhdGE6bixwYXlsb2FkOntiaWQ6dCxzdGFydFRpbWU6bmV3IERhdGV9fSl9KSxhfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciBuPWUuYm9keTtyZXR1cm4oL2F2anAkLy50ZXN0KHQudXJsKT9zLmQ6cy5iKT09PXMuZD9mdW5jdGlvbihlLHQpe3ZhciBuPXQuYmlkLHI9KHQuc3RhcnRUaW1lLFtdKTtpZih2b2lkIDAhPT1lJiYiIiE9PWUudmFzdFVybCYmIiIhPT1lLnB1Yl9yZXYpe3ZhciBhPU9iamVjdChvLmMpKGUudmFzdFVybCkuc2VhcmNofHx7fSxpPXt9O2kucmVxdWVzdElkPW4uYmlkSWQsaS50dGw9MzAwLGkubmV0UmV2ZW51ZT0hMCxpLmN1cnJlbmN5PWUuY3VycmVuY3ksaS5jcG09TnVtYmVyKGUucHViX3JldikvMWUzLGkud2lkdGg9ZS53aWR0aCxpLmhlaWdodD1lLmhlaWdodCxpLmNyZWF0aXZlSWQ9ZS5hZGlkLGkudmFzdFVybD1lLnZhc3RVcmwsaS5tZWRpYVR5cGU9cy5kLGUucGg9YS5waCxlLmNvbG89YS5jb2xvLGUudHM9YS50cyxyLnB1c2goaSl9cmV0dXJuIHJ9KG4sdC5wYXlsb2FkKTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj10LmJpZHMscj0odC5zdGFydFRpbWUsZS5hZHMuYWQpLGE9W10saT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgcz1yW2ldLG89cGFyc2VJbnQocy5pZHgsMTApLGM9e307aWYoYy5yZXF1ZXN0SWQ9bltvXS5iaWRJZCxzLnB1Yl9yZXYpe2MuY3BtPU51bWJlcihzLnB1Yl9yZXYpLzFlMzt2YXIgZD1zLmNyZWF0aXZlWzBdO2QmJihjLndpZHRoPWQud2lkdGgsYy5oZWlnaHQ9ZC5oZWlnaHQpLGMuY3JlYXRpdmVJZD1kLmlkLGMuYWQ9cy5odG1sLHMuZGVhbF9pZCYmKGMuZGVhbElkPXMuZGVhbF9pZCksYy50dGw9MzAwLGMubmV0UmV2ZW51ZT0hMCxjLmN1cnJlbmN5PXMuY3VycmVuY3kscy50YmQmJihjLnRiZD1zLnRiZCksYy50cz1zLnRzLGMubWV0YT17fSxzLmJyYW5kX2lkJiYoYy5tZXRhLmJyYW5kSWQ9cy5icmFuZF9pZCkscy5hZHZfaWQmJihjLm1ldGEuZHNwaWQ9cy5hZHZfaWQpLGEucHVzaChjKX19cmV0dXJuIGF9KG4sdC5wYXlsb2FkKX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCl7aWYoZS5pZnJhbWVFbmFibGVkfHxlLnBpeGVsRW5hYmxlZClyZXR1cm5be3R5cGU6ZS5pZnJhbWVFbmFibGVkPyJpZnJhbWUiOiJpbWFnZSIsdXJsOmQuZGVlcEFjY2Vzcyh0LCIwLmJvZHkuYWRzLnBpeGVscyIpfHxkLmRlZXBBY2Nlc3ModCwiMC5ib2R5LnBpeGVscyIpfHwiaHR0cHM6Ly91Lm9wZW54Lm5ldC93LzEuMC9wZCJ9XX0sdHJhbnNmb3JtQmlkUGFyYW1zOmZ1bmN0aW9uKGUpe3JldHVybiBkLmNvbnZlcnRUeXBlcyh7dW5pdDoic3RyaW5nIixjdXN0b21GbG9vcjoibnVtYmVyIn0sZSl9fTtmdW5jdGlvbiBoKGUsdCl7dmFyIG4scixhLGkscz1kLmluSWZyYW1lKCk7aWYobj17anU6Yy5iLmdldENvbmZpZygicGFnZVVybCIpfHx0LnJlZmVyZXJJbmZvLnJlZmVyZXIsY2g6ZG9jdW1lbnQuY2hhclNldHx8ZG9jdW1lbnQuY2hhcmFjdGVyU2V0LHJlczoiIi5jb25jYXQoc2NyZWVuLndpZHRoLCJ4IikuY29uY2F0KHNjcmVlbi5oZWlnaHQsIngiKS5jb25jYXQoc2NyZWVuLmNvbG9yRGVwdGgpLGlmcjpzLHR6OihuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKSx0d3M6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGE9d2luZG93LGk9ZG9jdW1lbnQscz1pLmRvY3VtZW50RWxlbWVudDtpZihlKXt0cnl7YT13aW5kb3cudG9wLGk9d2luZG93LnRvcC5kb2N1bWVudH1jYXRjaChlKXtyZXR1cm59cz1pLmRvY3VtZW50RWxlbWVudCxyPWkuYm9keSx0PWEuaW5uZXJXaWR0aHx8cy5jbGllbnRXaWR0aHx8ci5jbGllbnRXaWR0aCxuPWEuaW5uZXJIZWlnaHR8fHMuY2xpZW50SGVpZ2h0fHxyLmNsaWVudEhlaWdodH1lbHNlIHM9aS5kb2N1bWVudEVsZW1lbnQsdD1hLmlubmVyV2lkdGh8fHMuY2xpZW50V2lkdGgsbj1hLmlubmVySGVpZ2h0fHxzLmNsaWVudEhlaWdodDtyZXR1cm4iIi5jb25jYXQodCwieCIpLmNvbmNhdChuKX0ocyksYmU6MSxiYzplWzBdLnBhcmFtcy5iY3x8IiIuY29uY2F0KHAsIl8iKS5jb25jYXQobSksZGRkaWQ6ZC5fbWFwKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJhbnNhY3Rpb25JZH0pLmpvaW4oIiwiKSxub2NhY2hlOihuZXcgRGF0ZSkuZ2V0VGltZSgpfSxlWzBdLnBhcmFtcy5wbGF0Zm9ybSYmKG4ucGg9ZVswXS5wYXJhbXMucGxhdGZvcm0pLGQuZGVlcEFjY2Vzcyh0LCJnZHByQ29uc2VudCIpKXt2YXIgbz10LmdkcHJDb25zZW50O3ZvaWQgMCE9PW8uY29uc2VudFN0cmluZyYmKG4uZ2Rwcl9jb25zZW50PW8uY29uc2VudFN0cmluZyksdm9pZCAwIT09by5nZHByQXBwbGllcyYmKG4uZ2Rwcj1vLmdkcHJBcHBsaWVzPzE6MCksImlhYiI9PT1jLmIuZ2V0Q29uZmlnKCJjb25zZW50TWFuYWdlbWVudC5jbXBBcGkiKSYmKG4ueF9nZHByX2Y9MSl9cmV0dXJuIGQuZGVlcEFjY2VzcyhlWzBdLCJjcnVtYnMucHViY2lkIikmJmQuZGVlcFNldFZhbHVlKGVbMF0sInVzZXJJZC5wdWJjaWQiLGQuZGVlcEFjY2VzcyhlWzBdLCJjcnVtYnMucHViY2lkIikpLHI9bixhPWVbMF0udXNlcklkLGQuX2VhY2goYSxmdW5jdGlvbihlLHQpe2wuaGFzT3duUHJvcGVydHkodCkmJihyW2xbdF1dPWUpfSksbj1yLGVbMF0uc2NoYWluJiYobi5zY2hhaW49KGk9ZVswXS5zY2hhaW4sIiIuY29uY2F0KGkudmVyLCIsIikuY29uY2F0KGkuY29tcGxldGUsIiEiKS5jb25jYXQoZnVuY3Rpb24oZSl7dmFyIG49WyJhc2kiLCJzaWQiLCJocCIsInJpZCIsIm5hbWUiLCJkb21haW4iXTtyZXR1cm4gZS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG4ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfHwiIn0pLmpvaW4oIiwiKX0pLmpvaW4oIiEiKX0oaS5ub2RlcykpKSksbn1PYmplY3Qoci5yZWdpc3RlckJpZGRlcikoaSl9fSxbNDc4XSk7CnVwYmpzQ2h1bmsoWzEyNF0sezUyNTpmdW5jdGlvbihlLHIsYSl7ZS5leHBvcnRzPWEoNTI2KX0sNTI2OmZ1bmN0aW9uKGUscixhKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGEuZChyLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiB4fSk7dmFyIGg9YSgwKSxpPWEoMSksZj1hKDIpLEk9YSgzKTtmdW5jdGlvbiB5KGUpe3JldHVybih5PSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIEU9IlB1Yk1hdGljOiAiLHY9IlVTRCIsdD0ibkZJbjhhTHpiZCIsYj12b2lkIDAsdz17a2FkcGFnZXVybDoiIixnZW5kZXI6IiIseW9iOiIiLGxhdDoiIixsb246IiIsd2lpZDoiIixwcm9mSWQ6IiIsdmVySWQ6IiJ9LG49e05VTUJFUjoibnVtYmVyIixTVFJJTkc6InN0cmluZyIsQk9PTEVBTjoiYm9vbGVhbiIsQVJSQVk6ImFycmF5IixPQkpFQ1Q6Im9iamVjdCJ9LHM9e21pbWVzOm4uQVJSQVksbWluZHVyYXRpb246bi5OVU1CRVIsbWF4ZHVyYXRpb246bi5OVU1CRVIsc3RhcnRkZWxheTpuLk5VTUJFUixwbGF5YmFja21ldGhvZDpuLkFSUkFZLGFwaTpuLkFSUkFZLHByb3RvY29sczpuLkFSUkFZLHc6bi5OVU1CRVIsaDpuLk5VTUJFUixiYXR0cjpuLkFSUkFZLGxpbmVhcml0eTpuLk5VTUJFUixwbGFjZW1lbnQ6bi5OVU1CRVIsbWluYml0cmF0ZTpuLk5VTUJFUixtYXhiaXRyYXRlOm4uTlVNQkVSfSxwPXtUSVRMRTp7SUQ6MSxLRVk6InRpdGxlIixUWVBFOjB9LElNQUdFOntJRDoyLEtFWToiaW1hZ2UiLFRZUEU6MH0sSUNPTjp7SUQ6MyxLRVk6Imljb24iLFRZUEU6MH0sU1BPTlNPUkVEQlk6e0lEOjQsS0VZOiJzcG9uc29yZWRCeSIsVFlQRToxfSxCT0RZOntJRDo1LEtFWToiYm9keSIsVFlQRToyfSxDTElDS1VSTDp7SUQ6NixLRVk6ImNsaWNrVXJsIixUWVBFOjB9LFZJREVPOntJRDo3LEtFWToidmlkZW8iLFRZUEU6MH0sRVhUOntJRDo4LEtFWToiZXh0IixUWVBFOjB9LERBVEE6e0lEOjksS0VZOiJkYXRhIixUWVBFOjB9LExPR086e0lEOjEwLEtFWToibG9nbyIsVFlQRTowfSxTUE9OU09SRUQ6e0lEOjExLEtFWToic3BvbnNvcmVkIixUWVBFOjF9LERFU0M6e0lEOjEyLEtFWToiZGF0YSIsVFlQRToyfSxSQVRJTkc6e0lEOjEzLEtFWToicmF0aW5nIixUWVBFOjN9LExJS0VTOntJRDoxNCxLRVk6Imxpa2VzIixUWVBFOjR9LERPV05MT0FEUzp7SUQ6MTUsS0VZOiJkb3dubG9hZHMiLFRZUEU6NX0sUFJJQ0U6e0lEOjE2LEtFWToicHJpY2UiLFRZUEU6Nn0sU0FMRVBSSUNFOntJRDoxNyxLRVk6InNhbGVwcmljZSIsVFlQRTo3fSxQSE9ORTp7SUQ6MTgsS0VZOiJwaG9uZSIsVFlQRTo4fSxBRERSRVNTOntJRDoxOSxLRVk6ImFkZHJlc3MiLFRZUEU6OX0sREVTQzI6e0lEOjIwLEtFWToiZGVzYzIiLFRZUEU6MTB9LERJU1BMQVlVUkw6e0lEOjIxLEtFWToiZGlzcGxheXVybCIsVFlQRToxMX0sQ1RBOntJRDoyMixLRVk6ImN0YSIsVFlQRToxMn19LGM9e0lDT046MSxMT0dPOjIsSU1BR0U6M30sbD1be2lkOnAuU1BPTlNPUkVEQlkuSUQscmVxdWlyZWQ6ITAsZGF0YTp7dHlwZToxfX0se2lkOnAuVElUTEUuSUQscmVxdWlyZWQ6ITB9LHtpZDpwLklNQUdFLklELHJlcXVpcmVkOiEwfV0sbz17MToiUE1QIiw1OiJQUkVGIiw2OiJQTVBHIn0sVD0wLE89ITEsZD17fSx1PXt9O2Z1bmN0aW9uIEQoZSxyKXtpZighaC5pc1N0cihyKSlyZXR1cm4gciYmaC5sb2dXYXJuKEUrIklnbm9yaW5nIHBhcmFtIGtleTogIitlKyIsIGV4cGVjdHMgc3RyaW5nLXZhbHVlLCBmb3VuZCAiK3kocikpLGI7c3dpdGNoKGUpe2Nhc2UicG16b25laWQiOnJldHVybiByLnNwbGl0KCIsIikuc2xpY2UoMCw1MCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyaW0oKX0pLmpvaW4oKTtjYXNlImthZGZsb29yIjpjYXNlImxhdCI6Y2FzZSJsb24iOnJldHVybiBwYXJzZUZsb2F0KHIpfHxiO2Nhc2UieW9iIjpyZXR1cm4gcGFyc2VJbnQocil8fGI7ZGVmYXVsdDpyZXR1cm4gcn19ZnVuY3Rpb24gUyhlKXt2YXIgcjtlLnBhcmFtcy5hZFVuaXQ9IiIsZS5wYXJhbXMuYWRVbml0SW5kZXg9IjAiLGUucGFyYW1zLndpZHRoPTAsZS5wYXJhbXMuaGVpZ2h0PTAsZS5wYXJhbXMuYWRTbG90PShyPWUucGFyYW1zLmFkU2xvdCxoLmlzU3RyKHIpP3IucmVwbGFjZSgvXlxzKy9nLCIiKS5yZXBsYWNlKC9ccyskL2csIiIpOiIiKTt2YXIgYT1lLnBhcmFtcy5hZFNsb3QsaT1hLnNwbGl0KCI6Iik7aWYoYT1pWzBdLDI9PWkubGVuZ3RoJiYoZS5wYXJhbXMuYWRVbml0SW5kZXg9aVsxXSksaT1hLnNwbGl0KCJAIiksZS5wYXJhbXMuYWRVbml0PWlbMF0sMTxpLmxlbmd0aCl7aWYoMiE9KGk9aVsxXS5zcGxpdCgieCIpKS5sZW5ndGgpcmV0dXJuIHZvaWQgaC5sb2dXYXJuKEUrIkFkU2xvdCBFcnJvcjogYWRTbG90IG5vdCBpbiByZXF1aXJlZCBmb3JtYXQiKTtlLnBhcmFtcy53aWR0aD1wYXJzZUludChpWzBdLDEwKSxlLnBhcmFtcy5oZWlnaHQ9cGFyc2VJbnQoaVsxXSwxMCl9ZWxzZSBpZihlLmhhc093blByb3BlcnR5KCJtZWRpYVR5cGVzIikmJmUubWVkaWFUeXBlcy5oYXNPd25Qcm9wZXJ0eShmLmIpJiZlLm1lZGlhVHlwZXMuYmFubmVyLmhhc093blByb3BlcnR5KCJzaXplcyIpKXtmb3IodmFyIHM9MCx0PVtdO3M8ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcy5sZW5ndGg7cysrKTI9PT1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzW3NdLmxlbmd0aCYmdC5wdXNoKGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXNbc10pO2UubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM9dCwxPD1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzLmxlbmd0aCYmKGUucGFyYW1zLndpZHRoPWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXNbMF1bMF0sZS5wYXJhbXMuaGVpZ2h0PWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXNbMF1bMV0sZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcz1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzLnNwbGljZSgxLGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMubGVuZ3RoLTEpKX19ZnVuY3Rpb24gbShlLHIsYSl7dmFyIGkscz0iSWdub3JpbmcgcGFyYW0ga2V5OiAiK2UrIiwgZXhwZWN0cyAiK2ErIiwgZm91bmQgIit5KHIpO3N3aXRjaChhKXtjYXNlIG4uQk9PTEVBTjppPWguaXNCb29sZWFuO2JyZWFrO2Nhc2Ugbi5OVU1CRVI6aT1oLmlzTnVtYmVyO2JyZWFrO2Nhc2Ugbi5TVFJJTkc6aT1oLmlzU3RyO2JyZWFrO2Nhc2Ugbi5BUlJBWTppPWguaXNBcnJheX1yZXR1cm4gaShyKT9yOihoLmxvZ1dhcm4oRStzKSxiKX1mdW5jdGlvbiBZKGUpe3ZhciByLGEsaSxzPXthc3NldHM6W119O2Zvcih2YXIgdCBpbiBlKXtpZihlLmhhc093blByb3BlcnR5KHQpKXt2YXIgbj17fTtpZighKHMuYXNzZXRzJiYwPHMuYXNzZXRzLmxlbmd0aCYmcy5hc3NldHMuaGFzT3duUHJvcGVydHkodCkpKXN3aXRjaCh0KXtjYXNlIHAuVElUTEUuS0VZOmVbdF0ubGVufHxlW3RdLmxlbmd0aD9uPXtpZDpwLlRJVExFLklELHJlcXVpcmVkOmVbdF0ucmVxdWlyZWQ/MTowLHRpdGxlOntsZW46ZVt0XS5sZW58fGVbdF0ubGVuZ3RoLGV4dDplW3RdLmV4dH19OmgubG9nV2FybihFKyJFcnJvcjogVGl0bGUgTGVuZ3RoIGlzIHJlcXVpcmVkIGZvciBuYXRpdmUgYWQ6ICIrSlNPTi5zdHJpbmdpZnkoZSkpO2JyZWFrO2Nhc2UgcC5JTUFHRS5LRVk6ZVt0XS5zaXplcyYmMDxlW3RdLnNpemVzLmxlbmd0aD9uPXtpZDpwLklNQUdFLklELHJlcXVpcmVkOmVbdF0ucmVxdWlyZWQ/MTowLGltZzp7dHlwZTpjLklNQUdFLHc6ZVt0XS53fHxlW3RdLndpZHRofHwoZVt0XS5zaXplcz9lW3RdLnNpemVzWzBdOmIpLGg6ZVt0XS5ofHxlW3RdLmhlaWdodHx8KGVbdF0uc2l6ZXM/ZVt0XS5zaXplc1sxXTpiKSx3bWluOmVbdF0ud21pbnx8ZVt0XS5taW5pbXVtV2lkdGh8fChlW3RdLm1pbnNpemVzP2VbdF0ubWluc2l6ZXNbMF06YiksaG1pbjplW3RdLmhtaW58fGVbdF0ubWluaW11bUhlaWdodHx8KGVbdF0ubWluc2l6ZXM/ZVt0XS5taW5zaXplc1sxXTpiKSxtaW1lczplW3RdLm1pbWVzLGV4dDplW3RdLmV4dH19OmgubG9nV2FybihFKyJFcnJvcjogSW1hZ2Ugc2l6ZXMgaXMgcmVxdWlyZWQgZm9yIG5hdGl2ZSBhZDogIitKU09OLnN0cmluZ2lmeShlKSk7YnJlYWs7Y2FzZSBwLklDT04uS0VZOmVbdF0uc2l6ZXMmJjA8ZVt0XS5zaXplcy5sZW5ndGg/bj17aWQ6cC5JQ09OLklELHJlcXVpcmVkOmVbdF0ucmVxdWlyZWQ/MTowLGltZzp7dHlwZTpjLklDT04sdzplW3RdLnd8fGVbdF0ud2lkdGh8fChlW3RdLnNpemVzP2VbdF0uc2l6ZXNbMF06YiksaDplW3RdLmh8fGVbdF0uaGVpZ2h0fHwoZVt0XS5zaXplcz9lW3RdLnNpemVzWzFdOmIpfX06aC5sb2dXYXJuKEUrIkVycm9yOiBJY29uIHNpemVzIGlzIHJlcXVpcmVkIGZvciBuYXRpdmUgYWQ6ICIrSlNPTi5zdHJpbmdpZnkoZSkpO2JyZWFrO2Nhc2UgcC5WSURFTy5LRVk6bj17aWQ6cC5WSURFTy5JRCxyZXF1aXJlZDplW3RdLnJlcXVpcmVkPzE6MCx2aWRlbzp7bWluZHVyYXRpb246ZVt0XS5taW5kdXJhdGlvbixtYXhkdXJhdGlvbjplW3RdLm1heGR1cmF0aW9uLHByb3RvY29sczplW3RdLnByb3RvY29scyxtaW1lczplW3RdLm1pbWVzLGV4dDplW3RdLmV4dH19O2JyZWFrO2Nhc2UgcC5FWFQuS0VZOm49e2lkOnAuRVhULklELHJlcXVpcmVkOmVbdF0ucmVxdWlyZWQ/MTowfTticmVhaztjYXNlIHAuTE9HTy5LRVk6bj17aWQ6cC5MT0dPLklELHJlcXVpcmVkOmVbdF0ucmVxdWlyZWQ/MTowLGltZzp7dHlwZTpjLkxPR08sdzplW3RdLnd8fGVbdF0ud2lkdGh8fChlW3RdLnNpemVzP2VbdF0uc2l6ZXNbMF06YiksaDplW3RdLmh8fGVbdF0uaGVpZ2h0fHwoZVt0XS5zaXplcz9lW3RdLnNpemVzWzFdOmIpfX07YnJlYWs7Y2FzZSBwLlNQT05TT1JFREJZLktFWTpjYXNlIHAuQk9EWS5LRVk6Y2FzZSBwLlJBVElORy5LRVk6Y2FzZSBwLkxJS0VTLktFWTpjYXNlIHAuRE9XTkxPQURTLktFWTpjYXNlIHAuUFJJQ0UuS0VZOmNhc2UgcC5TQUxFUFJJQ0UuS0VZOmNhc2UgcC5QSE9ORS5LRVk6Y2FzZSBwLkFERFJFU1MuS0VZOmNhc2UgcC5ERVNDMi5LRVk6Y2FzZSBwLkRJU1BMQVlVUkwuS0VZOmNhc2UgcC5DVEEuS0VZOnI9dVt0XSxhPWUsaT1yLktFWSxuPXtpZDpyLklELHJlcXVpcmVkOmFbaV0ucmVxdWlyZWQ/MTowLGRhdGE6e3R5cGU6ci5UWVBFLGxlbjphW2ldLmxlbixleHQ6YVtpXS5leHR9fX19biYmbi5pZCYmKHMuYXNzZXRzW3MuYXNzZXRzLmxlbmd0aF09bil9dmFyIG89bC5sZW5ndGgsZD0wO3JldHVybiBsLmZvckVhY2goZnVuY3Rpb24oZSl7Zm9yKHZhciByPXMuYXNzZXRzLmxlbmd0aCxhPTA7YTxyO2ErKylpZihlLmlkPT1zLmFzc2V0c1thXS5pZCl7ZCsrO2JyZWFrfX0pLE89byE9ZCxzfWZ1bmN0aW9uIFAoZSl7dmFyIHIsYT1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzLGk9W107aWYoYSE9PWImJmguaXNBcnJheShhKSl7aWYocj17fSxlLnBhcmFtcy53aWR0aHx8ZS5wYXJhbXMuaGVpZ2h0KXIudz1lLnBhcmFtcy53aWR0aCxyLmg9ZS5wYXJhbXMuaGVpZ2h0O2Vsc2V7aWYoMD09PWEubGVuZ3RoKXJldHVybiByPWIsaC5sb2dXYXJuKEUrIkVycm9yOiBtZWRpYVR5cGVzLmJhbm5lci5zaXplIG1pc3NpbmcgZm9yIGFkdW5pdDogIitlLnBhcmFtcy5hZFVuaXQrIi4gSWdub3JpbmcgdGhlIGJhbm5lciBpbXByZXNzaW9uIGluIHRoZSBhZHVuaXQuIikscjtyLnc9cGFyc2VJbnQoYVswXVswXSwxMCksci5oPXBhcnNlSW50KGFbMF1bMV0sMTApLGE9YS5zcGxpY2UoMSxhLmxlbmd0aC0xKX0wPGEubGVuZ3RoJiYoaT1bXSxhLmZvckVhY2goZnVuY3Rpb24oZSl7MTxlLmxlbmd0aCYmaS5wdXNoKHt3OmVbMF0saDplWzFdfSl9KSwwPGkubGVuZ3RoJiYoci5mb3JtYXQ9aSkpLHIucG9zPTAsci50b3BmcmFtZT1oLmluSWZyYW1lKCk/MDoxfWVsc2UgaC5sb2dXYXJuKEUrIkVycm9yOiBtZWRpYVR5cGVzLmJhbm5lci5zaXplIG1pc3NpbmcgZm9yIGFkdW5pdDogIitlLnBhcmFtcy5hZFVuaXQrIi4gSWdub3JpbmcgdGhlIGJhbm5lciBpbXByZXNzaW9uIGluIHRoZSBhZHVuaXQuIikscj1iO3JldHVybiByfWZ1bmN0aW9uIEEoZSl7dmFyIHIsYT1lLnBhcmFtcy52aWRlbztpZihhIT09Yil7Zm9yKHZhciBpIGluIHI9e30scylhLmhhc093blByb3BlcnR5KGkpJiYocltpXT1tKGksYVtpXSxzW2ldKSk7aC5pc0FycmF5KGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdKT8oci53PXBhcnNlSW50KGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdWzBdLDEwKSxyLmg9cGFyc2VJbnQoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF1bMV0sMTApKTpoLmlzTnVtYmVyKGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdKSYmKHIudz1wYXJzZUludChlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXSwxMCksci5oPXBhcnNlSW50KGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzFdLDEwKSksZS5wYXJhbXMudmlkZW8uaGFzT3duUHJvcGVydHkoInNraXBwYWJsZSIpJiYoci5leHQ9e3ZpZGVvX3NraXBwYWJsZTplLnBhcmFtcy52aWRlby5za2lwcGFibGU/MTowfSl9ZWxzZSByPWIsaC5sb2dXYXJuKEUrIkVycm9yOiBWaWRlbyBjb25maWcgcGFyYW1zIG1pc3NpbmcgZm9yIGFkdW5pdDogIitlLnBhcmFtcy5hZFVuaXQrIiB3aXRoIG1lZGlhVHlwZSBzZXQgYXMgdmlkZW8uIElnbm9yaW5nIHZpZGVvIGltcHJlc3Npb24gaW4gdGhlIGFkdW5pdC4iKTtyZXR1cm4gcn1mdW5jdGlvbiBnKGUpe3ZhciByLGEsaSxzPShyPXQsIShpPShhPXdpbmRvdy5EaWdpVHJ1c3QmJihJLmIuZ2V0Q29uZmlnKCJkaWdpVHJ1c3RJZCIpfHx3aW5kb3cuRGlnaVRydXN0LmdldFVzZXIoe21lbWJlcjpyfSkpKSYmYS5zdWNjZXNzJiZhLmlkZW50aXR5fHxudWxsKXx8aS5wcml2YWN5JiZpLnByaXZhY3kub3B0b3V0P251bGw6aSk7bnVsbCE9PXMmJmUucHVzaCh7c291cmNlOiJkaWdpdHJ1LnN0Iix1aWRzOlt7aWQ6cy5pZHx8IiIsYXR5cGU6MSxleHQ6e2tleXY6cGFyc2VJbnQocy5rZXl2KXx8MH19XX0pfWZ1bmN0aW9uIFIoZSxyLGEsaSl7aC5pc1N0cihyKSYmZS5wdXNoKHtzb3VyY2U6YSx1aWRzOlt7aWQ6cixhdHlwZTppfV19KX1mdW5jdGlvbiBrKGUscil7dmFyIGEsaSxzLHQsbj1bXTtnKG4pLGE9bixpPXIscz1udWxsLHQ9SS5iLmdldENvbmZpZygiYWRzcnZyT3JnSWQiKSxoLmlzU3RyKGguZGVlcEFjY2VzcyhpLCIwLnVzZXJJZC50ZGlkIikpP3M9aVswXS51c2VySWQudGRpZDp0JiZoLmlzU3RyKHQuVERJRCkmJihzPXQuVERJRCksbnVsbCE9PXMmJmEucHVzaCh7c291cmNlOiJhZHNlcnZlci5vcmciLHVpZHM6W3tpZDpzLGF0eXBlOjEsZXh0OntydGlQYXJ0bmVyOiJURElEIn19XX0pO3ZhciBvPXJbMF07byYmby51c2VySWQmJihSKG4saC5kZWVwQWNjZXNzKG8sInVzZXJJZC5wdWJjaWQiKSwicHViY2lkLm9yZyIsMSksUihuLGguZGVlcEFjY2VzcyhvLCJ1c2VySWQuZGlnaXRydXN0aWQuZGF0YS5pZCIpLCJkaWdpdHJ1LnN0IiwxKSxSKG4saC5kZWVwQWNjZXNzKG8sInVzZXJJZC5pZDVpZCIpLCJpZDUtc3luYy5jb20iLDEpLFIobixoLmRlZXBBY2Nlc3MobywidXNlcklkLmNyaXRlb0lkIiksImNyaXRlby5jb20iLDEpLFIobixoLmRlZXBBY2Nlc3MobywidXNlcklkLmlkbF9lbnYiKSwibGl2ZXJhbXAuY29tIiwxKSxSKG4saC5kZWVwQWNjZXNzKG8sInVzZXJJZC5saXBiLmxpcGJpZCIpLCJsaXZlaW50ZW50LmNvbSIsMSksUihuLGguZGVlcEFjY2VzcyhvLCJ1c2VySWQucGFycmFibGVpZCIpLCJwYXJyYWJsZS5jb20iLDEpLFIobixoLmRlZXBBY2Nlc3MobywidXNlcklkLmJyaXRlcG9vbGlkIiksImJyaXRlcG9vbC5jb20iLDEpKSwwPG4ubGVuZ3RoJiYoZS51c2VyLmVpZHM9bil9aC5fZWFjaChwLGZ1bmN0aW9uKGUpe2RbZS5JRF09ZS5LRVl9KSxoLl9lYWNoKHAsZnVuY3Rpb24oZSl7dVtlLktFWV09ZX0pO3ZhciB4PXtjb2RlOiJwdWJtYXRpYyIsc3VwcG9ydGVkTWVkaWFUeXBlczpbZi5iLGYuZCxmLmNdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fCFlLnBhcmFtcykmJihoLmlzU3RyKGUucGFyYW1zLnB1Ymxpc2hlcklkKT8hISghZS5wYXJhbXMuaGFzT3duUHJvcGVydHkoInZpZGVvIil8fGUucGFyYW1zLnZpZGVvLmhhc093blByb3BlcnR5KCJtaW1lcyIpJiZoLmlzQXJyYXkoZS5wYXJhbXMudmlkZW8ubWltZXMpJiYwIT09ZS5wYXJhbXMudmlkZW8ubWltZXMubGVuZ3RoKXx8KGgubG9nV2FybihFKyJFcnJvcjogRm9yIHZpZGVvIGFkcywgbWltZXMgaXMgbWFuZGF0b3J5IGFuZCBtdXN0IHNwZWNpZnkgYXRsZWFzZSAxIG1pbWUgdmFsdWUuIENhbGwgdG8gT3BlbkJpZCB3aWxsIG5vdCBiZSBzZW50IGZvciBhZCB1bml0OiIrSlNPTi5zdHJpbmdpZnkoZSkpLCExKTooaC5sb2dXYXJuKEUrIkVycm9yOiBwdWJsaXNoZXJJZCBpcyBtYW5kYXRvcnkgYW5kIGNhbm5vdCBiZSBudW1lcmljLiBDYWxsIHRvIE9wZW5CaWQgd2lsbCBub3QgYmUgc2VudCBmb3IgYWQgdW5pdDogIitKU09OLnN0cmluZ2lmeShlKSksITEpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciBhO3ImJnIucmVmZXJlckluZm8mJihhPXIucmVmZXJlckluZm8pO3ZhciBpLHMsdCxuLG8sZCxwLGM9e3BhZ2VVUkw6KGk9YSkmJmkucmVmZXJlcj9pLnJlZmVyZXI6d2luZG93LmxvY2F0aW9uLmhyZWYscmVmVVJMOndpbmRvdy5kb2N1bWVudC5yZWZlcnJlcn0sbD0ocz1jLHtpZDoiIisobmV3IERhdGUpLmdldFRpbWUoKSxhdDoxLGN1cjpbdl0saW1wOltdLHNpdGU6e3BhZ2U6cy5wYWdlVVJMLHJlZjpzLnJlZlVSTCxwdWJsaXNoZXI6e319LGRldmljZTp7dWE6bmF2aWdhdG9yLnVzZXJBZ2VudCxqczoxLGRudDoieWVzIj09bmF2aWdhdG9yLmRvTm90VHJhY2t8fCIxIj09bmF2aWdhdG9yLmRvTm90VHJhY2t8fCIxIj09bmF2aWdhdG9yLm1zRG9Ob3RUcmFjaz8xOjAsaDpzY3JlZW4uaGVpZ2h0LHc6c2NyZWVuLndpZHRoLGxhbmd1YWdlOm5hdmlnYXRvci5sYW5ndWFnZX0sdXNlcjp7fSxleHQ6e319KSx1PSIiLG09W10sZz1bXTtpZihlLmZvckVhY2goZnVuY3Rpb24oZSl7aWYoKHQ9aC5kZWVwQ2xvbmUoZSkpLnBhcmFtcy5hZFNsb3Q9dC5wYXJhbXMuYWRTbG90fHwiIixTKHQpLHQucGFyYW1zLmhhc093blByb3BlcnR5KCJ2aWRlbyIpfHx0Lmhhc093blByb3BlcnR5KCJtZWRpYVR5cGVzIikmJnQubWVkaWFUeXBlcy5oYXNPd25Qcm9wZXJ0eShmLmMpfHwwIT09dC5wYXJhbXMud2lkdGh8fDAhPT10LnBhcmFtcy5oZWlnaHQpe2MucHViSWQ9Yy5wdWJJZHx8dC5wYXJhbXMucHVibGlzaGVySWQsKGM9ZnVuY3Rpb24oZSxyKXt2YXIgYSxpLHM7Zm9yKGEgaW4gci5rYWRwYWdldXJsfHwoci5rYWRwYWdldXJsPXIucGFnZVVSTCksdyl3Lmhhc093blByb3BlcnR5KGEpJiYoaT1lW2FdKSYmKCJvYmplY3QiPT09eShzPXdbYV0pJiYoaT1zLmYoaSxyKSksaC5pc1N0cihpKT9yW2FdPWk6aC5sb2dXYXJuKEUrIklnbm9yaW5nIHBhcmFtIDogIithKyIgd2l0aCB2YWx1ZSA6ICIrd1thXSsiLCBleHBlY3RzIHN0cmluZy12YWx1ZSwgZm91bmQgIit5KGkpKSk7cmV0dXJuIHJ9KHQucGFyYW1zLGMpKS50cmFuc2FjdGlvbklkPXQudHJhbnNhY3Rpb25JZCwiIj09PXU/dT10LnBhcmFtcy5jdXJyZW5jeXx8Yjp0LnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiY3VycmVuY3kiKSYmdSE9PXQucGFyYW1zLmN1cnJlbmN5JiZoLmxvZ1dhcm4oRSsiQ3VycmVuY3kgc3BlY2lmaWVyIGlnbm9yZWQuIE9ubHkgb25lIGN1cnJlbmN5IHBlcm1pdHRlZC4iKSx0LnBhcmFtcy5jdXJyZW5jeT11LHQucGFyYW1zLmhhc093blByb3BlcnR5KCJkY3RyIikmJmguaXNTdHIodC5wYXJhbXMuZGN0cikmJm0ucHVzaCh0LnBhcmFtcy5kY3RyKSx0LnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiYmNhdCIpJiZoLmlzQXJyYXkodC5wYXJhbXMuYmNhdCkmJihnPWcuY29uY2F0KHQucGFyYW1zLmJjYXQpKTt2YXIgcj1mdW5jdGlvbihlKXt2YXIgcixhLGk9e30scz17fSx0PWUuaGFzT3duUHJvcGVydHkoInNpemVzIik/ZS5zaXplczpbXSxuPSIiLG89W107aWYoaT17aWQ6ZS5iaWRJZCx0YWdpZDplLnBhcmFtcy5hZFVuaXR8fHZvaWQgMCxiaWRmbG9vcjpEKCJrYWRmbG9vciIsZS5wYXJhbXMua2FkZmxvb3IpLHNlY3VyZToxLGV4dDp7cG1ab25lSWQ6RCgicG16b25laWQiLGUucGFyYW1zLnBtem9uZWlkKX0sYmlkZmxvb3JjdXI6ZS5wYXJhbXMuY3VycmVuY3k/RCgiY3VycmVuY3kiLGUucGFyYW1zLmN1cnJlbmN5KTp2fSxlLmhhc093blByb3BlcnR5KCJtZWRpYVR5cGVzIikpZm9yKG4gaW4gZS5tZWRpYVR5cGVzKXN3aXRjaChuKXtjYXNlIGYuYjoocj1QKGUpKSE9PWImJihpLmJhbm5lcj1yKTticmVhaztjYXNlIGYuYzpzLnJlcXVlc3Q9SlNPTi5zdHJpbmdpZnkoWShlLm5hdGl2ZVBhcmFtcykpLE8/aC5sb2dXYXJuKEUrIkVycm9yOiBFcnJvciBpbiBOYXRpdmUgYWR1bml0ICIrZS5wYXJhbXMuYWRVbml0KyIuIElnbm9yaW5nIHRoZSBhZHVuaXQuIFJlZmVyIHRvIGh0dHA6Ly9wcmViaWQub3JnL2Rldi1kb2NzL3Nob3ctbmF0aXZlLWFkcy5odG1sIGZvciBtb3JlIGRldGFpbHMuIik6aS5uYXRpdmU9czticmVhaztjYXNlIGYuZDooYT1BKGUpKSE9PWImJihpLnZpZGVvPWEpfWVsc2Ugcj17cG9zOjAsdzplLnBhcmFtcy53aWR0aCxoOmUucGFyYW1zLmhlaWdodCx0b3BmcmFtZTpoLmluSWZyYW1lKCk/MDoxfSxoLmlzQXJyYXkodCkmJjE8dC5sZW5ndGgmJigodD10LnNwbGljZSgxLHQubGVuZ3RoLTEpKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe28ucHVzaCh7dzplWzBdLGg6ZVsxXX0pfSksci5mb3JtYXQ9byksaS5iYW5uZXI9cjtyZXR1cm4gaS5oYXNPd25Qcm9wZXJ0eShmLmIpfHxpLmhhc093blByb3BlcnR5KGYuYyl8fGkuaGFzT3duUHJvcGVydHkoZi5kKT9pOmJ9KHQpO3ImJmwuaW1wLnB1c2gocil9ZWxzZSBoLmxvZ1dhcm4oRSsiU2tpcHBpbmcgdGhlIG5vbi1zdGFuZGFyZCBhZHNsb3Q6ICIsdC5wYXJhbXMuYWRTbG90LEpTT04uc3RyaW5naWZ5KHQpKX0pLDAhPWwuaW1wLmxlbmd0aClyZXR1cm4gbC5zaXRlLnB1Ymxpc2hlci5pZD1jLnB1YklkLnRyaW0oKSxUPWMucHViSWQudHJpbSgpLGwuZXh0LndyYXBwZXI9e30sbC5leHQud3JhcHBlci5wcm9maWxlPXBhcnNlSW50KGMucHJvZklkKXx8YixsLmV4dC53cmFwcGVyLnZlcnNpb249cGFyc2VJbnQoYy52ZXJJZCl8fGIsbC5leHQud3JhcHBlci53aWlkPWMud2lpZHx8YixsLmV4dC53cmFwcGVyLnd2PSJwcmViaWRfcHJlYmlkXzIuNDQuMSIsbC5leHQud3JhcHBlci50cmFuc2FjdGlvbklkPWMudHJhbnNhY3Rpb25JZCxsLmV4dC53cmFwcGVyLndwPSJwYmpzIixsLnVzZXIuZ2VuZGVyPWMuZ2VuZGVyP2MuZ2VuZGVyLnRyaW0oKTpiLGwudXNlci5nZW89e30sbC51c2VyLmdlby5sYXQ9RCgibGF0IixjLmxhdCksbC51c2VyLmdlby5sb249RCgibG9uIixjLmxvbiksbC51c2VyLnlvYj1EKCJ5b2IiLGMueW9iKSxsLmRldmljZS5nZW89bC51c2VyLmdlbyxsLnNpdGUucGFnZT1jLmthZHBhZ2V1cmwudHJpbSgpfHxsLnNpdGUucGFnZS50cmltKCksbC5zaXRlLmRvbWFpbj0obj1sLnNpdGUucGFnZSwobz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIikpLmhyZWY9bixvLmhvc3RuYW1lKSwtMSE9PXdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoInB1Ym1hdGljVGVzdD10cnVlIikmJihsLnRlc3Q9MSksZVswXS5zY2hhaW4mJihsLnNvdXJjZT17ZXh0OntzY2hhaW46ZVswXS5zY2hhaW59fSksciYmci5nZHByQ29uc2VudCYmKGwudXNlci5leHQ9e2NvbnNlbnQ6ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nfSxsLnJlZ3M9e2V4dDp7Z2RwcjpyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MH19KSxyJiZyLnVzcENvbnNlbnQmJmguZGVlcFNldFZhbHVlKGwsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHIudXNwQ29uc2VudCksITA9PT1JLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiZoLmRlZXBTZXRWYWx1ZShsLCJyZWdzLmNvcHBhIiwxKSxmdW5jdGlvbihlLHIsYSl7dmFyIGkscz0iIjtpZigwPHIubGVuZ3RoKWlmKGFbMF0ucGFyYW1zLmhhc093blByb3BlcnR5KCJkY3RyIikpe2lmKHM9YVswXS5wYXJhbXMuZGN0cixoLmlzU3RyKHMpJiYwPHMubGVuZ3RoKXt2YXIgdD1zLnNwbGl0KCJ8Iik7cz0iIix0LmZvckVhY2goZnVuY3Rpb24oZSl7cys9MDxlLmxlbmd0aD9lLnRyaW0oKSsifCI6IiJ9KSxpPXMubGVuZ3RoLCJ8Ij09PXMuc3Vic3RyaW5nKGksaS0xKSYmKHM9cy5zdWJzdHJpbmcoMCxpLTEpKSxlLnNpdGUuZXh0PXtrZXlfdmFsOnMudHJpbSgpfX1lbHNlIGgubG9nV2FybihFKyJJZ25vcmluZyBwYXJhbSA6IGRjdHIgd2l0aCB2YWx1ZSA6ICIrcysiLCBleHBlY3RzIHN0cmluZy12YWx1ZSwgZm91bmQgZW1wdHkgb3Igbm9uLXN0cmluZyB2YWx1ZSIpOzE8ci5sZW5ndGgmJmgubG9nV2FybihFKyJkY3RyIHZhbHVlIGZvdW5kIGluIG1vcmUgdGhhbiAxIGFkdW5pdHMuIFZhbHVlIGZyb20gMXN0IGFkdW5pdCB3aWxsIGJlIHBpY2tlZC4gSWdub3JpbmcgdmFsdWVzIGZyb20gc3Vic2VxdWVudCBhZHVuaXRzIil9ZWxzZSBoLmxvZ1dhcm4oRSsiZGN0ciB2YWx1ZSBub3QgZm91bmQgaW4gMXN0IGFkdW5pdCwgaWdub3JpbmcgdmFsdWVzIGZyb20gc3Vic2VxdWVudCBhZHVuaXRzIil9KGwsbSxlKSxrKGwsZSksZD1sLDA8KHA9KHA9ZykuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZXx8KGgubG9nV2FybihFKyJiY2F0OiBFYWNoIGNhdGVnb3J5IHNob3VsZCBiZSBhIHN0cmluZywgaWdub3JpbmcgY2F0ZWdvcnk6ICIrZSksITEpfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyaW0oKX0pLmZpbHRlcihmdW5jdGlvbihlLHIsYSl7aWYoMzxlLmxlbmd0aClyZXR1cm4gYS5pbmRleE9mKGUpPT09cjtoLmxvZ1dhcm4oRSsiYmNhdDogRWFjaCBjYXRlZ29yeSBzaG91bGQgaGF2ZSBhIHZhbHVlIG9mIGEgbGVuZ3RoIG9mIG1vcmUgdGhhbiAzIGNoYXJhY3RlcnMsIGlnbm9yaW5nIGNhdGVnb3J5OiAiK2UpfSkpLmxlbmd0aCYmKGgubG9nV2FybihFKyJiY2F0OiBTZWxlY3RlZDogIixwKSxkLmJjYXQ9cCkse21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovL2hib3BlbmJpZC5wdWJtYXRpYy5jb20vdHJhbnNsYXRvcj9zb3VyY2U9cHJlYmlkLWNsaWVudCIsZGF0YTpKU09OLnN0cmluZ2lmeShsKX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIGk9W10scz12LHQ9SlNPTi5wYXJzZShyLmRhdGEpLG49dC5zaXRlJiZ0LnNpdGUucmVmP3Quc2l0ZS5yZWY6IiI7dHJ5e2UuYm9keSYmZS5ib2R5LnNlYXRiaWQmJmguaXNBcnJheShlLmJvZHkuc2VhdGJpZCkmJihzPWUuYm9keS5jdXJ8fHMsZS5ib2R5LnNlYXRiaWQuZm9yRWFjaChmdW5jdGlvbihlKXtlLmJpZCYmaC5pc0FycmF5KGUuYmlkKSYmZS5iaWQuZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgYT17cmVxdWVzdElkOnIuaW1waWQsY3BtOihwYXJzZUZsb2F0KHIucHJpY2UpfHwwKS50b0ZpeGVkKDIpLHdpZHRoOnIudyxoZWlnaHQ6ci5oLGNyZWF0aXZlSWQ6ci5jcmlkLGRlYWxJZDpyLmRlYWxpZCxjdXJyZW5jeTpzLG5ldFJldmVudWU6ITEsdHRsOjMwMCxyZWZlcnJlcjpuLGFkOnIuYWRtfTt0LmltcCYmMDx0LmltcC5sZW5ndGgmJnQuaW1wLmZvckVhY2goZnVuY3Rpb24oZSl7aWYoci5pbXBpZD09PWUuaWQpc3dpdGNoKCFmdW5jdGlvbihyLGUpe3ZhciBhPSIiLGk9bmV3IFJlZ0V4cCgvVkFTVFxzK3ZlcnNpb24vKTtpZigwPD1yLmluZGV4T2YoJ3NwYW4gY2xhc3M9IlB1YkFQSUFkIicpKWUubWVkaWFUeXBlPWYuYjtlbHNlIGlmKGkudGVzdChyKSllLm1lZGlhVHlwZT1mLmQ7ZWxzZSB0cnl7KGE9SlNPTi5wYXJzZShyLnJlcGxhY2UoL1xcL2csIiIpKSkmJmEubmF0aXZlJiYoZS5tZWRpYVR5cGU9Zi5jKX1jYXRjaChlKXtoLmxvZ1dhcm4oRSsiRXJyb3I6IENhbm5vdCBwYXJzZSBuYXRpdmUgcmVwb25zZSBmb3IgYWQgcmVzcG9uc2U6ICIrcil9fShyLmFkbSxhKSxhLm1lZGlhVHlwZSl7Y2FzZSBmLmI6YnJlYWs7Y2FzZSBmLmQ6YS53aWR0aD1yLmhhc093blByb3BlcnR5KCJ3Iik/ci53OmUudmlkZW8udyxhLmhlaWdodD1yLmhhc093blByb3BlcnR5KCJoIik/ci5oOmUudmlkZW8uaCxhLnZhc3RYbWw9ci5hZG07YnJlYWs7Y2FzZSBmLmM6IWZ1bmN0aW9uKGUscil7aWYoci5uYXRpdmU9e30sZS5oYXNPd25Qcm9wZXJ0eSgiYWRtIikpe3ZhciBhPSIiO3RyeXthPUpTT04ucGFyc2UoZS5hZG0ucmVwbGFjZSgvXFwvZywiIikpfWNhdGNoKGUpe3JldHVybiBoLmxvZ1dhcm4oRSsiRXJyb3I6IENhbm5vdCBwYXJzZSBuYXRpdmUgcmVwb25zZSBmb3IgYWQgcmVzcG9uc2U6ICIrci5hZG0pfWlmKGEmJmEubmF0aXZlJiZhLm5hdGl2ZS5hc3NldHMmJjA8YS5uYXRpdmUuYXNzZXRzLmxlbmd0aCl7ci5tZWRpYVR5cGU9Zi5jO2Zvcih2YXIgaT0wLHM9YS5uYXRpdmUuYXNzZXRzLmxlbmd0aDtpPHM7aSsrKXN3aXRjaChhLm5hdGl2ZS5hc3NldHNbaV0uaWQpe2Nhc2UgcC5USVRMRS5JRDpyLm5hdGl2ZS50aXRsZT1hLm5hdGl2ZS5hc3NldHNbaV0udGl0bGUmJmEubmF0aXZlLmFzc2V0c1tpXS50aXRsZS50ZXh0O2JyZWFrO2Nhc2UgcC5JTUFHRS5JRDpyLm5hdGl2ZS5pbWFnZT17dXJsOmEubmF0aXZlLmFzc2V0c1tpXS5pbWcmJmEubmF0aXZlLmFzc2V0c1tpXS5pbWcudXJsLGhlaWdodDphLm5hdGl2ZS5hc3NldHNbaV0uaW1nJiZhLm5hdGl2ZS5hc3NldHNbaV0uaW1nLmgsd2lkdGg6YS5uYXRpdmUuYXNzZXRzW2ldLmltZyYmYS5uYXRpdmUuYXNzZXRzW2ldLmltZy53fTticmVhaztjYXNlIHAuSUNPTi5JRDpyLm5hdGl2ZS5pY29uPXt1cmw6YS5uYXRpdmUuYXNzZXRzW2ldLmltZyYmYS5uYXRpdmUuYXNzZXRzW2ldLmltZy51cmwsaGVpZ2h0OmEubmF0aXZlLmFzc2V0c1tpXS5pbWcmJmEubmF0aXZlLmFzc2V0c1tpXS5pbWcuaCx3aWR0aDphLm5hdGl2ZS5hc3NldHNbaV0uaW1nJiZhLm5hdGl2ZS5hc3NldHNbaV0uaW1nLnd9O2JyZWFrO2Nhc2UgcC5TUE9OU09SRURCWS5JRDpjYXNlIHAuQk9EWS5JRDpjYXNlIHAuTElLRVMuSUQ6Y2FzZSBwLkRPV05MT0FEUy5JRDpjYXNlIHAuUFJJQ0U6Y2FzZSBwLlNBTEVQUklDRS5JRDpjYXNlIHAuUEhPTkUuSUQ6Y2FzZSBwLkFERFJFU1MuSUQ6Y2FzZSBwLkRFU0MyLklEOmNhc2UgcC5DVEEuSUQ6Y2FzZSBwLlJBVElORy5JRDpjYXNlIHAuRElTUExBWVVSTC5JRDpyLm5hdGl2ZVtkW2EubmF0aXZlLmFzc2V0c1tpXS5pZF1dPWEubmF0aXZlLmFzc2V0c1tpXS5kYXRhJiZhLm5hdGl2ZS5hc3NldHNbaV0uZGF0YS52YWx1ZX1yLm5hdGl2ZS5jbGlja1VybD1hLm5hdGl2ZS5saW5rJiZhLm5hdGl2ZS5saW5rLnVybCxyLm5hdGl2ZS5jbGlja1RyYWNrZXJzPWEubmF0aXZlLmxpbmsmJmEubmF0aXZlLmxpbmsuY2xpY2t0cmFja2Vyc3x8W10sci5uYXRpdmUuaW1wcmVzc2lvblRyYWNrZXJzPWEubmF0aXZlLmltcHRyYWNrZXJzfHxbXSxyLm5hdGl2ZS5qc3RyYWNrZXI9YS5uYXRpdmUuanN0cmFja2VyfHxbXSxyLndpZHRofHwoci53aWR0aD0wKSxyLmhlaWdodHx8KHIuaGVpZ2h0PTApfX19KHIsYSl9fSksci5leHQmJnIuZXh0LmRlYWxfY2hhbm5lbCYmKGEuZGVhbENoYW5uZWw9b1tyLmV4dC5kZWFsX2NoYW5uZWxdfHxudWxsKSxhLm1ldGE9e30sci5leHQmJnIuZXh0LmRzcGlkJiYoYS5tZXRhLm5ldHdvcmtJZD1yLmV4dC5kc3BpZCksci5leHQmJnIuZXh0LmFkdmlkJiYoYS5tZXRhLmJ1eWVySWQ9ci5leHQuYWR2aWQpLHIuYWRvbWFpbiYmMDxyLmFkb21haW4ubGVuZ3RoJiYoYS5tZXRhLmNsaWNrVXJsPXIuYWRvbWFpblswXSksaS5wdXNoKGEpfSl9KSl9Y2F0Y2goZSl7aC5sb2dFcnJvcihlKX1yZXR1cm4gaX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscixhLGkpe3ZhciBzPSJodHRwczovL2Fkcy5wdWJtYXRpYy5jb20vQWRTZXJ2ZXIvanMvc2hvd2FkLmpzI1BJWCZrZG50dWlkPTEmcD0iK1Q7aWYoYSYmKHMrPSImZ2Rwcj0iKyhhLmdkcHJBcHBsaWVzPzE6MCkscys9IiZnZHByX2NvbnNlbnQ9IitlbmNvZGVVUklDb21wb25lbnQoYS5jb25zZW50U3RyaW5nfHwiIikpLGkmJihzKz0iJnVzX3ByaXZhY3k9IitlbmNvZGVVUklDb21wb25lbnQoaSkpLCEwPT09SS5iLmdldENvbmZpZygiY29wcGEiKSYmKHMrPSImY29wcGE9MSIpLGUuaWZyYW1lRW5hYmxlZClyZXR1cm5be3R5cGU6ImlmcmFtZSIsdXJsOnN9XTtoLmxvZ1dhcm4oRSsiUGxlYXNlIGVuYWJsZSBpZnJhbWUgYmFzZWQgdXNlciBzeW5jLiIpfSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGguY29udmVydFR5cGVzKHtwdWJsaXNoZXJJZDoic3RyaW5nIixhZFNsb3Q6InN0cmluZyJ9LGUpfX07T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKHgpfX0sWzUyNV0pOwp1cGJqc0NodW5rKFsxMjFdLHs1MzU6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDUzNil9LDUzNjpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsZnVuY3Rpb24oKXtyZXR1cm4gaX0pO3ZhciBwPXQoMCksbj10KDEpLGM9dCgxMCk7ZnVuY3Rpb24gYSgpe3JldHVybihhPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PWFyZ3VtZW50c1tyXTtmb3IodmFyIG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmKGVbbl09dFtuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGQ9e1RJVExFX0xFTjoxMDAsREVTQ1JfTEVOOjIwMCxTUE9OU09SRURfQllfTEVOOjUwLElNR19NSU46MTUwLElDT05fTUlOOjUwfSxzPVsiY3AiLCJjdCIsImNmIiwidmlkZW8iLCJiYXR0ciIsImJjYXQiLCJiYWR2IiwiYmlkZmxvb3IiXSxpPXtjb2RlOiJwdWxzZXBvaW50IixhbGlhc2VzOlsicHVsc2VMaXRlIiwicHVsc2Vwb2ludExpdGUiXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOlsiYmFubmVyIiwibmF0aXZlIiwidmlkZW8iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlJiZlLnBhcmFtcyYmZS5wYXJhbXMuY3AmJmUucGFyYW1zLmN0KX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0LG4saTtyZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vYmlkLmNvbnRleHR3ZWIuY29tL2hlYWRlci9vcnRiP3NyYz1wcmViaWQiLGRhdGE6e2lkOmVbMF0uYmlkZGVyUmVxdWVzdElkLGltcDplLm1hcChmdW5jdGlvbihlKXtyZXR1cm57aWQ6KHI9ZSkuYmlkSWQsYmFubmVyOmZ1bmN0aW9uKGUpe3ZhciByPWZ1bmN0aW9uKGUpe2lmKGUucGFyYW1zLmNmKXt2YXIgcj1lLnBhcmFtcy5jZi50b1VwcGVyQ2FzZSgpLnNwbGl0KCJYIiksdD1wYXJzZUludChlLnBhcmFtcy5jd3x8clswXSwxMCksbj1wYXJzZUludChlLnBhcmFtcy5jaHx8clsxXSwxMCk7cmV0dXJuW3Qsbl19cmV0dXJuWzEsMV19KGUpO3JldHVybiBlLm5hdGl2ZVBhcmFtc3x8ZS5wYXJhbXMudmlkZW8/bnVsbDp7dzpyWzBdLGg6clsxXSxiYXR0cjplLnBhcmFtcy5iYXR0cn19KHIpLG5hdGl2ZTpmdW5jdGlvbihlKXtpZihlLm5hdGl2ZVBhcmFtcyl7dmFyIHI9W107cmV0dXJuIHUocixmdW5jdGlvbihlLHIsdCl7cmV0dXJuIHI/e2lkOmUscmVxdWlyZWQ6ci5yZXF1aXJlZD8xOjAsdGl0bGU6e2xlbjpyLmxlbnx8dH19Om51bGx9KHIubGVuZ3RoKzEsZS5uYXRpdmVQYXJhbXMudGl0bGUsZC5USVRMRV9MRU4pKSx1KHIsbChyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLmJvZHksMixkLkRFU0NSX0xFTikpLHUocixsKHIubGVuZ3RoKzEsZS5uYXRpdmVQYXJhbXMuc3BvbnNvcmVkQnksMSxkLlNQT05TT1JFRF9CWV9MRU4pKSx1KHIsbyhyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLmljb24sMSxkLklDT05fTUlOLGQuSUNPTl9NSU4pKSx1KHIsbyhyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLmltYWdlLDMsZC5JTUdfTUlOLGQuSU1HX01JTikpLHtyZXF1ZXN0OkpTT04uc3RyaW5naWZ5KHthc3NldHM6cn0pLHZlcjoiMS4xIixiYXR0cjplLnBhcmFtcy5iYXR0cn19cmV0dXJuIG51bGx9KHIpLHRhZ2lkOnIucGFyYW1zLmN0LnRvU3RyaW5nKCksdmlkZW86ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zLnZpZGVvP2Eoe30sZS5wYXJhbXMudmlkZW8se2JhdHRyOmUucGFyYW1zLmJhdHRyfSk6bnVsbH0ociksYmlkZmxvb3I6ci5wYXJhbXMuYmlkZmxvb3IsZXh0OmZ1bmN0aW9uKHIpe3ZhciB0PXt9LG49e307cmV0dXJuIHMuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gbltlXT0xfSksT2JqZWN0LmtleXMoci5wYXJhbXMpLmZvckVhY2goZnVuY3Rpb24oZSl7bltlXXx8KHRbZV09ci5wYXJhbXNbZV0pfSksMDxPYmplY3Qua2V5cyh0KS5sZW5ndGg/e3ByZWJpZDp0fTpudWxsfShyKX07dmFyIHJ9KSxzaXRlOihuPXIsaT0odD1lKSYmMDx0Lmxlbmd0aD90WzBdLnBhcmFtcy5jcDoiMCIsdFswXS5wYXJhbXMuYXBwP251bGw6e3B1Ymxpc2hlcjp7aWQ6aS50b1N0cmluZygpfSxyZWY6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHdpbmRvdy50b3AuZG9jdW1lbnQucmVmZXJyZXJ9Y2F0Y2goZSl7cmV0dXJuIGRvY3VtZW50LnJlZmVycmVyfX0oKSxwYWdlOm4mJm4ucmVmZXJlckluZm8/bi5yZWZlcmVySW5mby5yZWZlcmVyOiIifSksYXBwOmZ1bmN0aW9uKGUpe3ZhciByPWUmJjA8ZS5sZW5ndGg/ZVswXS5wYXJhbXMuY3A6IjAiLHQ9ZVswXS5wYXJhbXMuYXBwO2lmKHQpcmV0dXJue3B1Ymxpc2hlcjp7aWQ6ci50b1N0cmluZygpfSxidW5kbGU6dC5idW5kbGUsc3RvcmV1cmw6dC5zdG9yZVVybCxkb21haW46dC5kb21haW59O3JldHVybiBudWxsfShlKSxkZXZpY2U6e3VhOm5hdmlnYXRvci51c2VyQWdlbnQsbGFuZ3VhZ2U6bmF2aWdhdG9yLmxhbmd1YWdlfHxuYXZpZ2F0b3IuYnJvd3Nlckxhbmd1YWdlfHxuYXZpZ2F0b3IudXNlckxhbmd1YWdlfHxuYXZpZ2F0b3Iuc3lzdGVtTGFuZ3VhZ2V9LGJjYXQ6ZVswXS5wYXJhbXMuYmNhdCxiYWR2OmVbMF0ucGFyYW1zLmJhZHYsdXNlcjpmdW5jdGlvbihlLHIpe3ZhciB0PXt9O3ImJnIuZ2RwckNvbnNlbnQmJih0LmNvbnNlbnQ9ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKTtpZihlJiZlLnVzZXJJZCl7dC5laWRzPVtdLGYodC5laWRzLGUudXNlcklkLnB1YmNpZCwicHViY29tbW9uIiksZih0LmVpZHMsZS51c2VySWQuYnJpdGVwb29saWQsImJyaXRlcG9vbC5jb20iKSxmKHQuZWlkcyxlLnVzZXJJZC5jcml0ZW9JZCwiY3JpdGVvIiksZih0LmVpZHMsZS51c2VySWQuaWRsX2VudiwiaWRlbnRpdHlMaW5rIiksZih0LmVpZHMsZS51c2VySWQuaWQ1aWQsImlkNS1zeW5jLmNvbSIpLGYodC5laWRzLGUudXNlcklkLnBhcnJhYmxlaWQsInBhcnJhYmxlLmNvbSIpLGUudXNlcklkLmxpcGImJmUudXNlcklkLmxpcGIubGlwYmlkJiZmKHQuZWlkcyxlLnVzZXJJZC5saXBiLmxpcGJpZCwibGl2ZWludGVudC5jb20iKSxmKHQuZWlkcyxlLnVzZXJJZC50ZGlkLCJhZHNlcnZlci5vcmciLHtydGlQYXJ0bmVyOiJURElEIn0pO3ZhciBuPWUudXNlcklkLmRpZ2l0cnVzdGlkO2lmKG4mJm4uZGF0YSl7dmFyIGk9e307bi5kYXRhLmlkJiYoaS5pZD1uLmRhdGEuaWQpLG4uZGF0YS5rZXl2JiYoaS5rZXl2PW4uZGF0YS5rZXl2KSx0LmRpZ2l0cnVzdD1pfX1yZXR1cm57ZXh0OnR9fShlWzBdLHIpLHJlZ3M6ZnVuY3Rpb24oZSl7aWYoZS5nZHByQ29uc2VudHx8ZS51c3BDb25zZW50KXt2YXIgcj17fTtyZXR1cm4gZS5nZHByQ29uc2VudCYmKHIuZ2Rwcj1lLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MCksZS51c3BDb25zZW50JiYoci51c19wcml2YWN5PWUudXNwQ29uc2VudCkse2V4dDpyfX1yZXR1cm4gbnVsbH0ociksc291cmNlOmZ1bmN0aW9uKGUpe2lmKGUpcmV0dXJue2V4dDp7c2NoYWluOmV9fTtyZXR1cm4gbnVsbH0oZVswXS5zY2hhaW4pfSxiaWRkZXJSZXF1ZXN0OnJ9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3JldHVybiBmdW5jdGlvbihlLHIpe3ZhciBhPXt9LGQ9e30scz17fSx1PXIuYm9keTtlLmRhdGEuaW1wLmZvckVhY2goZnVuY3Rpb24oZSl7YVtlLmlkXT1lfSksdSYmdS5zZWF0YmlkLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkLmZvckVhY2goZnVuY3Rpb24oZSl7ZFtlLmltcGlkXT1lfSl9KTtlLmJpZGRlclJlcXVlc3QmJmUuYmlkZGVyUmVxdWVzdC5iaWRzJiZlLmJpZGRlclJlcXVlc3QuYmlkcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3NbZS5iaWRJZF09ZX0pO3ZhciBvPVtdO3JldHVybiBPYmplY3Qua2V5cyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKGRbZV0pe3ZhciByPXtyZXF1ZXN0SWQ6ZSxjcG06ZFtlXS5wcmljZSxjcmVhdGl2ZV9pZDpkW2VdLmNyaWQsY3JlYXRpdmVJZDpkW2VdLmNyaWQsYWRJZDplLHR0bDpkW2VdLmV4cHx8MjAsbmV0UmV2ZW51ZTohMCxjdXJyZW5jeTp1LmN1cnx8IlVTRCJ9O2FbZV0ubmF0aXZlPyhyLm5hdGl2ZT1mdW5jdGlvbihlLHIpe2lmKGUubmF0aXZlKXt2YXIgdD1mdW5jdGlvbihlKXt0cnl7aWYoZSlyZXR1cm4gSlNPTi5wYXJzZShlKX1jYXRjaChlKXtwLmxvZ0Vycm9yKCJwdWxzZXBvaW50TGl0ZS5zYWZlUGFyc2UiLCJFUlJPUiIsZSl9cmV0dXJuIG51bGx9KHIuYWRtKSxuPXt9O2lmKHQmJnQubmF0aXZlJiZ0Lm5hdGl2ZS5hc3NldHMpcmV0dXJuIHQubmF0aXZlLmFzc2V0cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe24udGl0bGU9ZS50aXRsZT9lLnRpdGxlLnRleHQ6bi50aXRsZSxuLmJvZHk9ZS5kYXRhJiYyPT09ZS5kYXRhLnR5cGU/ZS5kYXRhLnZhbHVlOm4uYm9keSxuLnNwb25zb3JlZEJ5PWUuZGF0YSYmMT09PWUuZGF0YS50eXBlP2UuZGF0YS52YWx1ZTpuLnNwb25zb3JlZEJ5LG4uaW1hZ2U9ZS5pbWcmJjM9PT1lLmltZy50eXBlP2UuaW1nLnVybDpuLmltYWdlLG4uaWNvbj1lLmltZyYmMT09PWUuaW1nLnR5cGU/ZS5pbWcudXJsOm4uaWNvbn0pLHQubmF0aXZlLmxpbmsmJihuLmNsaWNrVXJsPWVuY29kZVVSSUNvbXBvbmVudCh0Lm5hdGl2ZS5saW5rLnVybCkpLG4uaW1wcmVzc2lvblRyYWNrZXJzPXQubmF0aXZlLmltcHRyYWNrZXJzLG59cmV0dXJuIG51bGx9KGFbZV0sZFtlXSksci5tZWRpYVR5cGU9Im5hdGl2ZSIpOmFbZV0udmlkZW8/KHNbZV0mJiJvdXRzdHJlYW0iPT09cC5kZWVwQWNjZXNzKHNbZV0sIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpJiYoci5yZW5kZXJlcj0odD1wLmRlZXBBY2Nlc3Moc1tlXSwicmVuZGVyZXIub3B0aW9ucyIpLG49cC5kZWVwQWNjZXNzKGRbZV0sImV4dC5vdXRzdHJlYW0iKSwoaT1jLmEuaW5zdGFsbCh7dXJsOm4ucmVuZGVyZXJVcmwsY29uZmlnOntkZWZhdWx0T3B0aW9uczpuLmNvbmZpZyxyZW5kZXJlck9wdGlvbnM6dCx0eXBlOm4udHlwZX0sbG9hZGVkOiExfSkpLnNldFJlbmRlcihmdW5jdGlvbihyKXtyLnJlbmRlcmVyLnB1c2goZnVuY3Rpb24oKXt2YXIgZT1yLnJlbmRlcmVyLmdldENvbmZpZygpOyhuZXcgd2luZG93LlB1bHNlUG9pbnRPdXRzdHJlYW1SZW5kZXJlcikucmVuZGVyKHthZFVuaXRDb2RlOnIuYWRVbml0Q29kZSx2YXN0WG1sOnIudmFzdFhtbCx0eXBlOmUudHlwZSxkZWZhdWx0T3B0aW9uczplLmRlZmF1bHRPcHRpb25zLHJlbmRlcmVyT3B0aW9uczp0fSl9KX0pLGkpKSxyLnZhc3RYbWw9ZFtlXS5hZG0sci5tZWRpYVR5cGU9InZpZGVvIixyLndpZHRoPWRbZV0udyxyLmhlaWdodD1kW2VdLmgpOihyLmFkPWRbZV0uYWRtLHIud2lkdGg9YVtlXS5iYW5uZXIudyxyLmhlaWdodD1hW2VdLmJhbm5lci5oKSxvLnB1c2gocil9dmFyIHQsbixpfSksb30ocixlKX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlmcmFtZUVuYWJsZWQ/W3t0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly9iaC5jb250ZXh0d2ViLmNvbS92aXNpdG9ybWF0Y2gifV06ZS5waXhlbEVuYWJsZWQ/W3t0eXBlOiJpbWFnZSIsdXJsOiJodHRwczovL2JoLmNvbnRleHR3ZWIuY29tL3Zpc2l0b3JtYXRjaC9wcmViaWQifV06dm9pZCAwfSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSl7cmV0dXJuIHAuY29udmVydFR5cGVzKHtjZjoic3RyaW5nIixjcDoibnVtYmVyIixjdDoibnVtYmVyIn0sZSl9fTtmdW5jdGlvbiB1KGUscil7ciYmZS5wdXNoKHIpfWZ1bmN0aW9uIG8oZSxyLHQsbixpKXtyZXR1cm4gcj97aWQ6ZSxyZXF1aXJlZDpyLnJlcXVpcmVkPzE6MCxpbWc6e3R5cGU6dCx3bWluOnIud21pbnx8bixobWluOnIuaG1pbnx8aX19Om51bGx9ZnVuY3Rpb24gbChlLHIsdCxuKXtyZXR1cm4gcj97aWQ6ZSxyZXF1aXJlZDpyLnJlcXVpcmVkPzE6MCxkYXRhOnt0eXBlOnQsbGVuOnIubGVufHxufX06bnVsbH1mdW5jdGlvbiBmKGUscix0LG4pe2lmKHIpe3ZhciBpPXtpZDpyfTtuJiYoaS5leHQ9biksZS5wdXNoKHtzb3VyY2U6dCx1aWRzOltpXX0pfX1PYmplY3Qobi5yZWdpc3RlckJpZGRlcikoaSl9fSxbNTM1XSk7CnVwYmpzQ2h1bmsoWzExM10sezU1NTpmdW5jdGlvbihlLHIsYSl7ZS5leHBvcnRzPWEoNTU2KX0sNTU2OmZ1bmN0aW9uKGUscixhKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGEuZChyLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiB0fSk7dmFyIGg9YSgwKSxpPWEoMSkseT1hKDIpO3ZhciB0PW5ldyBmdW5jdGlvbigpe3RoaXMuY29kZT0icmh5dGhtb25lIix0aGlzLnN1cHBvcnRlZE1lZGlhVHlwZXM9W3kuZCx5LmJdO3ZhciB0PVsyLDMsNSw2XSxzPVsidmlkZW8vbXA0Il0sbj1bMSwyLDMsNF0sZD1bMV0scD1bMSwyLDVdLG89e30sYz10aGlzO2Z1bmN0aW9uIG0oZSl7dmFyIHI9cGFyc2VJbnQoZVswXSksYT1wYXJzZUludChlWzFdKTtyZXR1cm4gcj09ciYmYT09YSYmW3IsYV19ZnVuY3Rpb24gdihlKXt2YXIgcj1lLnNpemVzO2UubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmKHI9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcyk7dmFyIGE9aC5wYXJzZVNpemVzSW5wdXQociksaT1bXTtyZXR1cm4gYS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKGUpe3ZhciByPW0oZS5zcGxpdCgieCIpKTtyJiZpLnB1c2goe3c6clswXSxoOnJbMV19KX19KSwhIWkubGVuZ3RoJiZ7Zm9ybWF0Oml9fWZ1bmN0aW9uIHUoZSl7dmFyIHI9W107aWYoaC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpKXt2YXIgYT1lLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZTtoLmlzQXJyYXkoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF0pJiYoYT1lLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXSk7dmFyIGk9bShhKTtpJiYocj1pKX1yZXR1cm57bWltZXM6aC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8ubWltZXMiKXx8cyxwcm90b2NvbHM6aC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8ucHJvdG9jb2xzIil8fHQsdzpyWzBdLGg6clsxXSxzdGFydGRlbGF5OmguZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvLnN0YXJ0ZGVsYXkiKXx8MCxza2lwOmguZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvLnNraXAiKXx8MCxwbGF5YmFja21ldGhvZDpoLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5wbGF5YmFja21ldGhvZCIpfHxuLGRlbGl2ZXJ5OmguZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvLmRlbGl2ZXJ5Iil8fGQsYXBpOmguZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvLmFwaSIpfHxwfX1mdW5jdGlvbiBsKGUscil7dmFyIGE9e2lkOmVbMF0uYmlkZGVyUmVxdWVzdElkLGltcDpmdW5jdGlvbihlLHIpe3ZhciBhLGk9W10sdD0wO2lmKHImJnIucmVmZXJlckluZm8mJnIucmVmZXJlckluZm8uc3RhY2subGVuZ3RoKXt2YXIgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7cy5ocmVmPXIucmVmZXJlckluZm8uc3RhY2tbMF0sdD0iaHR0cHM6Ij09cy5wcm90b2NvbD8xOjB9Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe29bZVtuXS5hZFVuaXRDb2RlXT1lW25dO3ZhciBkPXt9O2lmKGQuaWQ9ZVtuXS5hZFVuaXRDb2RlLGQuYmlkZmxvb3I9cGFyc2VGbG9hdChoLmRlZXBBY2Nlc3MoZVtuXSwicGFyYW1zLmZsb29yIikpfHwwLGQuc2VjdXJlPXQsaC5kZWVwQWNjZXNzKGVbbl0sIm1lZGlhVHlwZXMuYmFubmVyIil8fCJiYW5uZXIiPT09aC5kZWVwQWNjZXNzKGVbbl0sIm1lZGlhVHlwZSIpKXt2YXIgcD12KGVbbl0pO3AmJihkLmJhbm5lcj1wKX0haC5kZWVwQWNjZXNzKGVbbl0sIm1lZGlhVHlwZXMudmlkZW8iKSYmInZpZGVvIiE9PWguZGVlcEFjY2VzcyhlW25dLCJtZWRpYVR5cGUiKXx8KGQudmlkZW89dShlW25dKSksKGQuYmFubmVyfHxkLnZpZGVvKSYmKGQuZXh0PXtiaWRkZXI6e3BsYWNlbWVudElkOihhPWVbbl0pLnBhcmFtcy5wbGFjZW1lbnRJZCx6b25lOmEucGFyYW1zJiZhLnBhcmFtcy56b25lP2EucGFyYW1zLnpvbmU6IjFyIixwYXRoOmEucGFyYW1zJiZhLnBhcmFtcy5wYXRoP2EucGFyYW1zLnBhdGg6Im12byJ9fSxpLnB1c2goZCkpfXJldHVybiBpfShlLHIpLHNpdGU6ZnVuY3Rpb24oZSl7dmFyIHI9e2RvbWFpbjoiIixwYWdlOiIiLHJlZjoiIn07aWYoZSYmZS5yZWZlcmVySW5mbyl7dmFyIGE9ZS5yZWZlcmVySW5mbztpZihyLnJlZj1hLnJlZmVyZXIsYS5zdGFjay5sZW5ndGgpe3IucGFnZT1hLnN0YWNrW2Euc3RhY2subGVuZ3RoLTFdO3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtpLmhyZWY9YS5zdGFja1swXSxyLmRvbWFpbj1pLmhvc3RuYW1lfX1yZXR1cm4gcn0ociksZGV2aWNlOnt1YTpuYXZpZ2F0b3IudXNlckFnZW50LGlwOiIiLGRudDpoLmdldEROVCgpPzE6MH0sdXNlcjp7ZXh0Ontjb25zZW50OmguZGVlcEFjY2VzcyhyLCJnZHByQ29uc2VudC5nZHByQXBwbGllcyIpP3IuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZzoiIn19LGF0OjEsdG1heDoxZTMscmVnczp7ZXh0OntnZHByOiEhaC5kZWVwQWNjZXNzKHIsImdkcHJDb25zZW50LmdkcHJBcHBsaWVzIikmJkJvb2xlYW4oMSZyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKX19fTtyZXR1cm4gZVswXS5zY2hhaW4mJihhLnNvdXJjZT17ZXh0OntzY2hhaW46ZVswXS5zY2hhaW59fSksYX1mdW5jdGlvbiBmKGUscil7Zm9yKHZhciBhPTA7YTxyLmxlbmd0aDthKyspaWYoclthXS5wYXJhbXMmJnJbYV0ucGFyYW1zW2VdKXJldHVybiByW2FdLnBhcmFtc1tlXX10aGlzLmlzQmlkUmVxdWVzdFZhbGlkPWZ1bmN0aW9uKGUpe3JldHVybiEoIWUucGFyYW1zfHwhZS5wYXJhbXMucGxhY2VtZW50SWQpfSx0aGlzLmdldFVzZXJTeW5jcz1mdW5jdGlvbihlLHIsYSl7cmV0dXJuW119LHRoaXMuYnVpbGRSZXF1ZXN0cz1mdW5jdGlvbihlLHIpe3ZhciBhPWYoInBsYWNlbWVudElkIixlKTtpZih2b2lkIDA9PT1hfHxlLmxlbmd0aDwxKXJldHVybltdO3ZhciBpPWYoImVuZHBvaW50IixlKXx8Ii8vdGFnLjFyeC5pby9ybXAve3BsYWNlbWVudElkfS8wL3twYXRofT96PXt6b25lfSIsdD1mKCJ6b25lIixlKXx8IjFyIixzPWYoInBhdGgiLGUpfHwibXZvIjtpPShpPShpPWkucmVwbGFjZSgvXHtwbGFjZW1lbnRJZFx9L2ksYSkpLnJlcGxhY2UoL1x7em9uZVx9L2ksdCkpLnJlcGxhY2UoL1x7cGF0aFx9L2kscyk7dmFyIG49LyhednwoXC4wKSskKS9naTtpKz0iJmhidj0iKyIyLjQ0LjEiLnJlcGxhY2UobiwiIikrIiwiKyIyLjEiLnJlcGxhY2UobiwiIik7dmFyIGQ9bChlLHIpO3JldHVybiBkLmltcC5sZW5ndGg/e21ldGhvZDoiUE9TVCIsdXJsOmksZGF0YTpKU09OLnN0cmluZ2lmeShkKX06e319LHRoaXMuaW50ZXJwcmV0UmVzcG9uc2U9ZnVuY3Rpb24oZSl7dmFyIHI9ZS5ib2R5fHxbXSxhPVtdLGk9MDtpZihyLnNlYXRiaWQpe3ZhciB0PVtdO2ZvcihpPTA7aTxyLnNlYXRiaWQubGVuZ3RoO2krKylmb3IodmFyIHM9MDtzPHIuc2VhdGJpZFtpXS5iaWQubGVuZ3RoO3MrKyl0LnB1c2goci5zZWF0YmlkW2ldLmJpZFtzXSk7cj10fWZvcihpPTA7aTxyLmxlbmd0aDtpKyspe3ZhciBuPXJbaV0sZD1vW24uaW1waWRdLHA9e3JlcXVlc3RJZDpkLmJpZElkLGJpZGRlckNvZGU6Yy5jb2RlLGNwbTpwYXJzZUZsb2F0KG4ucHJpY2UpLHdpZHRoOm4udyxoZWlnaHQ6bi5oLGNyZWF0aXZlSWQ6bi5jcmlkLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsdHRsOjM1MH07ZC5tZWRpYVR5cGVzJiZkLm1lZGlhVHlwZXMudmlkZW8/KHAudmFzdFVybD1uLm51cmwscC5tZWRpYVR5cGU9InZpZGVvIixwLnR0bD02MDApOnAuYWQ9bi5hZG0sYS5wdXNoKHApfXJldHVybiBhfX07T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKHQpfX0sWzU1NV0pOwp1cGJqc0NodW5rKFsxMDhdLHs1Njk6ZnVuY3Rpb24oZSxyLGkpe2UuZXhwb3J0cz1pKDU3MCl9LDU3MDpmdW5jdGlvbihlLHIsaSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxpLmQociwiT1BFTlJUQiIsZnVuY3Rpb24oKXtyZXR1cm4gb30pLGkuZChyLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBjfSk7dmFyIGQ9aSgwKSxuPWkoMiksdD1pKDEpLGE9aSgxMSkscz1pLm4oYSkscD1bInByZWJpZC1ldSIsInByZWJpZC11cyIsInByZWJpZC1hc2lhIl0sdT1bIlVTRCJdLG89e05BVElWRTp7SU1BR0VfVFlQRTp7SUNPTjoxLE1BSU46M30sQVNTRVRfSUQ6e1RJVExFOjEsSU1BR0U6MixJQ09OOjMsQk9EWTo0LFNQT05TT1JFRDo1LENUQTo2fSxEQVRBX0FTU0VUX1RZUEU6e1NQT05TT1JFRDoxLERFU0M6MixDVEFfVEVYVDoxMn19fSxjPXtjb2RlOiJydGJob3VzZSIsc3VwcG9ydGVkTWVkaWFUeXBlczpbbi5iLG4uY10saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISghcygpKHAsZS5wYXJhbXMucmVnaW9uKXx8IWUucGFyYW1zLnB1Ymxpc2hlcklkKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciBpLHQsbj17aWQ6ZVswXS5hdWN0aW9uSWQsaW1wOmUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgcj17aWQ6ZS5iaWRJZCxiYW5uZXI6ZnVuY3Rpb24oZSl7aWYoImJhbm5lciI9PT1lLm1lZGlhVHlwZXx8ZC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyIil8fCFlLm1lZGlhVHlwZSYmIWUubWVkaWFUeXBlcyl7dmFyIHI9ZS5zaXplc3x8ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcztyZXR1cm57dzpyWzBdWzBdLGg6clswXVsxXSxmb3JtYXQ6ci5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSl9fX0oZSksbmF0aXZlOmZ1bmN0aW9uKGUpe2lmKCJuYXRpdmUiPT09ZS5tZWRpYVR5cGV8fGQuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLm5hdGl2ZSIpKXJldHVybntyZXF1ZXN0Onthc3NldHM6ZnVuY3Rpb24oZSl7dmFyIHI9ZS5uYXRpdmVQYXJhbXN8fGQuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLm5hdGl2ZSIpLGk9W107ci50aXRsZSYmaS5wdXNoKHtpZDpvLk5BVElWRS5BU1NFVF9JRC5USVRMRSxyZXF1aXJlZDpyLnRpdGxlLnJlcXVpcmVkPzE6MCx0aXRsZTp7bGVuOnIudGl0bGUubGVufHwyNX19KTtyLmltYWdlJiZpLnB1c2goe2lkOm8uTkFUSVZFLkFTU0VUX0lELklNQUdFLHJlcXVpcmVkOnIuaW1hZ2UucmVxdWlyZWQ/MTowLGltZzpUKHIuaW1hZ2Usby5OQVRJVkUuSU1BR0VfVFlQRS5NQUlOKX0pO3IuaWNvbiYmaS5wdXNoKHtpZDpvLk5BVElWRS5BU1NFVF9JRC5JQ09OLHJlcXVpcmVkOnIuaWNvbi5yZXF1aXJlZD8xOjAsaW1nOlQoci5pY29uLG8uTkFUSVZFLklNQUdFX1RZUEUuSUNPTil9KTtyLnNwb25zb3JlZEJ5JiZpLnB1c2goe2lkOm8uTkFUSVZFLkFTU0VUX0lELlNQT05TT1JFRCxyZXF1aXJlZDpyLnNwb25zb3JlZEJ5LnJlcXVpcmVkPzE6MCxkYXRhOnt0eXBlOm8uTkFUSVZFLkRBVEFfQVNTRVRfVFlQRS5TUE9OU09SRUQsbGVuOnIuc3BvbnNvcmVkQnkubGVufX0pO3IuYm9keSYmaS5wdXNoKHtpZDpvLk5BVElWRS5BU1NFVF9JRC5CT0RZLHJlcXVpcmVkOnIuYm9keS5yZXF1ZXN0PzE6MCxkYXRhOnt0eXBlOm8uTkFUSVZFLkRBVEFfQVNTRVRfVFlQRS5ERVNDLGxlbjpyLmJvZHkubGVufX0pO3IuY3RhJiZpLnB1c2goe2lkOm8uTkFUSVZFLkFTU0VUX0lELkNUQSxyZXF1aXJlZDpyLmN0YS5yZXF1aXJlZD8xOjAsZGF0YTp7dHlwZTpvLk5BVElWRS5EQVRBX0FTU0VUX1RZUEUuQ1RBX1RFWFQsbGVuOnIuY3RhLmxlbn19KTtyZXR1cm4gaX0oZSl9LHZlcjoiMS4xIn19KGUpLHRhZ2lkOmUuYWRVbml0Q29kZS50b1N0cmluZygpfSxpPXBhcnNlRmxvYXQoZS5wYXJhbXMuYmlkZmxvb3IpO2kmJihyLmJpZGZsb29yPWkpO3JldHVybiByfShlKX0pLHNpdGU6KHQ9cix7cHVibGlzaGVyOntpZDooKGk9ZSkmJjA8aS5sZW5ndGg/aVswXS5wYXJhbXMucHVibGlzaGVySWQ6InVua25vd24iKS50b1N0cmluZygpfSxwYWdlOnQucmVmZXJlckluZm8ucmVmZXJlcixuYW1lOmQuZ2V0T3JpZ2luKCl9KSxjdXI6dSx0ZXN0OmVbMF0ucGFyYW1zLnRlc3R8fDAsc291cmNlOnt0aWQ6ZVswXS50cmFuc2FjdGlvbklkfX07aWYociYmci5nZHByQ29uc2VudCYmci5nZHByQ29uc2VudC5nZHByQXBwbGllcyl7dmFyIGE9ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nP3IuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZy5yZXBsYWNlKC9cKy9nLCItIikucmVwbGFjZSgvXC8vZywiXyIpLnJlcGxhY2UoLz0rJC8sIiIpOiIiLHM9ci5nZHByQ29uc2VudC5nZHByQXBwbGllcz8xOjA7bi5yZWdzPXtleHQ6e2dkcHI6c319LG4udXNlcj17ZXh0Ontjb25zZW50OmF9fX1yZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vIitlWzBdLnBhcmFtcy5yZWdpb24rIi5jcmVhdGl2ZWNkbi5jb20vYmlkZGVyL3ByZWJpZC9iaWRzIixkYXRhOkpTT04uc3RyaW5naWZ5KG4pfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSl7dmFyIHI9ZS5ib2R5O2lmKCFkLmlzQXJyYXkocikpcmV0dXJuW107dmFyIHQ9W107cmV0dXJuIHIuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcixpOzAhPT1lLnByaWNlJiYoMD09PWUuYWRtLmluZGV4T2YoInsiKT90LnB1c2goe3JlcXVlc3RJZDooaT1lKS5pbXBpZCxtZWRpYVR5cGU6bi5jLGNwbTppLnByaWNlLGNyZWF0aXZlSWQ6aS5hZGlkLHdpZHRoOjEsaGVpZ2h0OjEsdHRsOjU1LG5ldFJldmVudWU6ITAsY3VycmVuY3k6IlVTRCIsbmF0aXZlOmZ1bmN0aW9uKGUpe3ZhciByPUpTT04ucGFyc2UoZSkubmF0aXZlLGk9e2NsaWNrVXJsOmVuY29kZVVSSUNvbXBvbmVudChyLmxpbmsudXJsKSxpbXByZXNzaW9uVHJhY2tlcnM6ci5pbXB0cmFja2Vyc307cmV0dXJuIHIuYXNzZXRzLmZvckVhY2goZnVuY3Rpb24oZSl7c3dpdGNoKGUuaWQpe2Nhc2Ugby5OQVRJVkUuQVNTRVRfSUQuVElUTEU6aS50aXRsZT1lLnRpdGxlLnRleHQ7YnJlYWs7Y2FzZSBvLk5BVElWRS5BU1NFVF9JRC5JTUFHRTppLmltYWdlPXt1cmw6ZW5jb2RlVVJJQ29tcG9uZW50KGUuaW1nLnVybCksd2lkdGg6ZS5pbWcudyxoZWlnaHQ6ZS5pbWcuaH07YnJlYWs7Y2FzZSBvLk5BVElWRS5BU1NFVF9JRC5JQ09OOmkuaWNvbj17dXJsOmVuY29kZVVSSUNvbXBvbmVudChlLmltZy51cmwpLHdpZHRoOmUuaW1nLncsaGVpZ2h0OmUuaW1nLmh9O2JyZWFrO2Nhc2Ugby5OQVRJVkUuQVNTRVRfSUQuQk9EWTppLmJvZHk9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2Ugby5OQVRJVkUuQVNTRVRfSUQuU1BPTlNPUkVEOmkuc3BvbnNvcmVkQnk9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2Ugby5OQVRJVkUuQVNTRVRfSUQuQ1RBOmkuY3RhPWUuZGF0YS52YWx1ZX19KSxpfShpLmFkbSl9KTp0LnB1c2goe3JlcXVlc3RJZDoocj1lKS5pbXBpZCxtZWRpYVR5cGU6bi5iLGNwbTpyLnByaWNlLGNyZWF0aXZlSWQ6ci5hZGlkLGFkOnIuYWRtLHdpZHRoOnIudyxoZWlnaHQ6ci5oLHR0bDo1NSxuZXRSZXZlbnVlOiEwLGN1cnJlbmN5OiJVU0QifSkpfSksdH19O2Z1bmN0aW9uIFQoZSxyKXt2YXIgaT17dHlwZTpyfTtpZihlLmFzcGVjdF9yYXRpb3Mpe3ZhciB0PWUuYXNwZWN0X3JhdGlvc1swXSxuPXQubWluX3dpZHRofHwxMDA7aS53bWluPW4saS5obWluPW4vdC5yYXRpb193aWR0aCp0LnJhdGlvX2hlaWdodH1pZihlLnNpemVzKXt2YXIgYT1BcnJheS5pc0FycmF5KGUuc2l6ZXNbMF0pP2Uuc2l6ZXNbMF06ZS5zaXplcztpLnc9YVswXSxpLmg9YVsxXX1yZXR1cm4gaX1PYmplY3QodC5yZWdpc3RlckJpZGRlcikoYyl9fSxbNTY5XSk7CnVwYmpzQ2h1bmsoWzEwNl0sezU3NTpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNTc2KX0sNTc2OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJGQVNUTEFORV9FTkRQT0lOVCIsZnVuY3Rpb24oKXtyZXR1cm4gYX0pLHQuZChyLCJWSURFT19FTkRQT0lOVCIsZnVuY3Rpb24oKXtyZXR1cm4gc30pLHQuZChyLCJTWU5DX0VORFBPSU5UIixmdW5jdGlvbigpe3JldHVybiBvfSksdC5kKHIsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSxyLmhhc1ZpZGVvTWVkaWFUeXBlPW4sci5tYXNTaXplT3JkZXJpbmc9QSxyLmRldGVybWluZVJ1Ymljb25WaWRlb1NpemVJZD1TLHIuZ2V0UHJpY2VHcmFudWxhcml0eT1qLHIuaGFzVmFsaWRWaWRlb1BhcmFtcz1DLHIuaGFzVmFsaWRTdXBwbHlDaGFpblBhcmFtcz1rLHIuZW5jb2RlUGFyYW09VCxyLnJlc2V0VXNlclN5bmM9ZnVuY3Rpb24oKXtSPSExfTt2YXIgdT10KDApLGk9dCgxKSxwPXQoMyksbD10KDIpO2Z1bmN0aW9uIG0oKXtyZXR1cm4obT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1hcmd1bWVudHNbcl07Zm9yKHZhciBpIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsaSkmJihlW2ldPXRbaV0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHYoZSxyKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUscil7aWYoIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGUpfHwiW29iamVjdCBBcmd1bWVudHNdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSkpcmV0dXJuO3ZhciB0PVtdLGk9ITAsbj0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBhLHM9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShpPShhPXMubmV4dCgpKS5kb25lKSYmKHQucHVzaChhLnZhbHVlKSwhcnx8dC5sZW5ndGghPT1yKTtpPSEwKTt9Y2F0Y2goZSl7bj0hMCxvPWV9ZmluYWxseXt0cnl7aXx8bnVsbD09cy5yZXR1cm58fHMucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IG99fXJldHVybiB0fShlLHIpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKX0oKX1mdW5jdGlvbiBjKGUscix0KXtyZXR1cm4gciBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse3ZhbHVlOnQsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3JdPXQsZX1mdW5jdGlvbiBmKGUpe3JldHVybihmPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIGE9Imh0dHBzOi8vZmFzdGxhbmUucnViaWNvbnByb2plY3QuY29tL2EvYXBpL2Zhc3RsYW5lLmpzb24iLHM9Imh0dHBzOi8vcHJlYmlkLXNlcnZlci5ydWJpY29ucHJvamVjdC5jb20vb3BlbnJ0YjIvYXVjdGlvbiIsbz0iaHR0cHM6Ly9ldXMucnViaWNvbnByb2plY3QuY29tL3VzeW5jLmh0bWwiLGQ9e0ZBU1RMQU5FOntpZDoiZHQuaWQiLGtleXY6ImR0LmtleXYiLHByZWY6ImR0LnByZWYifSxQUkVCSURfU0VSVkVSOntpZDoiaWQiLGtleXY6ImtleXYifX0sYj17MToiNDY4eDYwIiwyOiI3Mjh4OTAiLDU6IjEyMHg5MCIsODoiMTIweDYwMCIsOToiMTYweDYwMCIsMTA6IjMwMHg2MDAiLDEzOiIyMDB4MjAwIiwxNDoiMjUweDI1MCIsMTU6IjMwMHgyNTAiLDE2OiIzMzZ4MjgwIiwxNzoiMjQweDQwMCIsMTk6IjMwMHgxMDAiLDMxOiI5ODB4MTIwIiwzMjoiMjUweDM2MCIsMzM6IjE4MHg1MDAiLDM1OiI5ODB4MTUwIiwzNzoiNDY4eDQwMCIsMzg6IjkzMHgxODAiLDM5OiI3NTB4MTAwIiw0MDoiNzUweDIwMCIsNDE6Ijc1MHgzMDAiLDQyOiIyeDQiLDQzOiIzMjB4NTAiLDQ0OiIzMDB4NTAiLDQ4OiIzMDB4MzAwIiw1MzoiMTAyNHg3NjgiLDU0OiIzMDB4MTA1MCIsNTU6Ijk3MHg5MCIsNTc6Ijk3MHgyNTAiLDU4OiIxMDAweDkwIiw1OToiMzIweDgwIiw2MDoiMzIweDE1MCIsNjE6IjEwMDB4MTAwMCIsNjQ6IjU4MHg1MDAiLDY1OiI2NDB4NDgwIiw2NjoiOTMweDYwMCIsNjc6IjMyMHg0ODAiLDY4OiIxODAweDEwMDAiLDcyOiIzMjB4MzIwIiw3MzoiMzIweDE2MCIsNzg6Ijk4MHgyNDAiLDc5OiI5ODB4MzAwIiw4MDoiOTgweDQwMCIsODM6IjQ4MHgzMDAiLDk0OiI5NzB4MzEwIiw5NjoiOTcweDIxMCIsMTAxOiI0ODB4MzIwIiwxMDI6Ijc2OHgxMDI0IiwxMDM6IjQ4MHgyODAiLDEwNToiMjUweDgwMCIsMTA4OiIzMjB4MjQwIiwxMTM6IjEwMDB4MzAwIiwxMTc6IjMyMHgxMDAiLDEyNToiODAweDI1MCIsMTI2OiIyMDB4NjAwIiwxNDQ6Ijk4MHg2MDAiLDE0NToiOTgweDE1MCIsMTUyOiIxMDAweDI1MCIsMTU2OiI2NDB4MzIwIiwxNTk6IjMyMHgyNTAiLDE3OToiMjUweDYwMCIsMTk1OiI2MDB4MzAwIiwxOTg6IjY0MHgzNjAiLDE5OToiNjQweDIwMCIsMjEzOiIxMDMweDU5MCIsMjE0OiI5ODB4MzYwIiwyMjE6IjF4MSIsMjI5OiIzMjB4MTgwIiwyMzI6IjU4MHg0MDAiLDIzNDoiNng2IiwyNTE6IjJ4MiIsMjU3OiI0MDB4NjAwIiwyNjQ6Ijk3MHgxMDAwIiwyNjU6IjE5MjB4MTA4MCIsMjc4OiIzMjB4NTAwIiwyODg6IjY0MHgzODAifTt1Ll9lYWNoKGIsZnVuY3Rpb24oZSxyKXtyZXR1cm4gYltlXT1yfSk7dmFyIGc9e2NvZGU6InJ1Ymljb24iLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2wuYixsLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiIT09ZihlLnBhcmFtcykpcmV0dXJuITE7Zm9yKHZhciByPTAsdD1bImFjY291bnRJZCIsInNpdGVJZCIsInpvbmVJZCJdO3I8dC5sZW5ndGg7cisrKWlmKGUucGFyYW1zW3Rbcl1dPXBhcnNlSW50KGUucGFyYW1zW3Rbcl1dKSxpc05hTihlLnBhcmFtc1t0W3JdXSkpcmV0dXJuIHUubG9nRXJyb3IoIlJ1Ymljb246IHdyb25nIGZvcm1hdCBvZiBhY2NvdW50SWQgb3Igc2l0ZUlkIG9yIHpvbmVJZC4iKSwhMTt2YXIgaT1JKGUsITApO3JldHVybiEhaSYmKCJ2aWRlbyIhPT1pfHxDKGUpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLG8pe3ZhciByPVtdLHQ9ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuInZpZGVvIj09PUkoZSl9KS5tYXAoZnVuY3Rpb24oZSl7ZS5zdGFydFRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCk7dmFyIHI9e2lkOmUudHJhbnNhY3Rpb25JZCx0ZXN0OnAuYi5nZXRDb25maWcoImRlYnVnIik/MTowLGN1cjpbIlVTRCJdLHNvdXJjZTp7dGlkOmUudHJhbnNhY3Rpb25JZH0sdG1heDpwLmIuZ2V0Q29uZmlnKCJUVEwiKXx8MWUzLGltcDpbe2V4cDozMDAsaWQ6ZS5hZFVuaXRDb2RlLHNlY3VyZToxLGV4dDpjKHt9LGUuYmlkZGVyLGUucGFyYW1zKSx2aWRlbzp1LmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlbyIpfHx7fX1dLGV4dDp7cHJlYmlkOntjYWNoZTp7dmFzdHhtbDp7cmV0dXJuQ3JlYXRpdmU6ITF9fSx0YXJnZXRpbmc6e2luY2x1ZGV3aW5uZXJzOiEwLGluY2x1ZGViaWRkZXJrZXlzOiExLHByaWNlZ3JhbnVsYXJpdHk6aihwLmIpfX19fTsicnViaWNvbiIhPT1lLmJpZGRlciYmKHIuZXh0LnByZWJpZC5hbGlhc2VzPWMoe30sZS5iaWRkZXIsInJ1Ymljb24iKSk7dmFyIHQ9cGFyc2VGbG9hdCh1LmRlZXBBY2Nlc3MoZSwicGFyYW1zLmZsb29yIikpO2lzTmFOKHQpfHwoci5pbXBbMF0uYmlkZmxvb3I9dCksci5pbXBbMF0uZXh0W2UuYmlkZGVyXS52aWRlby5zaXplX2lkPVMoZSksZnVuY3Rpb24ocix0LGUpe2lmKCFyKXJldHVybjsib2JqZWN0Ij09PWYocC5iLmdldENvbmZpZygiYXBwIikpP3IuYXBwPXAuYi5nZXRDb25maWcoImFwcCIpOnIuc2l0ZT17cGFnZTpoKHQsZSl9OyJvYmplY3QiPT09ZihwLmIuZ2V0Q29uZmlnKCJkZXZpY2UiKSkmJihyLmRldmljZT1wLmIuZ2V0Q29uZmlnKCJkZXZpY2UiKSk7dC5wYXJhbXMudmlkZW8ubGFuZ3VhZ2UmJlsic2l0ZSIsImRldmljZSJdLmZvckVhY2goZnVuY3Rpb24oZSl7cltlXSYmKHJbZV0uY29udGVudD1tKHtsYW5ndWFnZTp0LnBhcmFtcy52aWRlby5sYW5ndWFnZX0scltlXS5jb250ZW50KSl9KX0ocixlLG8pLGZ1bmN0aW9uKGUscil7Im9iamVjdCI9PT1mKGUuaW1wWzBdLnZpZGVvKSYmdm9pZCAwPT09ZS5pbXBbMF0udmlkZW8uc2tpcCYmKGUuaW1wWzBdLnZpZGVvLnNraXA9ci5wYXJhbXMudmlkZW8uc2tpcCk7Im9iamVjdCI9PT1mKGUuaW1wWzBdLnZpZGVvKSYmdm9pZCAwPT09ZS5pbXBbMF0udmlkZW8uc2tpcGFmdGVyJiYoZS5pbXBbMF0udmlkZW8uc2tpcGFmdGVyPXIucGFyYW1zLnZpZGVvLnNraXBkZWxheSk7Im9iamVjdCI9PT1mKGUuaW1wWzBdLnZpZGVvKSYmdm9pZCAwPT09ZS5pbXBbMF0udmlkZW8ucG9zJiYoImF0ZiI9PT1yLnBhcmFtcy5wb3NpdGlvbj9lLmltcFswXS52aWRlby5wb3M9MToiYnRmIj09PXIucGFyYW1zLnBvc2l0aW9uJiYoZS5pbXBbMF0udmlkZW8ucG9zPTMpKTt2YXIgdD14KHIsInZpZGVvIik7ZS5pbXBbMF0udmlkZW8udz10WzBdLGUuaW1wWzBdLnZpZGVvLmg9dFsxXX0ocixlKTt2YXIgaSxuPXkoZSwiUFJFQklEX1NFUlZFUiIpO24mJnUuZGVlcFNldFZhbHVlKHIsInVzZXIuZXh0LmRpZ2l0cnVzdCIsbiksby5nZHByQ29uc2VudCYmKCJib29sZWFuIj09dHlwZW9mIG8uZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihpPW8uZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowKSx1LmRlZXBTZXRWYWx1ZShyLCJyZWdzLmV4dC5nZHByIixpKSx1LmRlZXBTZXRWYWx1ZShyLCJ1c2VyLmV4dC5jb25zZW50IixvLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKTtyZXR1cm4gby51c3BDb25zZW50JiZ1LmRlZXBTZXRWYWx1ZShyLCJyZWdzLmV4dC51c19wcml2YWN5IixvLnVzcENvbnNlbnQpLGUudXNlcklkJiYib2JqZWN0Ij09PWYoZS51c2VySWQpJiYoZS51c2VySWQudGRpZHx8ZS51c2VySWQucHViY2lkfHxlLnVzZXJJZC5saXBiKSYmKHUuZGVlcFNldFZhbHVlKHIsInVzZXIuZXh0LmVpZHMiLFtdKSxlLnVzZXJJZC50ZGlkJiZyLnVzZXIuZXh0LmVpZHMucHVzaCh7c291cmNlOiJhZHNlcnZlci5vcmciLHVpZHM6W3tpZDplLnVzZXJJZC50ZGlkLGV4dDp7cnRpUGFydG5lcjoiVERJRCJ9fV19KSxlLnVzZXJJZC5wdWJjaWQmJnIudXNlci5leHQuZWlkcy5wdXNoKHtzb3VyY2U6InB1YmNvbW1vbiIsdWlkczpbe2lkOmUudXNlcklkLnB1YmNpZH1dfSksZS51c2VySWQubGlwYiYmZS51c2VySWQubGlwYi5saXBiaWQmJihyLnVzZXIuZXh0LmVpZHMucHVzaCh7c291cmNlOiJsaXZlaW50ZW50LmNvbSIsdWlkczpbe2lkOmUudXNlcklkLmxpcGIubGlwYmlkfV19KSxyLnVzZXIuZXh0LnRwaWQ9e3NvdXJjZToibGl2ZWludGVudC5jb20iLHVpZDplLnVzZXJJZC5saXBiLmxpcGJpZH0sQXJyYXkuaXNBcnJheShlLnVzZXJJZC5saXBiLnNlZ21lbnRzKSYmZS51c2VySWQubGlwYi5zZWdtZW50cy5sZW5ndGgmJnUuZGVlcFNldFZhbHVlKHIsInJwLnRhcmdldC5MSXNlZyIsZS51c2VySWQubGlwYi5zZWdtZW50cykpKSwhMD09PXAuYi5nZXRDb25maWcoImNvcHBhIikmJnUuZGVlcFNldFZhbHVlKHIsInJlZ3MuY29wcGEiLDEpLGUuc2NoYWluJiZrKGUuc2NoYWluKSYmdS5kZWVwU2V0VmFsdWUociwic291cmNlLmV4dC5zY2hhaW4iLGUuc2NoYWluKSx7bWV0aG9kOiJQT1NUIix1cmw6cyxkYXRhOnIsYmlkUmVxdWVzdDplfX0pO2lmKCEwIT09cC5iLmdldENvbmZpZygicnViaWNvbi5zaW5nbGVSZXF1ZXN0Iikpcj10LmNvbmNhdChlLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4iYmFubmVyIj09PUkoZSl9KS5tYXAoZnVuY3Rpb24oZSl7dmFyIGk9Zy5jcmVhdGVTbG90UGFyYW1zKGUsbyk7cmV0dXJue21ldGhvZDoiR0VUIix1cmw6YSxkYXRhOmcuZ2V0T3JkZXJlZFBhcmFtcyhpKS5yZWR1Y2UoZnVuY3Rpb24oZSxyKXt2YXIgdD1pW3JdO3JldHVybiB1LmlzU3RyKHQpJiYiIiE9PXR8fHUuaXNOdW1iZXIodCk/IiIuY29uY2F0KGUpLmNvbmNhdChUKHIsdCksIiYiKTplfSwiIikrInNsb3RzPTEmcmFuZD0iLmNvbmNhdChNYXRoLnJhbmRvbSgpKSxiaWRSZXF1ZXN0OmV9fSkpO2Vsc2V7dmFyIG49ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuImJhbm5lciI9PT1JKGUpfSkucmVkdWNlKGZ1bmN0aW9uKGUscil7cmV0dXJuKGVbci5wYXJhbXMuc2l0ZUlkXT1lW3IucGFyYW1zLnNpdGVJZF18fFtdKS5wdXNoKHIpLGV9LHt9KTtyPXQuY29uY2F0KE9iamVjdC5rZXlzKG4pLnJlZHVjZShmdW5jdGlvbihyLGUpe3ZhciB0LGk7cmV0dXJuKHQ9bltlXSxpPTEwLHQubWFwKGZ1bmN0aW9uKGUscil7cmV0dXJuIHIlaT09MD90LnNsaWNlKHIscitpKTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIGk9Zy5jb21iaW5lU2xvdFVybFBhcmFtcyhlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZy5jcmVhdGVTbG90UGFyYW1zKGUsbyl9KSk7ci5wdXNoKHttZXRob2Q6IkdFVCIsdXJsOmEsZGF0YTpnLmdldE9yZGVyZWRQYXJhbXMoaSkucmVkdWNlKGZ1bmN0aW9uKGUscil7dmFyIHQ9aVtyXTtyZXR1cm4gdS5pc1N0cih0KSYmIiIhPT10fHx1LmlzTnVtYmVyKHQpPyIiLmNvbmNhdChlKS5jb25jYXQoVChyLHQpLCImIik6ZX0sIiIpKyJzbG90cz0iLmNvbmNhdChlLmxlbmd0aCwiJnJhbmQ9IikuY29uY2F0KE1hdGgucmFuZG9tKCkpLGJpZFJlcXVlc3Q6ZX0pfSkscn0sW10pKX1yZXR1cm4gcn0sZ2V0T3JkZXJlZFBhcmFtczpmdW5jdGlvbihlKXt2YXIgcj0vXnRnX3YvLHQ9L150Z19pLyxpPVsiYWNjb3VudF9pZCIsInNpdGVfaWQiLCJ6b25lX2lkIiwic2l6ZV9pZCIsImFsdF9zaXplX2lkcyIsInBfcG9zIiwiZ2RwciIsImdkcHJfY29uc2VudCIsInVzX3ByaXZhY3kiLCJycF9zY2hhaW4iLCJ0cGlkX3RkaWQiLCJ0cGlkX2xpdmVpbnRlbnQuY29tIiwidGdfdi5MSXNlZyIsImR0LmlkIiwiZHQua2V5diIsImR0LnByZWYiLCJyZiIsInBfZ2VvLmxhdGl0dWRlIiwicF9nZW8ubG9uZ2l0dWRlIiwia3ciXS5jb25jYXQoT2JqZWN0LmtleXMoZSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiByLnRlc3QoZSl9KSkuY29uY2F0KE9iamVjdC5rZXlzKGUpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KGUpfSkpLmNvbmNhdChbInRrX2ZsaW50IiwieF9zb3VyY2UudGlkIiwieF9zb3VyY2UucGNoYWluIiwicF9zY3JlZW5fcmVzIiwicnBfZmxvb3IiLCJycF9zZWN1cmUiLCJ0a191c2VyX2tleSJdKTtyZXR1cm4gaS5jb25jYXQoT2JqZWN0LmtleXMoZSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybi0xPT09aS5pbmRleE9mKGUpfSkpfSxjb21iaW5lU2xvdFVybFBhcmFtczpmdW5jdGlvbihuKXtpZigxPT09bi5sZW5ndGgpcmV0dXJuIG5bMF07dmFyIGk9bi5yZWR1Y2UoZnVuY3Rpb24ocix0LGkpe3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3IuaGFzT3duUHJvcGVydHkoZSl8fChyW2VdPW5ldyBBcnJheShuLmxlbmd0aCkpLHJbZV0uc3BsaWNlKGksMSx0W2VdKX0pLHJ9LHt9KSxvPW5ldyBSZWdFeHAoIl4oW147XSopKDtcXDEpKyQiKTtyZXR1cm4gT2JqZWN0LmtleXMoaSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj1pW2VdLmpvaW4oIjsiKSx0PXIubWF0Y2gobyk7aVtlXT10P3RbMV06cn0pLGl9LGNyZWF0ZVNsb3RQYXJhbXM6ZnVuY3Rpb24oZSxyKXtlLnN0YXJ0VGltZT0obmV3IERhdGUpLmdldFRpbWUoKTt2YXIgdD1lLnBhcmFtcyxpPXgoZSwiYmFubmVyIiksbj12KHQubGF0TG9uZ3x8W10sMiksbz1uWzBdLGE9blsxXSxzPXAuYi5nZXRDb25maWcoInJ1Ymljb24uaW50X3R5cGUiKSxjPXthY2NvdW50X2lkOnQuYWNjb3VudElkLHNpdGVfaWQ6dC5zaXRlSWQsem9uZV9pZDp0LnpvbmVJZCxzaXplX2lkOmlbMF0sYWx0X3NpemVfaWRzOmkuc2xpY2UoMSkuam9pbigiLCIpfHx2b2lkIDAscnBfZmxvb3I6LjAxPCh0LmZsb29yPXBhcnNlRmxvYXQodC5mbG9vcikpP3QuZmxvb3I6LjAxLHJwX3NlY3VyZToiMSIsdGtfZmxpbnQ6IiIuY29uY2F0KHN8fCJwYmpzX2xpdGUiLCJfdjIuNDQuMSIpLCJ4X3NvdXJjZS50aWQiOmUudHJhbnNhY3Rpb25JZCwieF9zb3VyY2UucGNoYWluIjp0LnBjaGFpbixwX3NjcmVlbl9yZXM6W3dpbmRvdy5zY3JlZW4ud2lkdGgsd2luZG93LnNjcmVlbi5oZWlnaHRdLmpvaW4oIngiKSxrdzpBcnJheS5pc0FycmF5KHQua2V5d29yZHMpP3Qua2V5d29yZHMuam9pbigiLCIpOiIiLHRrX3VzZXJfa2V5OnQudXNlcklkLCJwX2dlby5sYXRpdHVkZSI6aXNOYU4ocGFyc2VGbG9hdChvKSk/dm9pZCAwOnBhcnNlRmxvYXQobykudG9GaXhlZCg0KSwicF9nZW8ubG9uZ2l0dWRlIjppc05hTihwYXJzZUZsb2F0KGEpKT92b2lkIDA6cGFyc2VGbG9hdChhKS50b0ZpeGVkKDQpLCJ0Z19mbC5laWQiOmUuY29kZSxyZjpoKGUscil9O2MucF9wb3M9ImF0ZiI9PT10LnBvc2l0aW9ufHwiYnRmIj09PXQucG9zaXRpb24/dC5wb3NpdGlvbjoiIixlLnVzZXJJZCYmKGUudXNlcklkLnRkaWQmJihjLnRwaWRfdGRpZD1lLnVzZXJJZC50ZGlkKSxlLnVzZXJJZC5saXBiJiZlLnVzZXJJZC5saXBiLmxpcGJpZCYmKGNbInRwaWRfbGl2ZWludGVudC5jb20iXT1lLnVzZXJJZC5saXBiLmxpcGJpZCxBcnJheS5pc0FycmF5KGUudXNlcklkLmxpcGIuc2VnbWVudHMpJiZlLnVzZXJJZC5saXBiLnNlZ21lbnRzLmxlbmd0aCYmKGNbInRnX3YuTElzZWciXT1lLnVzZXJJZC5saXBiLnNlZ21lbnRzLmpvaW4oIiwiKSkpKSxyLmdkcHJDb25zZW50JiYoImJvb2xlYW4iPT10eXBlb2Ygci5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKGMuZ2Rwcj1OdW1iZXIoci5nZHByQ29uc2VudC5nZHByQXBwbGllcykpLGMuZ2Rwcl9jb25zZW50PXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyksci51c3BDb25zZW50JiYoYy51c19wcml2YWN5PWVuY29kZVVSSUNvbXBvbmVudChyLnVzcENvbnNlbnQpKSxudWxsIT09dC52aXNpdG9yJiYib2JqZWN0Ij09PWYodC52aXNpdG9yKSYmT2JqZWN0LmtleXModC52aXNpdG9yKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe251bGwhPXQudmlzaXRvcltlXSYmKGNbInRnX3YuIi5jb25jYXQoZSldPXQudmlzaXRvcltlXS50b1N0cmluZygpKX0pLG51bGwhPT10LmludmVudG9yeSYmIm9iamVjdCI9PT1mKHQuaW52ZW50b3J5KSYmT2JqZWN0LmtleXModC5pbnZlbnRvcnkpLmZvckVhY2goZnVuY3Rpb24oZSl7bnVsbCE9dC5pbnZlbnRvcnlbZV0mJihjWyJ0Z19pLiIuY29uY2F0KGUpXT10LmludmVudG9yeVtlXS50b1N0cmluZygpKX0pO3ZhciBkPXkoZSwiRkFTVExBTkUiKTtyZXR1cm4gbShjLGQpLCEwPT09cC5iLmdldENvbmZpZygiY29wcGEiKSYmKGMuY29wcGE9MSksZS5zY2hhaW4mJmsoZS5zY2hhaW4pJiYoYy5ycF9zY2hhaW49Zy5zZXJpYWxpemVTdXBwbHlDaGFpbihlLnNjaGFpbikpLGN9LHNlcmlhbGl6ZVN1cHBseUNoYWluOmZ1bmN0aW9uKGUpe2lmKCFrKGUpKXJldHVybiIiO3ZhciByPWUudmVyLHQ9ZS5jb21wbGV0ZSxpPWUubm9kZXM7cmV0dXJuIiIuY29uY2F0KHIsIiwiKS5jb25jYXQodCwiISIpLmNvbmNhdChnLnNlcmlhbGl6ZVN1cHBseUNoYWluTm9kZXMoaSkpfSxzZXJpYWxpemVTdXBwbHlDaGFpbk5vZGVzOmZ1bmN0aW9uKGUpe3ZhciB0PVsiYXNpIiwic2lkIiwiaHAiLCJyaWQiLCJuYW1lIiwiZG9tYWluIl07cmV0dXJuIGUubWFwKGZ1bmN0aW9uKHIpe3JldHVybiB0Lm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHJbZV18fCIiKX0pLmpvaW4oIiwiKX0pLmpvaW4oIiEiKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oYyxlKXt2YXIgZD1lLmJpZFJlcXVlc3Q7aWYoIShjPWMuYm9keSl8fCJvYmplY3QiIT09ZihjKSlyZXR1cm5bXTtpZihjLnNlYXRiaWQpe3ZhciByPXUuZGVlcEFjY2VzcyhjLCJleHQuZXJyb3JzLnJ1Ymljb24iKTtBcnJheS5pc0FycmF5KHIpJiYwPHIubGVuZ3RoJiZ1LmxvZ1dhcm4oIlJ1Ymljb246IEVycm9yIGluIHZpZGVvIHJlc3BvbnNlIik7dmFyIG89W107cmV0dXJuIGMuc2VhdGJpZC5mb3JFYWNoKGZ1bmN0aW9uKG4peyhuLmJpZHx8W10pLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9e3JlcXVlc3RJZDpkLmJpZElkLGN1cnJlbmN5OmMuY3VyfHwiVVNEIixjcmVhdGl2ZUlkOmUuY3JpZCxjcG06ZS5wcmljZXx8MCxiaWRkZXJDb2RlOm4uc2VhdCx0dGw6MzAwLG5ldFJldmVudWU6ITEhPT1wLmIuZ2V0Q29uZmlnKCJydWJpY29uLm5ldFJldmVudWUiKSx3aWR0aDplLnd8fHUuZGVlcEFjY2VzcyhkLCJtZWRpYVR5cGVzLnZpZGVvLnciKXx8dS5kZWVwQWNjZXNzKGQsInBhcmFtcy52aWRlby5wbGF5ZXJXaWR0aCIpLGhlaWdodDplLmh8fHUuZGVlcEFjY2VzcyhkLCJtZWRpYVR5cGVzLnZpZGVvLmgiKXx8dS5kZWVwQWNjZXNzKGQsInBhcmFtcy52aWRlby5wbGF5ZXJIZWlnaHQiKX07ZS5pZCYmKHIuc2VhdEJpZElkPWUuaWQpLGUuZGVhbGlkJiYoci5kZWFsSWQ9ZS5kZWFsaWQpO3ZhciB0PXUuZGVlcEFjY2VzcyhjLCJleHQucmVzcG9uc2V0aW1lbWlsbGlzLnJ1Ymljb24iKTtpZihkJiZ0JiYoZC5zZXJ2ZXJSZXNwb25zZVRpbWVNcz10KSx1LmRlZXBBY2Nlc3MoZSwiZXh0LnByZWJpZC50eXBlIik9PT1sLmQpe3IubWVkaWFUeXBlPWwuZDt2YXIgaT11LmRlZXBBY2Nlc3MoZSwiZXh0LnByZWJpZC50YXJnZXRpbmciKTtpJiYib2JqZWN0Ij09PWYoaSkmJihyLmFkc2VydmVyVGFyZ2V0aW5nPWkpLGUuZXh0LnByZWJpZC5jYWNoZSYmIm9iamVjdCI9PT1mKGUuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sKSYmZS5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwuY2FjaGVJZCYmZS5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwudXJsPyhyLnZpZGVvQ2FjaGVLZXk9ZS5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwuY2FjaGVJZCxyLnZhc3RVcmw9ZS5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwudXJsKTppJiZpLmhiX3V1aWQmJmkuaGJfY2FjaGVfaG9zdCYmaS5oYl9jYWNoZV9wYXRoJiYoci52aWRlb0NhY2hlS2V5PWkuaGJfdXVpZCxyLnZhc3RVcmw9Imh0dHBzOi8vIi5jb25jYXQoaS5oYl9jYWNoZV9ob3N0KS5jb25jYXQoaS5oYl9jYWNoZV9wYXRoLCI/dXVpZD0iKS5jb25jYXQoaS5oYl91dWlkKSksZS5hZG0mJihyLnZhc3RYbWw9ZS5hZG0pLGUubnVybCYmKHIudmFzdFVybD1lLm51cmwpLCFyLnZhc3RVcmwmJmUubnVybCYmKHIudmFzdFVybD1lLm51cmwpfWVsc2UgdS5sb2dXYXJuKCJSdWJpY29uOiB2aWRlbyByZXNwb25zZSByZWNlaXZlZCBub24tdmlkZW8gbWVkaWEgdHlwZSIpO28ucHVzaChyKX0pfSksb312YXIgdD1jLmFkcztyZXR1cm4ib2JqZWN0IiE9PWYoZCl8fEFycmF5LmlzQXJyYXkoZCl8fCJ2aWRlbyIhPT1JKGQpfHwib2JqZWN0IiE9PWYodCl8fCh0PXRbZC5hZFVuaXRDb2RlXSksIUFycmF5LmlzQXJyYXkodCl8fHQubGVuZ3RoPDE/W106dC5yZWR1Y2UoZnVuY3Rpb24oZSxyLHQpe2lmKCJvayIhPT1yLnN0YXR1cylyZXR1cm4gZTt2YXIgaSxuLG89QXJyYXkuaXNBcnJheShkKT9kW3RdOmQ7aWYobyYmIm9iamVjdCI9PT1mKG8pKXt2YXIgYT17cmVxdWVzdElkOm8uYmlkSWQsY3VycmVuY3k6IlVTRCIsY3JlYXRpdmVJZDpyLmNyZWF0aXZlX2lkfHwiIi5jb25jYXQoci5uZXR3b3JrfHwiIiwiLSIpLmNvbmNhdChyLmFkdmVydGlzZXJ8fCIiKSxjcG06ci5jcG18fDAsZGVhbElkOnIuZGVhbCx0dGw6MzAwLG5ldFJldmVudWU6ITEhPT1wLmIuZ2V0Q29uZmlnKCJydWJpY29uLm5ldFJldmVudWUiKSxydWJpY29uOnthZHZlcnRpc2VySWQ6ci5hZHZlcnRpc2VyLG5ldHdvcmtJZDpyLm5ldHdvcmt9LG1ldGE6e2FkdmVydGlzZXJJZDpyLmFkdmVydGlzZXIsbmV0d29ya0lkOnIubmV0d29ya319O2lmKHIuY3JlYXRpdmVfdHlwZSYmKGEubWVkaWFUeXBlPXIuY3JlYXRpdmVfdHlwZSksci5jcmVhdGl2ZV90eXBlPT09bC5kKWEud2lkdGg9by5wYXJhbXMudmlkZW8ucGxheWVyV2lkdGgsYS5oZWlnaHQ9by5wYXJhbXMudmlkZW8ucGxheWVySGVpZ2h0LGEudmFzdFVybD1yLmNyZWF0aXZlX2RlcG90X3VybCxhLmltcHJlc3Npb25faWQ9ci5pbXByZXNzaW9uX2lkLGEudmlkZW9DYWNoZUtleT1yLmltcHJlc3Npb25faWQ7ZWxzZXthLmFkPShpPXIuc2NyaXB0LG49ci5pbXByZXNzaW9uX2lkLCI8aHRtbD5cbjxoZWFkPjxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz5pbkRhcElGPXRydWU7PFwvc2NyaXB0PjwvaGVhZD5cbjxib2R5IHN0eWxlPSdtYXJnaW4gOiAwOyBwYWRkaW5nOiAwOyc+XG5ceDNjIS0tIFJ1Ymljb24gUHJvamVjdCBBZCBUYWcgLS1ceDNlXG48ZGl2IGRhdGEtcnAtaW1wcmVzc2lvbi1pZD0nIi5jb25jYXQobiwiJz5cbjxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz4iKS5jb25jYXQoaSwiPFwvc2NyaXB0PlxuPC9kaXY+XG48L2JvZHk+XG48L2h0bWw+IikpO3ZhciBzPXYoYltyLnNpemVfaWRdLnNwbGl0KCJ4IikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIoZSl9KSwyKTthLndpZHRoPXNbMF0sYS5oZWlnaHQ9c1sxXX1hLnJ1Ymljb25UYXJnZXRpbmc9KEFycmF5LmlzQXJyYXkoci50YXJnZXRpbmcpP3IudGFyZ2V0aW5nOltdKS5yZWR1Y2UoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZVtyLmtleV09ci52YWx1ZXNbMF0sZX0se3JwZmxfZWxlbWlkOm8uYWRVbml0Q29kZX0pLGUucHVzaChhKX1lbHNlIHUubG9nRXJyb3IoIlJ1Ymljb246IGJpZFJlcXVlc3QgdW5kZWZpbmVkIGF0IGluZGV4IHBvc2l0aW9uOiIuY29uY2F0KHQpLGQsYyk7cmV0dXJuIGV9LFtdKS5zb3J0KGZ1bmN0aW9uKGUscil7cmV0dXJuKHIuY3BtfHwwKS0oZS5jcG18fDApfSl9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIsdCxpKXtpZighUiYmZS5pZnJhbWVFbmFibGVkKXt2YXIgbj0iIjtyZXR1cm4gdCYmInN0cmluZyI9PXR5cGVvZiB0LmNvbnNlbnRTdHJpbmcmJigiYm9vbGVhbiI9PXR5cGVvZiB0LmdkcHJBcHBsaWVzP24rPSI/Z2Rwcj0iLmNvbmNhdChOdW1iZXIodC5nZHByQXBwbGllcyksIiZnZHByX2NvbnNlbnQ9IikuY29uY2F0KHQuY29uc2VudFN0cmluZyk6bis9Ij9nZHByX2NvbnNlbnQ9Ii5jb25jYXQodC5jb25zZW50U3RyaW5nKSksaSYmKG4rPSIiLmNvbmNhdChuPyImIjoiPyIsInVzX3ByaXZhY3k9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChpKSkpLFI9ITAse3R5cGU6ImlmcmFtZSIsdXJsOm8rbn19fSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSl7cmV0dXJuIHUuY29udmVydFR5cGVzKHthY2NvdW50SWQ6Im51bWJlciIsc2l0ZUlkOiJudW1iZXIiLHpvbmVJZDoibnVtYmVyIn0sZSl9fTtmdW5jdGlvbiB5KGUscil7dmFyIHQsaT0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTp7fSxuPTE8YXJndW1lbnRzLmxlbmd0aD9yOnZvaWQgMDtpZighbnx8IWRbbl0pcmV0dXJuIG51bGw7dmFyIG89ZFtuXTt2YXIgYT1mdW5jdGlvbigpe3ZhciBlPXUuZGVlcEFjY2VzcyhpLCJ1c2VySWQuZGlnaXRydXN0aWQuZGF0YSIpO2lmKGUpcmV0dXJuIGU7dmFyIHI9d2luZG93LkRpZ2lUcnVzdCYmKHAuYi5nZXRDb25maWcoImRpZ2lUcnVzdElkIil8fHdpbmRvdy5EaWdpVHJ1c3QuZ2V0VXNlcih7bWVtYmVyOiJUOVFTRktQRE45In0pKTtyZXR1cm4gciYmci5zdWNjZXNzJiZyLmlkZW50aXR5fHxudWxsfSgpO2lmKCFhfHxhLnByaXZhY3kmJmEucHJpdmFjeS5vcHRvdXQpcmV0dXJuIG51bGw7dmFyIHM9KGModD17fSxvLmlkLGEuaWQpLGModCxvLmtleXYsYS5rZXl2KSx0KTtyZXR1cm4gby5wcmVmJiYoc1tvLnByZWZdPTApLHN9ZnVuY3Rpb24gaChlLHIpe3ZhciB0PXAuYi5nZXRDb25maWcoInBhZ2VVcmwiKTtyZXR1cm4gdD1lLnBhcmFtcy5yZWZlcnJlcj9lLnBhcmFtcy5yZWZlcnJlcjp0fHxyLnJlZmVyZXJJbmZvLnJlZmVyZXIsZS5wYXJhbXMuc2VjdXJlP3QucmVwbGFjZSgvXmh0dHA6L2ksImh0dHBzOiIpOnR9ZnVuY3Rpb24geChlLHIpe3ZhciB0PWUucGFyYW1zO2lmKCJ2aWRlbyI9PT1yKXt2YXIgaT1bXTtyZXR1cm4gdC52aWRlbyYmdC52aWRlby5wbGF5ZXJXaWR0aCYmdC52aWRlby5wbGF5ZXJIZWlnaHQ/aT1bdC52aWRlby5wbGF5ZXJXaWR0aCx0LnZpZGVvLnBsYXllckhlaWdodF06QXJyYXkuaXNBcnJheSh1LmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIikpJiYxPT09ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUubGVuZ3RoP2k9ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF06QXJyYXkuaXNBcnJheShlLnNpemVzKSYmMDxlLnNpemVzLmxlbmd0aCYmQXJyYXkuaXNBcnJheShlLnNpemVzWzBdKSYmMTxlLnNpemVzWzBdLmxlbmd0aCYmKGk9ZS5zaXplc1swXSksaX12YXIgbj1bXTtyZXR1cm4gQXJyYXkuaXNBcnJheSh0LnNpemVzKT9uPXQuc2l6ZXM6dm9pZCAwIT09dS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIik/bj1fKGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMpOkFycmF5LmlzQXJyYXkoZS5zaXplcykmJjA8ZS5zaXplcy5sZW5ndGg/bj1fKGUuc2l6ZXMpOnUubG9nV2FybigiUnViaWNvbjogbm8gc2l6ZXMgYXJlIHNldHVwIG9yIGZvdW5kIiksQShuKX1mdW5jdGlvbiBfKGUpe3JldHVybiB1LnBhcnNlU2l6ZXNJbnB1dChlKS5yZWR1Y2UoZnVuY3Rpb24oZSxyKXt2YXIgdD1wYXJzZUludChiW3JdLDEwKTtyZXR1cm4gdCYmZS5wdXNoKHQpLGV9LFtdKX1mdW5jdGlvbiBuKGUpe3JldHVybiJvYmplY3QiPT09Zih1LmRlZXBBY2Nlc3MoZSwicGFyYW1zLnZpZGVvIikpJiZ2b2lkIDAhPT11LmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChsLmQpKX1mdW5jdGlvbiBJKGUscil7dmFyIHQ9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1yJiZyO3JldHVybiBuKGUpPy0xPT09WyJvdXRzdHJlYW0iLCJpbnN0cmVhbSJdLmluZGV4T2YodS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQobC5kLCIuY29udGV4dCIpKSk/dm9pZCh0JiZ1LmxvZ0Vycm9yKCJSdWJpY29uOiBtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQgbXVzdCBiZSBvdXRzdHJlYW0gb3IgaW5zdHJlYW0iKSk6eChlLCJ2aWRlbyIpLmxlbmd0aDwyP3ZvaWQodCYmdS5sb2dFcnJvcigiUnViaWNvbjogY291bGQgbm90IGRldGVybWluZSB0aGUgcGxheWVyU2l6ZSBvZiB0aGUgdmlkZW8iKSk6KHQmJnUubG9nTWVzc2FnZSgiUnViaWNvbjogbWFraW5nIHZpZGVvIHJlcXVlc3QgZm9yIGFkVW5pdCIsZS5hZFVuaXRDb2RlKSwidmlkZW8iKTowPT09eChlLCJiYW5uZXIiKS5sZW5ndGg/dm9pZCh0JiZ1LmxvZ0Vycm9yKCJSdWJpY29uOiBjb3VsZCBub3QgZGV0ZXJtaW5lIHRoZSBzaXplcyBmb3IgYmFubmVyIHJlcXVlc3QiKSk6KHQmJnUubG9nTWVzc2FnZSgiUnViaWNvbjogbWFraW5nIGJhbm5lciByZXF1ZXN0IGZvciBhZFVuaXQiLGUuYWRVbml0Q29kZSksImJhbm5lciIpfWZ1bmN0aW9uIEEoZSl7dmFyIG49WzE1LDIsOV07cmV0dXJuIGUuc29ydChmdW5jdGlvbihlLHIpe3ZhciB0PW4uaW5kZXhPZihlKSxpPW4uaW5kZXhPZihyKTtyZXR1cm4tMTx0fHwtMTxpPy0xPT09dD8xOi0xPT09aT8tMTp0LWk6ZS1yfSl9ZnVuY3Rpb24gUyhlKXt2YXIgcj1wYXJzZUludCh1LmRlZXBBY2Nlc3MoZSwicGFyYW1zLnZpZGVvLnNpemVfaWQiKSk7cmV0dXJuIGlzTmFOKHIpPyJvdXRzdHJlYW0iPT09dS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQobC5kLCIuY29udGV4dCIpKT8yMDM6MjAxOnJ9ZnVuY3Rpb24gaihlKXtyZXR1cm57cmFuZ2VzOntsb3c6W3ttYXg6NSxpbmNyZW1lbnQ6LjV9XSxtZWRpdW06W3ttYXg6MjAsaW5jcmVtZW50Oi4xfV0saGlnaDpbe21heDoyMCxpbmNyZW1lbnQ6LjAxfV0sYXV0bzpbe21heDo1LGluY3JlbWVudDouMDV9LHttaW46NSxtYXg6MTAsaW5jcmVtZW50Oi4xfSx7bWluOjEwLG1heDoyMCxpbmNyZW1lbnQ6LjV9XSxkZW5zZTpbe21heDozLGluY3JlbWVudDouMDF9LHttaW46MyxtYXg6OCxpbmNyZW1lbnQ6LjA1fSx7bWluOjgsbWF4OjIwLGluY3JlbWVudDouNX1dLGN1c3RvbTplLmdldENvbmZpZygiY3VzdG9tUHJpY2VCdWNrZXQiKSYmZS5nZXRDb25maWcoImN1c3RvbVByaWNlQnVja2V0IikuYnVja2V0c31bZS5nZXRDb25maWcoInByaWNlR3JhbnVsYXJpdHkiKV19fWZ1bmN0aW9uIEMocil7dmFyIHQ9ITAsZT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoW10pLGk9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKDApLG49e21pbWVzOmUscHJvdG9jb2xzOmUsbWF4ZHVyYXRpb246aSxsaW5lYXJpdHk6aSxhcGk6ZX07cmV0dXJuIE9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oZSl7T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHUuZGVlcEFjY2VzcyhyLCJtZWRpYVR5cGVzLnZpZGVvLiIrZSkpIT09bltlXSYmKHQ9ITEsdS5sb2dFcnJvcigiUnViaWNvbjogbWVkaWFUeXBlcy52aWRlby4iK2UrIiBpcyByZXF1aXJlZCBhbmQgbXVzdCBiZSBvZiB0eXBlOiAiK25bZV0pKX0pLHR9ZnVuY3Rpb24gayhlKXt2YXIgcj0hMSx0PVsiYXNpIiwic2lkIiwiaHAiXTtyZXR1cm4gZS5ub2RlcyYmKChyPWUubm9kZXMucmVkdWNlKGZ1bmN0aW9uKGUscil7cmV0dXJuIGU/dC5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gcltlXX0pOmV9LCEwKSl8fHUubG9nRXJyb3IoIlJ1Ymljb246IHJlcXVpcmVkIHNjaGFpbiBwYXJhbXMgbWlzc2luZyIpKSxyfWZ1bmN0aW9uIFQoZSxyKXtyZXR1cm4icnBfc2NoYWluIj09PWU/InJwX3NjaGFpbj0iLmNvbmNhdChyKToiIi5jb25jYXQoZSwiPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQocikpfXZhciBSPSExO09iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShnKX19LFs1NzVdKTsKdXBianNDaHVuayhbMTAzXSx7NTgzOmZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9big1ODQpfSw1ODQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5pc1NjaGFpbk9iamVjdFZhbGlkPWwsdC5jb3B5U2NoYWluT2JqZWN0SW5BZHVuaXRzPWgsdC5pc1ZhbGlkU2NoYWluQ29uZmlnPXUsdC5pbml0PWY7dmFyIGk9bigzKSxjPW4oMjQpLG89bigwKSxzPSJJbnZhbGlkIHNjaGFpbiBvYmplY3QgZm91bmQ6ICIscj0iIHNob3VsZCBiZSBhIHN0cmluZyIsYT0iIHNob3VsZCBiZSBhbiBJbnRlZ2VyIixiPSIgc2hvdWxkIGJlIGFuIG9iamVjdCIsTz0iIHNob3VsZCBiZSBhbiBBcnJheSIsaj17U1RSSUNUOiJzdHJpY3QiLFJFTEFYRUQ6InJlbGF4ZWQiLE9GRjoib2ZmIn0sZD1bXTtmdW5jdGlvbiBsKGUsdCl7aWYoIU9iamVjdChvLmlzUGxhaW5PYmplY3QpKGUpJiYoT2JqZWN0KG8ubG9nRXJyb3IpKHMrInNjaGFpbiIrYiksdCkpcmV0dXJuITE7aWYoKCFPYmplY3Qoby5pc051bWJlcikoZS5jb21wbGV0ZSl8fCFPYmplY3Qoby5pc0ludGVnZXIpKGUuY29tcGxldGUpKSYmKE9iamVjdChvLmxvZ0Vycm9yKShzKyJzY2hhaW4uY29tcGxldGUiK2EpLHQpKXJldHVybiExO2lmKCFPYmplY3Qoby5pc1N0cikoZS52ZXIpJiYoT2JqZWN0KG8ubG9nRXJyb3IpKHMrInNjaGFpbi52ZXIiK3IpLHQpKXJldHVybiExO2lmKE9iamVjdChvLmhhc093bikoZSwiZXh0IikmJiFPYmplY3Qoby5pc1BsYWluT2JqZWN0KShlLmV4dCkmJihPYmplY3Qoby5sb2dFcnJvcikocysic2NoYWluLmV4dCIrYiksdCkpcmV0dXJuITE7dmFyIG49ITA7aWYoT2JqZWN0KG8uaXNBcnJheSkoZS5ub2RlcykpZS5ub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe09iamVjdChvLmlzU3RyKShlLmFzaSl8fChuPW4mJiExLE9iamVjdChvLmxvZ0Vycm9yKShzKyJzY2hhaW4ubm9kZXNbXS5hc2kiK3IpKSxPYmplY3Qoby5pc1N0cikoZS5zaWQpfHwobj1uJiYhMSxPYmplY3Qoby5sb2dFcnJvcikocysic2NoYWluLm5vZGVzW10uc2lkIityKSksT2JqZWN0KG8uaXNOdW1iZXIpKGUuaHApJiZPYmplY3Qoby5pc0ludGVnZXIpKGUuaHApfHwobj1uJiYhMSxPYmplY3Qoby5sb2dFcnJvcikocysic2NoYWluLm5vZGVzW10uaHAiK2EpKSxPYmplY3Qoby5oYXNPd24pKGUsInJpZCIpJiYoT2JqZWN0KG8uaXNTdHIpKGUucmlkKXx8KG49biYmITEsT2JqZWN0KG8ubG9nRXJyb3IpKHMrInNjaGFpbi5ub2Rlc1tdLnJpZCIrcikpKSxPYmplY3Qoby5oYXNPd24pKGUsIm5hbWUiKSYmKE9iamVjdChvLmlzU3RyKShlLm5hbWUpfHwobj1uJiYhMSxPYmplY3Qoby5sb2dFcnJvcikocysic2NoYWluLm5vZGVzW10ubmFtZSIrcikpKSxPYmplY3Qoby5oYXNPd24pKGUsImRvbWFpbiIpJiYoT2JqZWN0KG8uaXNTdHIpKGUuZG9tYWluKXx8KG49biYmITEsT2JqZWN0KG8ubG9nRXJyb3IpKHMrInNjaGFpbi5ub2Rlc1tdLmRvbWFpbiIrcikpKSxPYmplY3Qoby5oYXNPd24pKGUsImV4dCIpJiYoT2JqZWN0KG8uaXNQbGFpbk9iamVjdCkoZS5leHQpfHwobj1uJiYhMSxPYmplY3Qoby5sb2dFcnJvcikocysic2NoYWluLm5vZGVzW10uZXh0IitiKSkpfSk7ZWxzZSBpZihPYmplY3Qoby5sb2dFcnJvcikocysic2NoYWluLm5vZGVzIitPKSx0KXJldHVybiExO3JldHVybiEodCYmIW4pfWZ1bmN0aW9uIGgoZSx0KXtlLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5iaWRzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5zY2hhaW49dH0pfSl9ZnVuY3Rpb24gdShlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKCEhT2JqZWN0KG8uaXNQbGFpbk9iamVjdCkoZSl8fChPYmplY3Qoby5sb2dFcnJvcikocysic2NoYWluIGNvbmZpZyB3aWxsIG5vdCBiZSBwYXNzZWQgdG8gYmlkZGVycyBhcyBzY2hhaW4gaXMgbm90IGFuIG9iamVjdC4iKSwhMSkpfWZ1bmN0aW9uIGYoaSl7dmFyIHI9ai5TVFJJQ1Q7T2JqZWN0KGMuYSkoKS5yZXF1ZXN0Qmlkcy5iZWZvcmUoZnVuY3Rpb24oZSx0KXt2YXIgbj1pLmdldENvbmZpZygic2NoYWluIik7cmV0dXJuIHUobikmJihPYmplY3Qoby5pc1N0cikobi52YWxpZGF0aW9uKSYmLTEhPWQuaW5kZXhPZihuLnZhbGlkYXRpb24pJiYocj1uLnZhbGlkYXRpb24pLHI9PT1qLk9GRj9oKHQuYWRVbml0c3x8T2JqZWN0KGMuYSkoKS5hZFVuaXRzLG4uY29uZmlnKTpsKG4uY29uZmlnLHI9PT1qLlNUUklDVCk/aCh0LmFkVW5pdHN8fE9iamVjdChjLmEpKCkuYWRVbml0cyxuLmNvbmZpZyk6T2JqZWN0KG8ubG9nRXJyb3IpKHMrInNjaGFpbiBjb25maWcgd2lsbCBub3QgYmUgcGFzc2VkIHRvIGJpZGRlcnMgYXMgaXQgaXMgbm90IHZhbGlkLiIpKSxlLmNhbGwodGhpcyx0KX0sNDApfU9iamVjdChvLl9lYWNoKShqLGZ1bmN0aW9uKGUpe3JldHVybiBkLnB1c2goZSl9KSxmKGkuYil9fSxbNTgzXSk7CnVwYmpzQ2h1bmsoWzEwMF0sezU4OTpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNTkwKX0sNTkwOmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBhfSk7dmFyIHA9dCgwKSxpPXQoMSk7ZnVuY3Rpb24gZCgpe3JldHVybihkPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PWFyZ3VtZW50c1tyXTtmb3IodmFyIGkgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxpKSYmKGVbaV09dFtpXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGM9e3NlcnZlcmJpZDp7QkFTRV9VUkk6Imh0dHBzOi8vZS5zZXJ2ZXJiaWQuY29tL2FwaS92MiJ9LGNvbm5lY3RhZDp7QkFTRV9VUkk6Imh0dHBzOi8vaS5jb25uZWN0YWQuaW8vYXBpL3YyIn0sb25lZmlmdHl0d286e0JBU0VfVVJJOiJodHRwczovL2Uuc2VydmVyYmlkLmNvbS9hcGkvdjIifSxpbnN0aWNhdG9yOntCQVNFX1VSSToiaHR0cHM6Ly9lLnNlcnZlcmJpZC5jb20vYXBpL3YyIn0sYXV0b21hdGFkOntCQVNFX1VSSToiaHR0cHM6Ly9lLnNlcnZlcmJpZC5jb20vYXBpL3YyIn0sYXJjaG9uOntCQVNFX1VSSToiaHR0cHM6Ly9lLnNlcnZlcmJpZC5jb20vYXBpL3YyIn0sYnV5c2VsbGFkczp7QkFTRV9VUkk6Imh0dHBzOi8vZS5zZXJ2ZXJiaWQuY29tL2FwaS92MiJ9LGFuc3dlcm1lZGlhOntCQVNFX1VSSToiaHR0cHM6Ly9lLnNlcnZlcmJpZC5jb20vYXBpL3YyIn19LG49MCxvPSJzZXJ2ZXJiaWQiLGE9e2NvZGU6InNlcnZlcmJpZCIsYWxpYXNlczpbImNvbm5lY3RhZCIsIm9uZWZpZnR5dHdvIiwiaW5zdGljYXRvciIsImF1dG9tYXRhZCIsImFyY2hvbiIsImJ1eXNlbGxhZHMiLCJhbnN3ZXJtZWRpYSJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEoIWUucGFyYW1zLm5ldHdvcmtJZHx8IWUucGFyYW1zLnNpdGVJZCl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSl7dmFyIGEscj17bWV0aG9kOiJQT1NUIix1cmw6IiIsZGF0YToiIixiaWRSZXF1ZXN0OltdfTtpZihlLmxlbmd0aDwxKXJldHVybiByO249ZVswXS5wYXJhbXMuc2l0ZUlkLG89ZVswXS5iaWRkZXI7dmFyIHM9ZCh7cGxhY2VtZW50czpbXSx0aW1lOkRhdGUubm93KCksdXNlcjp7fSx1cmw6cC5nZXRUb3BXaW5kb3dVcmwoKSxyZWZlcnJlcjpkb2N1bWVudC5yZWZlcnJlcixlbmFibGVCb3RGaWx0ZXJpbmc6ITAsaW5jbHVkZVByaWNpbmdEYXRhOiEwLHBhcmFsbGVsOiEwfSxlWzBdLnBhcmFtcyk7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3ZhciByPWNbZS5iaWRkZXJdO2E9ci5CQVNFX1VSSTt2YXIgdCxpLG49ZCh7ZGl2TmFtZTplLmJpZElkLGFkVHlwZXM6ZS5hZFR5cGVzfHwodD1lLnNpemVzLGk9W10sdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXUuaW5kZXhPZihlWzBdKyJ4IitlWzFdKTswPD1yJiZpLnB1c2gocil9KSxpKX0sZS5wYXJhbXMpO24ubmV0d29ya0lkJiZuLnNpdGVJZCYmcy5wbGFjZW1lbnRzLnB1c2gobil9KSxyLmRhdGE9SlNPTi5zdHJpbmdpZnkocyksci5iaWRSZXF1ZXN0PWUsci51cmw9YSxyfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0LGksbixhLHM9W107aT1yLmJpZFJlcXVlc3QsZT0oZXx8e30pLmJvZHk7Zm9yKHZhciBkPTA7ZDxpLmxlbmd0aDtkKyspaWYodD17fSxuPWlbZF0uYmlkSWQsZSl7dmFyIGM9ZS5kZWNpc2lvbnMmJmUuZGVjaXNpb25zW25dLG89YyYmYy5wcmljaW5nJiZjLnByaWNpbmcuY2xlYXJQcmljZTtjJiZvJiYodC5yZXF1ZXN0SWQ9bix0LmNwbT1vLHQud2lkdGg9Yy53aWR0aCx0LmhlaWdodD1jLmhlaWdodCx0LmFkPShhPWMpLmNvbnRlbnRzJiZhLmNvbnRlbnRzWzBdJiZhLmNvbnRlbnRzWzBdLmJvZHkrcC5jcmVhdGVUcmFja1BpeGVsSHRtbChhLmltcHJlc3Npb25VcmwpLHQuY3VycmVuY3k9IlVTRCIsdC5jcmVhdGl2ZUlkPWMuYWRJZCx0LnR0bD0zNjAsdC5uZXRSZXZlbnVlPSEwLHQucmVmZXJyZXI9cC5nZXRUb3BXaW5kb3dVcmwoKSxzLnB1c2godCkpfXJldHVybiBzfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSl7aWYoZS5pZnJhbWVFbmFibGVkKXJldHVybiJjb25uZWN0YWQiPT09bz9be3R5cGU6ImlmcmFtZSIsdXJsOiIvL2Nkbi5jb25uZWN0YWQuaW8vY29ubmVjdG15dXNlcnMucGhwIn1dOlt7dHlwZToiaWZyYW1lIix1cmw6Ii8vcy56a2Nkbi5uZXQvc3MvIituKyIuaHRtbCJ9XTtwLmxvZ1dhcm4obysiOiBQbGVhc2UgZW5hYmxlIGlmcmFtZSBiYXNlZCB1c2VyIHN5bmNpbmcuIil9fSx1PVtudWxsLCIxMjB4OTAiLCIxMjB4OTAiLCI0Njh4NjAiLCI3Mjh4OTAiLCIzMDB4MjUwIiwiMTYweDYwMCIsIjEyMHg2MDAiLCIzMDB4MTAwIiwiMTgweDE1MCIsIjMzNngyODAiLCIyNDB4NDAwIiwiMjM0eDYwIiwiODh4MzEiLCIxMjB4NjAiLCIxMjB4MjQwIiwiMTI1eDEyNSIsIjIyMHgyNTAiLCIyNTB4MjUwIiwiMjUweDkwIiwiMHgwIiwiMjAweDkwIiwiMzAweDUwIiwiMzIweDUwIiwiMzIweDQ4MCIsIjE4NXgxODUiLCI2MjB4NDUiLCIzMDB4MTI1IiwiODAweDI1MCJdO3VbNzddPSI5NzB4OTAiLHVbMTIzXT0iOTcweDI1MCIsdVs0M109IjMwMHg2MDAiLHVbMjg2XT0iOTcweDY2Iix1WzMyMzBdPSI5NzB4MjgwIix1WzQyOV09IjQ4Nng2MCIsdVszNzRdPSI3MDB4NTAwIix1WzkzNF09IjMwMHgxMDUwIix1WzE1NzhdPSIzMjB4MTAwIix1WzMzMV09IjMyMHgyNTAiLHVbMzMwMV09IjMyMHgyNjciLHVbMjczMF09IjcyOHgyNTAiLE9iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShhKX19LFs1ODldKTsKdXBianNDaHVuayhbOThdLHs1OTU6ZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDU5Nil9LDU5NjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQodCwic2hhcmV0aHJvdWdoSW50ZXJuYWwiLGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSxuLmQodCwic2hhcmV0aHJvdWdoQWRhcHRlclNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIGN9KTt2YXIgcj1uKDEpLGk9InNoYXJldGhyb3VnaCIsYT1kb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCsiLy9idGxyLnNoYXJldGhyb3VnaC5jb20vV1l1MkJYdjEvdjEiLG89WzEsMV0scz17YjY0RW5jb2RlVW5pY29kZTpkLGhhbmRsZUlmcmFtZTpmdW5jdGlvbigpe3ZhciBlPSExO2lmKCF3aW5kb3cubG9ja2VkSW5GcmFtZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7dC5zcmM9Ii8vbmF0aXZlLnNoYXJldGhyb3VnaC5jb20vYXNzZXRzL3NmcC1zZXQtdGFyZ2V0aW5nLmpzIix0LnR5cGU9InRleHQvamF2YXNjcmlwdCI7dHJ5e3dpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdLmFwcGVuZENoaWxkKHQpLGU9ITB9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihlKX19aWYoIShlP3dpbmRvdy50b3AuU1RSJiZ3aW5kb3cudG9wLlNUUi5UYWc6d2luZG93LlNUUiYmd2luZG93LlNUUi5UYWcpKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtuLnNyYz0iLy9uYXRpdmUuc2hhcmV0aHJvdWdoLmNvbS9hc3NldHMvc2ZwLmpzIixuLnR5cGU9InRleHQvamF2YXNjcmlwdCI7dHJ5e2U/d2luZG93LnRvcC5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdLmFwcGVuZENoaWxkKG4pOndpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdLmFwcGVuZENoaWxkKG4pfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoZSl9fX0saXNMb2NrZWRJbkZyYW1lOmZ1bmN0aW9uKCl7d2luZG93LmxvY2tlZEluRnJhbWU9ITE7dHJ5e3dpbmRvdy5sb2NrZWRJbkZyYW1lPSF3aW5kb3cudG9wLmRvY3VtZW50fWNhdGNoKGUpe3dpbmRvdy5sb2NrZWRJbkZyYW1lPWUgaW5zdGFuY2VvZiBET01FeGNlcHRpb259fX0sYz17Y29kZTppLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJhbXMucGtleSYmZS5iaWRkZXI9PT1pfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PXtwbGFjZW1lbnRfa2V5OmUucGFyYW1zLnBrZXksYmlkSWQ6ZS5iaWRJZCxjb25zZW50X3JlcXVpcmVkOiExLGluc3RhbnRfcGxheV9jYXBhYmxlOmZ1bmN0aW9uKCl7dmFyIGU9bmF2aWdhdG9yLnVzZXJBZ2VudDtpZighZSlyZXR1cm4hMTt2YXIgdD0vQW5kcm9pZC9pLnRlc3QoZSksbj0vaVBob25lfGlQYWR8aVBvZC9pLnRlc3QoZSkscj1wYXJzZUludCgoL0Nocm9tZVwvKFswLTldKykvLmV4ZWMoZSl8fFswLDBdKVsxXSksaT1wYXJzZUludCgoL0NyaU9TXC8oWzAtOV0rKS8uZXhlYyhlKXx8WzAsMF0pWzFdKSxhPXBhcnNlSW50KCgvVmVyc2lvblwvKFswLTldKykvLmV4ZWMoZSl8fFswLDBdKVsxXSk7cmV0dXJuISEodCYmNTM8PXJ8fG4mJigxMDw9YXx8NTM8PWkpfHwhdCYmIW4pfSgpLGhiU291cmNlOiJwcmViaWQiLGhiVmVyc2lvbjoiMi40NC4xIixzdHJWZXJzaW9uOiIzLjEuMCJ9O3ImJnIuZ2RwckNvbnNlbnQmJnIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyYmKHQuY29uc2VudF9zdHJpbmc9ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSxyJiZyLmdkcHJDb25zZW50JiYodC5jb25zZW50X3JlcXVpcmVkPSEhci5nZHByQ29uc2VudC5nZHByQXBwbGllcyksZS51c2VySWQmJmUudXNlcklkLnRkaWQmJih0LnR0ZHVpZD1lLnVzZXJJZC50ZGlkKSxlLnNjaGFpbiYmKHQuc2NoYWluPUpTT04uc3RyaW5naWZ5KGUuc2NoYWluKSksZS5iaWRmbG9vciYmKHQuYmlkZmxvb3I9cGFyc2VGbG9hdChlLmJpZGZsb29yKSk7dmFyIG49e3NraXBJZnJhbWVCdXN0aW5nOmUucGFyYW1zLmlmcmFtZSxpZnJhbWVTaXplOmUucGFyYW1zLmlmcmFtZVNpemUsc2l6ZXM6ZS5zaXplc307cmV0dXJue21ldGhvZDoiR0VUIix1cmw6YSxkYXRhOnQsc3RyRGF0YTpufX0pfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciBuPWUuYm9keTtpZighbnx8IW4uY3JlYXRpdmVzfHwhbi5jcmVhdGl2ZXMubGVuZ3RoKXJldHVybltdO3ZhciByPW4uY3JlYXRpdmVzWzBdLGk9bztmdW5jdGlvbiBhKGUpe3JldHVybiBlWzBdKmVbMV19cmV0dXJuKHQuc3RyRGF0YS5pZnJhbWVTaXplfHx0LnN0ckRhdGEuc2l6ZXMubGVuZ3RoKSYmKGk9dC5zdHJEYXRhLmlmcmFtZVNpemU/dC5zdHJEYXRhLmlmcmFtZVNpemU6dC5zdHJEYXRhLnNpemVzLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBhKHQpPmEoZSk/dDplfSkpLFt7cmVxdWVzdElkOnQuZGF0YS5iaWRJZCx3aWR0aDppWzBdLGhlaWdodDppWzFdLGNwbTpyLmNwbSxjcmVhdGl2ZUlkOnIuY3JlYXRpdmUuY3JlYXRpdmVfa2V5LGRlYWxJZDpyLmNyZWF0aXZlLmRlYWxfaWQsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMCx0dGw6MzYwLGFkOmZ1bmN0aW9uKGUsdCl7dmFyIG49InN0cl9yZXNwb25zZV8iLmNvbmNhdCh0LmRhdGEuYmlkSWQpLHI9J1xuICAgIDxkaXYgZGF0YS1zdHItbmF0aXZlLWtleT0iJy5jb25jYXQodC5kYXRhLnBsYWNlbWVudF9rZXksJyIgZGF0YS1zdHgtcmVzcG9uc2UtbmFtZT0iJykuY29uY2F0KG4sJyI+XG4gICAgPC9kaXY+XG4gICAgPHNjcmlwdD52YXIgJykuY29uY2F0KG4sJyA9ICInKS5jb25jYXQoZChKU09OLnN0cmluZ2lmeShlKSksJyI8XC9zY3JpcHQ+XG4gICcpO3Quc3RyRGF0YS5za2lwSWZyYW1lQnVzdGluZz9yKz0nPHNjcmlwdCBzcmM9Ii8vbmF0aXZlLnNoYXJldGhyb3VnaC5jb20vYXNzZXRzL3NmcC5qcyI+PFwvc2NyaXB0Pic6cis9IlxuICAgICAgPHNjcmlwdD5cbiAgICAgICAgKCIuY29uY2F0KHMuaXNMb2NrZWRJbkZyYW1lLnRvU3RyaW5nKCksIikoKVxuICAgICAgPFwvc2NyaXB0PlxuICAgICAgPHNjcmlwdD5cbiAgICAgICAgKCIpLmNvbmNhdChzLmhhbmRsZUlmcmFtZS50b1N0cmluZygpLCIpKClcbiAgICAgIDxcL3NjcmlwdD4iKTtyZXR1cm4gcn0obix0KX1dfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXTtyZXR1cm4gZS5waXhlbEVuYWJsZWQmJjA8dC5sZW5ndGgmJnRbMF0uYm9keSYmdFswXS5ib2R5LmNvb2tpZVN5bmNVcmxzJiZ0WzBdLmJvZHkuY29va2llU3luY1VybHMuZm9yRWFjaChmdW5jdGlvbihlKXtuLnB1c2goe3R5cGU6ImltYWdlIix1cmw6ZX0pfSksbn0sb25UaW1lb3V0OmZ1bmN0aW9uKCl7fSxvbkJpZFdvbjpmdW5jdGlvbigpe30sb25TZXRUYXJnZXRpbmc6ZnVuY3Rpb24oKXt9fTtmdW5jdGlvbiBkKGUpe3JldHVybiBidG9hKGVuY29kZVVSSUNvbXBvbmVudChlKS5yZXBsYWNlKC8lKFswLTlBLUZdezJ9KS9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoIjB4Iit0KX0pKX1PYmplY3Qoci5yZWdpc3RlckJpZGRlcikoYyl9fSxbNTk1XSk7CnVwYmpzQ2h1bmsoWzk1XSx7NjAzOmZ1bmN0aW9uKGUscixhKXtlLmV4cG9ydHM9YSg2MDQpfSw2MDQ6ZnVuY3Rpb24oZSxyLGEpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksYS5kKHIsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIGR9KTt2YXIgcz1hKDApLHA9YSgyKSxuPWEoMyksdD1hKDEpLGQ9e2NvZGU6InNtYXJ0YWRzZXJ2ZXIiLGFsaWFzZXM6WyJzbWFydCJdLHN1cHBvcnRlZE1lZGlhVHlwZXM6W3AuYixwLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUucGFyYW1zJiZlLnBhcmFtcy5zaXRlSWQmJmUucGFyYW1zLnBhZ2VJZCYmZS5wYXJhbXMuZm9ybWF0SWQpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3ZhciByPXtzaXRlaWQ6ZS5wYXJhbXMuc2l0ZUlkLHBhZ2VpZDplLnBhcmFtcy5wYWdlSWQsZm9ybWF0aWQ6ZS5wYXJhbXMuZm9ybWF0SWQsY3VycmVuY3lDb2RlOm4uYi5nZXRDb25maWcoImN1cnJlbmN5LmFkU2VydmVyQ3VycmVuY3kiKSxiaWRmbG9vcjplLnBhcmFtcy5iaWRmbG9vcnx8MCx0YXJnZXRpbmc6ZS5wYXJhbXMudGFyZ2V0JiYiIiE9ZS5wYXJhbXMudGFyZ2V0P2UucGFyYW1zLnRhcmdldDp2b2lkIDAsYnVpZDplLnBhcmFtcy5idUlkJiYiIiE9ZS5wYXJhbXMuYnVJZD9lLnBhcmFtcy5idUlkOnZvaWQgMCxhcHBuYW1lOmUucGFyYW1zLmFwcE5hbWUmJiIiIT1lLnBhcmFtcy5hcHBOYW1lP2UucGFyYW1zLmFwcE5hbWU6dm9pZCAwLGNraWQ6ZS5wYXJhbXMuY2tJZHx8MCx0YWdJZDplLmFkVW5pdENvZGUscGFnZURvbWFpbjpzLmdldFRvcFdpbmRvd1VybCgpLHRyYW5zYWN0aW9uSWQ6ZS50cmFuc2FjdGlvbklkLHRpbWVvdXQ6bi5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpLGJpZElkOmUuYmlkSWQscHJlYmlkVmVyc2lvbjoiMi40NC4xIn0sYT1zLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlbyIpO2lmKGEpe2lmKCFhfHwiaW5zdHJlYW0iIT09YS5jb250ZXh0KXJldHVybnt9O3ZhciB0PWEucGxheWVyU2l6ZVswXTtyLmlzVmlkZW89ITAsci52aWRlb0RhdGE9e3ZpZGVvUHJvdG9jb2w6ZS5wYXJhbXMudmlkZW8ucHJvdG9jb2wscGxheWVyV2lkdGg6dFswXSxwbGF5ZXJIZWlnaHQ6dFsxXSxhZEJyZWFrOmUucGFyYW1zLnZpZGVvLnN0YXJ0RGVsYXl8fDB9fWVsc2Ugci5zaXplcz1lLnNpemVzLm1hcChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KTtpJiZpLmdkcHJDb25zZW50JiYoci5nZHByX2NvbnNlbnQ9aS5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLHIuZ2Rwcj1pLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKTt2YXIgZD1KU09OLnN0cmluZ2lmeShyKTtyZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6KHZvaWQgMCE9PWUucGFyYW1zLmRvbWFpbj9lLnBhcmFtcy5kb21haW46Imh0dHBzOi8vcHJnLnNtYXJ0YWRzZXJ2ZXIuY29tIikrIi9wcmViaWQvdjEiLGRhdGE6ZH19KX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgYT1bXSx0PWUuYm9keTt0cnl7aWYodCl7dmFyIGQ9SlNPTi5wYXJzZShyLmRhdGEpLGk9e3JlcXVlc3RJZDpkLmJpZElkLGNwbTp0LmNwbSx3aWR0aDp0LndpZHRoLGhlaWdodDp0LmhlaWdodCxjcmVhdGl2ZUlkOnQuY3JlYXRpdmVJZCxkZWFsSWQ6dC5kZWFsSWQsY3VycmVuY3k6dC5jdXJyZW5jeSxuZXRSZXZlbnVlOnQuaXNOZXRDcG0sdHRsOnQudHRsLHJlZmVycmVyOnMuZ2V0VG9wV2luZG93VXJsKCl9O2QuaXNWaWRlbz8oaS5tZWRpYVR5cGU9cC5kLGkudmFzdFVybD10LmFkVXJsLGkudmFzdFhtbD10LmFkKTooaS5hZFVybD10LmFkVXJsLGkuYWQ9dC5hZCksYS5wdXNoKGkpfX1jYXRjaChlKXtzLmxvZ0Vycm9yKCJFcnJvciB3aGlsZSBwYXJzaW5nIHNtYXJ0IHNlcnZlciByZXNwb25zZSIsZSl9cmV0dXJuIGF9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIpe3ZhciBhPVtdO3JldHVybiBlLmlmcmFtZUVuYWJsZWQmJjA8ci5sZW5ndGgmJmEucHVzaCh7dHlwZToiaWZyYW1lIix1cmw6clswXS5ib2R5LmNTeW5jVXJsfSksYX19O09iamVjdCh0LnJlZ2lzdGVyQmlkZGVyKShkKX19LFs2MDNdKTsKdXBianNDaHVuayhbODldLHs2MTc6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDYxOCl9LDYxODpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsZnVuY3Rpb24oKXtyZXR1cm4gc30pLHIuZCh0LCJfaXNJbmJvdW5kcyIsZnVuY3Rpb24oKXtyZXR1cm4gZn0pLHQuX2dldFBsYXRmb3JtPW07dmFyIG49cigxKSxnPXIoMCksaT1yKDIpLGM9cigzKSx5PXIoMTApLGE9cigzMyk7ZnVuY3Rpb24gaChlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXtpZighKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSl8fCJbb2JqZWN0IEFyZ3VtZW50c10iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKSlyZXR1cm47dmFyIHI9W10sbj0hMCxpPSExLHM9dm9pZCAwO3RyeXtmb3IodmFyIGMsYT1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KGM9YS5uZXh0KCkpLmRvbmUpJiYoci5wdXNoKGMudmFsdWUpLCF0fHxyLmxlbmd0aCE9PXQpO249ITApO31jYXRjaChlKXtpPSEwLHM9ZX1maW5hbGx5e3RyeXtufHxudWxsPT1hLnJldHVybnx8YS5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgc319cmV0dXJuIHJ9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpfSgpfWZ1bmN0aW9uIG8oKXtyZXR1cm4obz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGQoZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfXZhciB1PSJzb25vYmkiLHA9T2JqZWN0KGcuZ2VuZXJhdGVVVUlEKSgpLHM9e2NvZGU6dSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltpLmIsaS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtpZighZS5wYXJhbXMpcmV0dXJuITE7aWYoIWUucGFyYW1zLmFkX3VuaXQmJiFlLnBhcmFtcy5wbGFjZW1lbnRfaWQpcmV0dXJuITE7aWYoIU9iamVjdChnLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyIikmJiFPYmplY3QoZy5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIikpcmV0dXJuITE7aWYoT2JqZWN0KGcuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIiKSl7aWYoIU9iamVjdChnLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIikmJiFlLnBhcmFtcy5zaXplcylyZXR1cm4hMX1lbHNlIGlmKE9iamVjdChnLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKSl7aWYoIm91dHN0cmVhbSI9PT1PYmplY3QoZy5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSYmIWUucGFyYW1zLnNpemVzKXJldHVybiExO2lmKCJpbnN0cmVhbSI9PT1PYmplY3QoZy5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSYmIU9iamVjdChnLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpKXJldHVybiExfXJldHVybiEwfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7aWYoZS5wYXJhbXMuYWRfdW5pdClyZXR1cm4gZS5wYXJhbXMuYWRfdW5pdDtyZXR1cm4gZS5wYXJhbXMucGxhY2VtZW50X2lkfShlKTtyZXR1cm4vXltcL10/W1xkXStbW1wvXS4rW1wvXT9dPyQvLnRlc3QodCk/KHQ9Ii8iPT09dC5jaGFyQXQoMCk/dDoiLyIrdCxkKHt9LCIiLmNvbmNhdCh0LCJ8IikuY29uY2F0KGUuYmlkSWQpLCIiLmNvbmNhdChiKGUpKS5jb25jYXQobChlKSkpKTovXlswLTlhLWZBLUZdezIwfSQvLnRlc3QodCkmJjIwPT09dC5sZW5ndGg/ZCh7fSxlLmJpZElkLCIiLmNvbmNhdCh0LCJ8IikuY29uY2F0KGIoZSkpLmNvbmNhdChsKGUpKSk6dm9pZCBPYmplY3QoZy5sb2dFcnJvcikoIlRoZSBhZCB1bml0IGNvZGUgb3IgU29ub2JpIFBsYWNlbWVudCBpZCBmb3Igc2xvdCAiLmNvbmNhdChlLmJpZElkLCIgaXMgaW52YWxpZCIpKX0pLG49e307ci5mb3JFYWNoKGZ1bmN0aW9uKGUpe28obixlKX0pO3ZhciBpPXtrZXlfbWFrZXI6SlNPTi5zdHJpbmdpZnkobikscmVmOnQucmVmZXJlckluZm8ucmVmZXJlcixzOk9iamVjdChnLmdlbmVyYXRlVVVJRCkoKSxwdjpwLHZwOm0oKSxsaWJfbmFtZToicHJlYmlkIixsaWJfdjoiMi40NC4xIix1czowfTtjLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYyIpJiZjLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYyIpLnN5bmNzUGVyQmlkZGVyJiYoaS51cz1jLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYyIpLnN5bmNzUGVyQmlkZGVyKSxhLmEuY2FuQmlkZGVyUmVnaXN0ZXJTeW5jKCJpZnJhbWUiLHUpP2kuaXVzPTE6aS5pdXM9MCxPYmplY3QoZy5kZWVwQWNjZXNzKShlWzBdLCJwYXJhbXMuaGZhIik/aS5oZmE9T2JqZWN0KGcuZGVlcEFjY2VzcykoZVswXSwicGFyYW1zLmhmYSIpOk9iamVjdChnLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZC5wdWJjaWQiKT9pLmhmYT0iUFJFLSIuY29uY2F0KGVbMF0udXNlcklkLnB1YmNpZCk6T2JqZWN0KGcuZGVlcEFjY2VzcykoZVswXSwiY3J1bWJzLnB1YmNpZCIpJiYoaS5oZmE9IlBSRS0iLmNvbmNhdChlWzBdLmNydW1icy5wdWJjaWQpKSxPYmplY3QoZy5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQudGRpZCIpJiYoaS50ZGlkPWVbMF0udXNlcklkLnRkaWQpLGVbMF0ucGFyYW1zLnJlZmVycmVyJiYoaS5yZWY9ZVswXS5wYXJhbXMucmVmZXJyZXIpLHQmJnQuZ2RwckNvbnNlbnQmJihpLmdkcHI9dC5nZHByQ29uc2VudC5nZHByQXBwbGllcz8idHJ1ZSI6ImZhbHNlIix0LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcmJihpLmNvbnNlbnRfc3RyaW5nPXQuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykpO3ZhciBzPWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKCl7dmFyIGU9d2luZG93LkRpZ2lUcnVzdCYmKGMuYi5nZXRDb25maWcoImRpZ2lUcnVzdElkIil8fHdpbmRvdy5EaWdpVHJ1c3QuZ2V0VXNlcih7bWVtYmVyOnR9KSk7cmV0dXJuIGUmJmUuc3VjY2VzcyYmZS5pZGVudGl0eXx8bnVsbH0oKTtpZighZXx8ZS5wcml2YWN5JiZlLnByaXZhY3kub3B0b3V0KXJldHVybiBudWxsO3JldHVybiBlfSgiZmhuUzVkcndtSCIpO3JldHVybiBzJiYoaS5kaWdpZD1zLmlkLGkuZGlna2V5dj1zLmtleXYpLGVbMF0uc2NoYWluJiYoaS5zY2hhaW49SlNPTi5zdHJpbmdpZnkoZVswXS5zY2hhaW4pKSxPYmplY3QoZy5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQiKSYmMDxPYmplY3Qua2V5cyhlWzBdLnVzZXJJZCkubGVuZ3RoJiYoaS51c2VyaWQ9SlNPTi5zdHJpbmdpZnkoZVswXS51c2VySWQpKSxPYmplY3QoZy5pc0VtcHR5KShuKT9udWxsOnttZXRob2Q6IkdFVCIsdXJsOiJodHRwczovL2FwZXguZ28uc29ub2JpLmNvbS90cmluaXR5Lmpzb24iLHdpdGhDcmVkZW50aWFsczohMCxkYXRhOmksYmlkZGVyUmVxdWVzdHM6ZX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsbCl7dmFyIGY9ZS5ib2R5LG09W10sdj1sLmRhdGEucmVmO3JldHVybiAwPT09T2JqZWN0LmtleXMoZi5zbG90cykubGVuZ3RofHxPYmplY3Qua2V5cyhmLnNsb3RzKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWYuc2xvdHNbZV0scj1lLnNwbGl0KCJ8Iikuc2xpY2UoLTEpWzBdLG49ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKylpZihlW3JdLmJpZElkPT09dClyZXR1cm4gZVtyXX0obC5iaWRkZXJSZXF1ZXN0cyxyKSxpPW51bGw7InZpZGVvIj09PXQuc2JpX2N0JiYoaT0idmlkZW8iLCJvdXRzdHJlYW0iPT09T2JqZWN0KGcuZGVlcEFjY2VzcykobiwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0IikmJihpPSJvdXRzdHJlYW0iKSk7dmFyIHM9aihpLHYpO2lmKHQuc2JpX2FpZCYmdC5zYmlfbW91c2UmJnQuc2JpX3NpemUpe3ZhciBjPWgodC5zYmlfc2l6ZS5zcGxpdCgieCIpLDIpLGE9Y1swXSxvPXZvaWQgMD09PWE/MTphLGQ9Y1sxXSx1PXZvaWQgMD09PWQ/MTpkLHA9e3JlcXVlc3RJZDpyLGNwbTpOdW1iZXIodC5zYmlfbW91c2UpLHdpZHRoOk51bWJlcihvKSxoZWlnaHQ6TnVtYmVyKHUpLGFkOnMoZi5zYmlfZGMsdC5zYmlfYWlkKSx0dGw6NTAwLGNyZWF0aXZlSWQ6dC5zYmlfY3JpZHx8dC5zYmlfYWlkLGFpZDp0LnNiaV9haWQsbmV0UmV2ZW51ZTohMCxjdXJyZW5jeToiVVNEIn07aWYodC5zYmlfZG96ZXImJihwLmRlYWxJZD10LnNiaV9kb3plciksInZpZGVvIj09PWkpcC5tZWRpYVR5cGU9InZpZGVvIixwLnZhc3RVcmw9cyhmLnNiaV9kYyx0LnNiaV9haWQpLGRlbGV0ZSBwLmFkLGRlbGV0ZSBwLndpZHRoLGRlbGV0ZSBwLmhlaWdodDtlbHNlIGlmKCJvdXRzdHJlYW0iPT09aSYmbil7cC5tZWRpYVR5cGU9InZpZGVvIixwLnZhc3RVcmw9cyhmLnNiaV9kYyx0LnNiaV9haWQpLHAucmVuZGVyZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj0yPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sbj15LmEuaW5zdGFsbCh7aWQ6dC5haWQsdXJsOiJodHRwczovL210cnguZ28uc29ub2JpLmNvbS9zYmlfb3V0c3RyZWFtX3JlbmRlcmVyLmpzIixjb25maWc6cixsb2FkZWQ6ITEsYWRVbml0Q29kZTplfSk7dHJ5e24uc2V0UmVuZGVyKE8pfWNhdGNoKGUpe09iamVjdChnLmxvZ1dhcm4pKCJQcmViaWQgRXJyb3IgY2FsbGluZyBzZXRSZW5kZXIgb24gcmVuZGVyZXIiLGUpfXJldHVybiBuLnNldEV2ZW50SGFuZGxlcnMoe2ltcHJlc3Npb246ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGcubG9nTWVzc2FnZSkoIlNvbm9iaSBvdXRzdHJlYW0gdmlkZW8gaW1wcmVzc2lvbiBldmVudCIpfSxsb2FkZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGcubG9nTWVzc2FnZSkoIlNvbm9iaSBvdXRzdHJlYW0gdmlkZW8gbG9hZGVkIGV2ZW50Iil9LGVuZGVkOmZ1bmN0aW9uKCl7T2JqZWN0KGcubG9nTWVzc2FnZSkoIlNvbm9iaSBvdXRzdHJlYW0gcmVuZGVyZXIgdmlkZW8gZXZlbnQiKX19KSxufShuLmFkVW5pdENvZGUscCxPYmplY3QoZy5kZWVwQWNjZXNzKShuLCJyZW5kZXJlci5vcHRpb25zIikpO3ZhciBiPU9iamVjdChnLmRlZXBBY2Nlc3MpKG4sInBhcmFtcy5zaXplcyIpO0FycmF5LmlzQXJyYXkoYikmJkFycmF5LmlzQXJyYXkoYlswXSkmJihiPWJbMF0pLGImJihwLndpZHRoPWJbMF0scC5oZWlnaHQ9YlsxXSl9bS5wdXNoKHApfX0pLG19LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQpe3ZhciByPVtdO3RyeXtlLnBpeGVsRW5hYmxlZCYmdFswXS5ib2R5LnNiaV9weC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3IucHVzaCh7dHlwZTplLnR5cGUsdXJsOmUudXJsfSl9KX1jYXRjaChlKXt9cmV0dXJuIHJ9fTtmdW5jdGlvbiBiKGUpe3JldHVybiBPYmplY3QoZy5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIik/IiI6ZS5wYXJhbXMuc2l6ZXM/T2JqZWN0KGcucGFyc2VTaXplc0lucHV0KShlLnBhcmFtcy5zaXplcykuam9pbigiLCIpOk9iamVjdChnLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIik/T2JqZWN0KGcucGFyc2VTaXplc0lucHV0KShPYmplY3QoZy5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpKS5qb2luKCIsIik6ZS5zaXplcz9PYmplY3QoZy5wYXJzZVNpemVzSW5wdXQpKGUuc2l6ZXMpLmpvaW4oIiwiKTp2b2lkIDB9ZnVuY3Rpb24gbChlKXtyZXR1cm4gZS5wYXJhbXMuZmxvb3I/InxmPSIuY29uY2F0KGUucGFyYW1zLmZsb29yKToiIn12YXIgaj1mdW5jdGlvbihpLHMpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiJ2aWRlbyI9PT1pfHwib3V0c3RyZWFtIj09PWk/KHI9dCxuPXMsImh0dHBzOi8vIi5jb25jYXQoZSwiYXBleC5nby5zb25vYmkuY29tL3Zhc3QueG1sP3ZpZD0iKS5jb25jYXQociwiJnJlZj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KG4pKSk6JzxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9IicrImh0dHBzOi8vIi5jb25jYXQoZSwiYXBleC5nby5zb25vYmkuY29tL3NiaS5qcz9haWQ9IikuY29uY2F0KHQsIiZhcz1udWxsJnJlZj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHMpKSsnIj48XC9zY3JpcHQ+Jzt2YXIgcixufX07dmFyIGY9ZnVuY3Rpb24oZSl7dmFyIHI9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1lP2U6d2luZG93O3JldHVybiBmdW5jdGlvbigpe3ZhciBlPTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowLHQ9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSO3JldHVybiByLmlubmVyV2lkdGg+PWUmJnIuaW5uZXJXaWR0aDx0fX07ZnVuY3Rpb24gbSgpe3ZhciBlPTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp3aW5kb3csdD1mKGUpLHI9OTkyLG49NzY4O3JldHVybiB0KDAsNzY4KT8ibW9iaWxlIjp0KG4scik/InRhYmxldCI6ImRlc2t0b3AifWZ1bmN0aW9uIE8oaSl7aS5yZW5kZXJlci5wdXNoKGZ1bmN0aW9uKCl7dmFyIGU9aChpLmdldFNpemUoKS5zcGxpdCgieCIpLDIpLHQ9ZVswXSxyPWVbMV0sbj1uZXcgd2luZG93LlNiaU91dHN0cmVhbVJlbmRlcmVyO24uaW5pdCh7dmFzdFVybDppLnZhc3RVcmwsaGVpZ2h0OnIsd2lkdGg6dH0pLG4uc2V0Um9vdEVsZW1lbnQoaS5hZFVuaXRDb2RlKX0pfU9iamVjdChuLnJlZ2lzdGVyQmlkZGVyKShzKX19LFs2MTddKTsKdXBianNDaHVuayhbODddLHs2MjU6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDYyNil9LDYyNjpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsZnVuY3Rpb24oKXtyZXR1cm4gaX0pO3ZhciBjPXQoMCksdT10KDkpLG49dCgxKSxhPXQoMiksaT17Y29kZToic292cm4iLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2EuYl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISghZS5wYXJhbXMudGFnaWR8fGlzTmFOKHBhcnNlRmxvYXQoZS5wYXJhbXMudGFnaWQpKXx8IWlzRmluaXRlKGUucGFyYW1zLnRhZ2lkKSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt0cnl7dmFyIGksYSxzLGQ9W107Yy5fZWFjaChlLGZ1bmN0aW9uKGUpe2lmKCFzKXt2YXIgcj1jLmRlZXBBY2Nlc3MoZSwidXNlcklkLmRpZ2l0cnVzdGlkLmRhdGEiKTshcnx8ci5wcml2YWN5JiZyLnByaXZhY3kub3B0b3V0fHwocz17aWQ6ci5pZCxrZXl2OnIua2V5dn0pfWUuc2NoYWluJiYoYT1hfHxlLnNjaGFpbiksaT1pfHxjLmdldEJpZElkUGFyYW1ldGVyKCJpdiIsZS5wYXJhbXMpO3ZhciB0PWUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc3x8ZS5zaXplcyxuPSh0PSh0PWMuaXNBcnJheSh0KSYmYy5pc0FycmF5KHRbMF0pP3Q6W3RdKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGMuaXNBcnJheShlKX0pKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue3c6cGFyc2VJbnQoZVswXSwxMCksaDpwYXJzZUludChlWzFdLDEwKX19KTtkLnB1c2goe2lkOmUuYmlkSWQsYmFubmVyOntmb3JtYXQ6bix3OjEsaDoxfSx0YWdpZDpTdHJpbmcoYy5nZXRCaWRJZFBhcmFtZXRlcigidGFnaWQiLGUucGFyYW1zKSksYmlkZmxvb3I6Yy5nZXRCaWRJZFBhcmFtZXRlcigiYmlkZmxvb3IiLGUucGFyYW1zKX0pfSk7dmFyIHQ9ci5yZWZlcmVySW5mby5yZWZlcmVyLG49T2JqZWN0KHUuYykodCkuaG9zdG5hbWUsbz17aWQ6Yy5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCksaW1wOmQsc2l0ZTp7cGFnZTp0LGRvbWFpbjpufX07YSYmKG8uc291cmNlPXtleHQ6e3NjaGFpbjphfX0pLHIuZ2RwckNvbnNlbnQmJihjLmRlZXBTZXRWYWx1ZShvLCJyZWdzLmV4dC5nZHByIiwrci5nZHByQ29uc2VudC5nZHByQXBwbGllcyksYy5kZWVwU2V0VmFsdWUobywidXNlci5leHQuY29uc2VudCIsci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSksci51c3BDb25zZW50JiZjLmRlZXBTZXRWYWx1ZShvLCJyZWdzLmV4dC51c19wcml2YWN5IixyLnVzcENvbnNlbnQpLHMmJmMuZGVlcFNldFZhbHVlKG8sInVzZXIuZXh0LmRpZ2l0cnVzdCIse2lkOnMuaWQsa2V5djpzLmtleXZ9KTt2YXIgcD0iaHR0cHM6Ly9hcC5saWppdC5jb20vcnRiL2JpZD9zcmM9cHJlYmlkX3ByZWJpZF8yLjQ0LjEiO3JldHVybiBpJiYocCs9IiZpdj0iLmNvbmNhdChpKSkse21ldGhvZDoiUE9TVCIsdXJsOnAsZGF0YTpKU09OLnN0cmluZ2lmeShvKSxvcHRpb25zOntjb250ZW50VHlwZToidGV4dC9wbGFpbiJ9fX1jYXRjaChlKXtjb25zb2xlLmxvZygiZXJyb3IgaW4gYnVpbGQ6IiksY29uc29sZS5sb2coZSl9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlKXt2YXIgcj1lLmJvZHksdD1yLmlkLG49ci5zZWF0YmlkO3RyeXt2YXIgaT1bXTtyZXR1cm4gdCYmbiYmMDxuLmxlbmd0aCYmblswXS5iaWQmJjA8blswXS5iaWQubGVuZ3RoJiZuWzBdLmJpZC5tYXAoZnVuY3Rpb24oZSl7aS5wdXNoKHtyZXF1ZXN0SWQ6ZS5pbXBpZCxjcG06cGFyc2VGbG9hdChlLnByaWNlKSx3aWR0aDpwYXJzZUludChlLncpLGhlaWdodDpwYXJzZUludChlLmgpLGNyZWF0aXZlSWQ6ZS5jcmlkfHxlLmlkLGRlYWxJZDplLmRlYWxpZHx8bnVsbCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiEwLG1lZGlhVHlwZTphLmIsYWQ6ZGVjb2RlVVJJQ29tcG9uZW50KCIiLmNvbmNhdChlLmFkbSwnPGltZyBzcmM9IicpLmNvbmNhdChlLm51cmwsJyI+JykpLHR0bDo2MH0pfSksaX1jYXRjaChlKXtjb25zb2xlLmxvZygiZXJyb3IgaW4gaW50ZXJwcmV0OiIpLGNvbnNvbGUubG9nKGUpfX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscix0LG4pe3RyeXt2YXIgaT1bXTtpZihyJiYwIT09ci5sZW5ndGgpe2lmKGUuaWZyYW1lRW5hYmxlZCl7dmFyIGE9ci5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGMuZGVlcEFjY2VzcyhlLCJib2R5LmV4dC5paWQiKX0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5ib2R5LmV4dC5paWR9KSxzPVtdO3QmJnQuZ2RwckFwcGxpZXMmJiJzdHJpbmciPT10eXBlb2YgdC5jb25zZW50U3RyaW5nJiZzLnB1c2goWyJnZHByX2NvbnNlbnQiLHQuY29uc2VudFN0cmluZ10pLG4mJnMucHVzaChbInVzX3ByaXZhY3kiLG5dKSxhWzBdJiYocy5wdXNoKFsiaW5mb3JtZXIiLGFbMF1dKSxpLnB1c2goe3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL2FwLmxpaml0LmNvbS9iZWFjb24/IitzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5qb2luKCI9Iil9KS5qb2luKCImIil9KSl9ZS5waXhlbEVuYWJsZWQmJnIuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBjLmRlZXBBY2Nlc3MoZSwiYm9keS5leHQuc3luYy5waXhlbHMiKX0pLnJlZHVjZShmdW5jdGlvbihlLHIpe3JldHVybiBlLmNvbmNhdChyLmJvZHkuZXh0LnN5bmMucGl4ZWxzKX0sW10pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS51cmx9KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBpLnB1c2goe3R5cGU6ImltYWdlIix1cmw6ZX0pfSl9cmV0dXJuIGl9Y2F0Y2goZSl7cmV0dXJuW119fX07T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKGkpfX0sWzYyNV0pOwp1cGJqc0NodW5rKFs4MF0sezY0MTpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNjQyKX0sNjQyOmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBvfSk7dmFyIGE9dCgxKSxzPXQoMCksbj0xMixkPTExLGk9MCxwPTIyLG89e2NvZGU6InRlYWRzIixzdXBwb3J0ZWRNZWRpYVR5cGVzOlsidmlkZW8iLCJiYW5uZXIiXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXt2YXIgcj0hMTtpZih2b2lkIDAhPT1lLnBhcmFtcyl7dmFyIHQ9ZihzLmdldFZhbHVlKGUucGFyYW1zLCJwbGFjZW1lbnRJZCIpKSxhPWYocy5nZXRWYWx1ZShlLnBhcmFtcywicGFnZUlkIikpO3I9dCYmYX1yZXR1cm4gcnx8cy5sb2dFcnJvcigiVGVhZHMgcGxhY2VtZW50SWQgYW5kIHBhZ2VJZCBwYXJhbWV0ZXJzIGFyZSByZXF1aXJlZC4gQmlkIGFib3J0ZWQuIikscn0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0PWUubWFwKHUpLGE9e3JlZmVycmVyOmZ1bmN0aW9uKGUpe3ZhciByPSIiO2UmJmUucmVmZXJlckluZm8mJmUucmVmZXJlckluZm8ucmVmZXJlciYmKHI9ZS5yZWZlcmVySW5mby5yZWZlcmVyKTtyZXR1cm4gcn0ociksZGF0YTp0LGRldmljZVdpZHRoOnNjcmVlbi53aWR0aCxoYl92ZXJzaW9uOiIyLjQ0LjEifTtlWzBdLnNjaGFpbiYmKGEuc2NoYWluPWVbMF0uc2NoYWluKTt2YXIgbj1yLmdkcHJDb25zZW50O2lmKHImJm4pe3ZhciBzPSJib29sZWFuIj09dHlwZW9mIG4uZ2RwckFwcGxpZXMsZD0ic3RyaW5nIj09dHlwZW9mIG4uY29uc2VudFN0cmluZyxpPXM/YyhuLmdkcHJBcHBsaWVzLG4udmVuZG9yRGF0YSk6cDthLmdkcHJfaWFiPXtjb25zZW50OmQ/bi5jb25zZW50U3RyaW5nOiIiLHN0YXR1czppfX1yZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6Ii8vYS50ZWFkcy50di9oYi9iaWQtcmVxdWVzdCIsZGF0YTpKU09OLnN0cmluZ2lmeShhKX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybihlPWUuYm9keSkucmVzcG9uc2VzJiZlLnJlc3BvbnNlcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXtjcG06ZS5jcG0sd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsY3VycmVuY3k6ZS5jdXJyZW5jeSxuZXRSZXZlbnVlOiEwLHR0bDplLnR0bCxhZDplLmFkLHJlcXVlc3RJZDplLmJpZElkLGNyZWF0aXZlSWQ6ZS5jcmVhdGl2ZUlkLHBsYWNlbWVudElkOmUucGxhY2VtZW50SWR9O3QucHVzaChyKX0pLHR9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIsdCl7dmFyIGE9e2hiX3Byb3ZpZGVyOiJwcmViaWQiLGhiX3ZlcnNpb246IjIuNDQuMSJ9O2lmKHQpe3ZhciBuPXtzdGF0dXM6Yyh0LmdkcHJBcHBsaWVzLHQudmVuZG9yRGF0YSksY29uc2VudDp0LmNvbnNlbnRTdHJpbmd9O2EuZ2RwcklhYj1KU09OLnN0cmluZ2lmeShuKX1pZihzLmRlZXBBY2Nlc3MoclswXSwiYm9keS5yZXNwb25zZXMuMC5wbGFjZW1lbnRJZCIpJiYoYS5wbGFjZW1lbnRJZD1yWzBdLmJvZHkucmVzcG9uc2VzWzBdLnBsYWNlbWVudElkKSxlLmlmcmFtZUVuYWJsZWQpcmV0dXJuW3t0eXBlOiJpZnJhbWUiLHVybDoiLy9zeW5jLnRlYWRzLnR2L2lmcmFtZT8iK3MucGFyc2VRdWVyeVN0cmluZ1BhcmFtZXRlcnMoYSl9XX19O2Z1bmN0aW9uIGMoZSxyKXt2YXIgdD1uO3JldHVybiBlPyhyLmhhc0dsb2JhbFNjb3BlfHxyLmhhc0dsb2JhbENvbnNlbnQpJiYodD1kKTp0PWksdH1mdW5jdGlvbiB1KGUpe3ZhciByLHQ9e30sYT1zLmdldFZhbHVlKGUucGFyYW1zLCJwbGFjZW1lbnRJZCIpLG49cy5nZXRWYWx1ZShlLnBhcmFtcywicGFnZUlkIik7cmV0dXJuIHQuc2l6ZXM9KHI9ZSxzLnBhcnNlU2l6ZXNJbnB1dChmdW5jdGlvbihlKXt2YXIgcj1zLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIiksdD1zLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5zaXplcyIpLGE9cy5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIik7cmV0dXJuIHMuaXNBcnJheShhKXx8cy5pc0FycmF5KHIpfHxzLmlzQXJyYXkodCk/W2EsdCxyXS5yZWR1Y2UoZnVuY3Rpb24ocixlKXtyZXR1cm4gcy5pc0FycmF5KGUpJiYocy5pc0FycmF5KGVbMF0pP2UuZm9yRWFjaChmdW5jdGlvbihlKXtyLnB1c2goZSl9KTpyLnB1c2goZSkpLHJ9LFtdKTplLnNpemVzfShyKSkpLHQuYmlkSWQ9cy5nZXRCaWRJZFBhcmFtZXRlcigiYmlkSWQiLGUpLHQuYmlkZGVyUmVxdWVzdElkPXMuZ2V0QmlkSWRQYXJhbWV0ZXIoImJpZGRlclJlcXVlc3RJZCIsZSksdC5wbGFjZW1lbnRJZD1wYXJzZUludChhLDEwKSx0LnBhZ2VJZD1wYXJzZUludChuLDEwKSx0LmFkVW5pdENvZGU9cy5nZXRCaWRJZFBhcmFtZXRlcigiYWRVbml0Q29kZSIsZSksdC5hdWN0aW9uSWQ9cy5nZXRCaWRJZFBhcmFtZXRlcigiYXVjdGlvbklkIixlKSx0LnRyYW5zYWN0aW9uSWQ9cy5nZXRCaWRJZFBhcmFtZXRlcigidHJhbnNhY3Rpb25JZCIsZSksdH1mdW5jdGlvbiBmKGUpe3JldHVybiAwPHBhcnNlSW50KGUpfU9iamVjdChhLnJlZ2lzdGVyQmlkZGVyKShvKX19LFs2NDFdKTsKdXBianNDaHVuayhbNzNdLHs2NTU6ZnVuY3Rpb24ocixlLHQpe3IuZXhwb3J0cz10KDY1Nil9LDY1NjpmdW5jdGlvbihyLGUsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQoZSwidHJpcGxlbGlmdEFkYXB0ZXJTcGVjIixmdW5jdGlvbigpe3JldHVybiBzfSk7dmFyIG49dCgyKSxpPXQoMSksZD10KDApLGE9dCgzMSk7ZnVuY3Rpb24gdShyKXtyZXR1cm4gZnVuY3Rpb24ocil7aWYoQXJyYXkuaXNBcnJheShyKSl7Zm9yKHZhciBlPTAsdD1uZXcgQXJyYXkoci5sZW5ndGgpO2U8ci5sZW5ndGg7ZSsrKXRbZV09cltlXTtyZXR1cm4gdH19KHIpfHxmdW5jdGlvbihyKXtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHIpfHwiW29iamVjdCBBcmd1bWVudHNdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChyKSlyZXR1cm4gQXJyYXkuZnJvbShyKX0ocil8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UiKX0oKX12YXIgcD0hMCxvPW51bGwscz17Y29kZToidHJpcGxlbGlmdCIsc3VwcG9ydGVkTWVkaWFUeXBlczpbbi5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihyKXtyZXR1cm4gdm9pZCAwIT09ci5wYXJhbXMuaW52ZW50b3J5Q29kZX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihyLGUpe3ZhciB0PSJodHRwczovL3RseC4zbGlmdC5jb20vaGVhZGVyL2F1Y3Rpb24/IixuPWZ1bmN0aW9uKHIpe3ZhciBlPXt9LHQ9clswXS5zY2hhaW47ZS5pbXA9ci5tYXAoZnVuY3Rpb24ocixlKXtyZXR1cm57aWQ6ZSx0YWdpZDpyLnBhcmFtcy5pbnZlbnRvcnlDb2RlLGZsb29yOnIucGFyYW1zLmZsb29yLGJhbm5lcjp7Zm9ybWF0OnIuc2l6ZXMuZmlsdGVyKGYpLm1hcChmdW5jdGlvbihyKXtyZXR1cm57dzpyWzBdLGg6clsxXX19KX19fSk7dmFyIG49W10uY29uY2F0KHUoZnVuY3Rpb24ocil7cmV0dXJuIGMociwidGRpZCIsImFkc2VydmVyLm9yZyIsIlRESUQiKX0ocikpLHUoZnVuY3Rpb24ocil7cmV0dXJuIGMociwiaWRsX2VudiIsImxpdmVyYW1wLmNvbSIsImlkbCIpfShyKSkpOzA8bi5sZW5ndGgmJihlLnVzZXI9e2V4dDp7ZWlkczpufX0pO3QmJihlLmV4dD17c2NoYWluOnR9KTtyZXR1cm4gZX0ocik7aWYodD1kLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKHQsImxpYiIsInByZWJpZCIpLHQ9ZC50cnlBcHBlbmRRdWVyeVN0cmluZyh0LCJ2IiwiMi40NC4xIiksZSYmZS5yZWZlcmVySW5mbyl7dmFyIGk9ZS5yZWZlcmVySW5mby5yZWZlcmVyO3Q9ZC50cnlBcHBlbmRRdWVyeVN0cmluZyh0LCJyZWZlcnJlciIsaSl9cmV0dXJuIGUmJmUudGltZW91dCYmKHQ9ZC50cnlBcHBlbmRRdWVyeVN0cmluZyh0LCJ0bWF4IixlLnRpbWVvdXQpKSxlJiZlLmdkcHJDb25zZW50JiYodm9pZCAwIT09ZS5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKHA9ZS5nZHByQ29uc2VudC5nZHByQXBwbGllcyx0PWQudHJ5QXBwZW5kUXVlcnlTdHJpbmcodCwiZ2RwciIscC50b1N0cmluZygpKSksdm9pZCAwIT09ZS5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nJiYobz1lLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcsdD1kLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKHQsImNtcF9jcyIsbykpKSxlJiZlLnVzcENvbnNlbnQmJih0PWQudHJ5QXBwZW5kUXVlcnlTdHJpbmcodCwidXNfcHJpdmFjeSIsZS51c3BDb25zZW50KSksdC5sYXN0SW5kZXhPZigiJiIpPT09dC5sZW5ndGgtMSYmKHQ9dC5zdWJzdHJpbmcoMCx0Lmxlbmd0aC0xKSksZC5sb2dNZXNzYWdlKCJ0bENhbGwgcmVxdWVzdCBidWlsdDogIit0KSx7bWV0aG9kOiJQT1NUIix1cmw6dCxkYXRhOm4sYmlkZGVyUmVxdWVzdDplfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24ocixlKXt2YXIgdD1lLmJpZGRlclJlcXVlc3Q7cmV0dXJuKHIuYm9keS5iaWRzfHxbXSkubWFwKGZ1bmN0aW9uKHIpe3JldHVybiBmdW5jdGlvbihyLGUpe3ZhciB0PXt9LG49ZS53aWR0aHx8MSxpPWUuaGVpZ2h0fHwxLHU9ZS5kZWFsX2lkfHwiIixkPWUuY3JpZHx8IiI7aWYoMCE9ZS5jcG0mJmUuYWQmJigodD17cmVxdWVzdElkOnIuYmlkc1tlLmltcF9pZF0uYmlkSWQsY3BtOmUuY3BtLHdpZHRoOm4saGVpZ2h0OmksbmV0UmV2ZW51ZTohMCxhZDplLmFkLGNyZWF0aXZlSWQ6ZCxkZWFsSWQ6dSxjdXJyZW5jeToiVVNEIix0dGw6MzN9KS5hZCYmLTE9PT10LmFkLmluZGV4T2YoIjxib2R5IikmJih0LmFkPSI8Ym9keT4iK3QuYWQrIjwvYm9keT4iKSx0LmFkKSl7dmFyIHA9LyJpbWFnZV91cmwiOiIoaHR0cD9zOi4qPykiL2dtLmV4ZWModC5hZCk7aWYocCYmMDxwLmxlbmd0aCl7dmFyIG89YS5jKHBbMV0pO3QuYWQ9dC5hZC5yZXBsYWNlKHBbMV0sbyl9fXJldHVybiB0fSh0LHIpfSl9LGdldFVzZXJTeW5jczpmdW5jdGlvbihyLGUsdCxuKXt2YXIgaT1mdW5jdGlvbihyKXtpZighcilyZXR1cm47aWYoci5pZnJhbWVFbmFibGVkKXJldHVybiJpZnJhbWUiO2lmKHIucGl4ZWxFbmFibGVkKXJldHVybiJpbWFnZSJ9KHIpO2lmKGkpe3ZhciB1PSJodHRwczovL2ViMi4zbGlmdC5jb20vc3luYz8iO3JldHVybiJpbWFnZSI9PT1pJiYodT1kLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKHUsInB4IiwxKSx1PWQudHJ5QXBwZW5kUXVlcnlTdHJpbmcodSwic3JjIiwicHJlYmlkIikpLG51bGwhPT1vJiYodT1kLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKHUsImdkcHIiLHApLHU9ZC50cnlBcHBlbmRRdWVyeVN0cmluZyh1LCJjbXBfY3MiLG8pKSxuJiYodT1kLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKHUsInVzX3ByaXZhY3kiLG4pKSxbe3R5cGU6aSx1cmw6dX1dfX19O2Z1bmN0aW9uIGMocixlLHQsbil7cmV0dXJuIHIubWFwKChkPWUsZnVuY3Rpb24ocil7cmV0dXJuIHImJnIudXNlcklkJiZyLnVzZXJJZFtkXX0pKS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuISFyfSkubWFwKChpPXQsdT1uLGZ1bmN0aW9uKHIpe3JldHVybntzb3VyY2U6aSx1aWRzOlt7aWQ6cixleHQ6e3J0aVBhcnRuZXI6dX19XX19KSk7dmFyIGksdSxkfWZ1bmN0aW9uIGYocil7cmV0dXJuIDI9PT1yLmxlbmd0aCYmIm51bWJlciI9PXR5cGVvZiByWzBdJiYibnVtYmVyIj09dHlwZW9mIHJbMV19T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKHMpfX0sWzY1NV0pOwp1cGJqc0NodW5rKFs3Ml0sezY1NzpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNjU4KX0sNjU4OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiB2fSk7dmFyIG09dCgwKSxzPXQoMSksbz10KDEwKSxjPXQoMiksZj0iQmlkIGZyb20gcmVzcG9uc2UgaGFzIG5vIGF1aWQgcGFyYW1ldGVyIC0gIixsPSJCaWQgZnJvbSByZXNwb25zZSBoYXMgbm8gYWRtIHBhcmFtZXRlciAtICIscD0iQXJyYXkgb2YgYmlkIG9iamVjdHMgaXMgZW1wdHkiLGc9IkNhbid0IGZpbmQgaW4gcmVxdWVzdGVkIGJpZHMgdGhlIGJpZCB3aXRoIGF1aWQgLSAiLHU9IlNlYXRiaWQgYXJyYXkgZnJvbSByZXNwb25zZSBoYXMgZW1wdHkgaXRlbSIseT0iUmVzcG9uc2UgaXMgZW1wdHkiLGI9IlJlc3BvbnNlIGhhcyBlbXB0eSBzZWF0YmlkIGFycmF5IixoPSJTZWF0YmlkIGZyb20gcmVzcG9uc2UgaGFzIG5vIGFycmF5IG9mIGJpZCBvYmplY3RzIC0gIix2PXtjb2RlOiJ0cnVzdHgiLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2MuYixjLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJhbXMudWlkfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIGEsbyxwPVtdLHU9e30sYz17fSxmPXt9LGw9Im5ldCI7KGV8fFtdKS5mb3JFYWNoKGZ1bmN0aW9uKGUpeyJncm9zcyI9PT1lLnBhcmFtcy5wcmljZVR5cGUmJihsPSJncm9zcyIpLG89ZS5iaWRkZXJSZXF1ZXN0SWQ7dmFyIHI9ZS5wYXJhbXMudWlkLHQ9ZS5hZFVuaXRDb2RlO3AucHVzaChyKTt2YXIgcz1tLnBhcnNlU2l6ZXNJbnB1dChlLnNpemVzKTtpZighYSYmIW0uaXNFbXB0eShlLnBhcmFtcy5rZXl3b3Jkcykpe3ZhciBuPW0udHJhbnNmb3JtQmlkZGVyUGFyYW1LZXl3b3JkcyhlLnBhcmFtcy5rZXl3b3Jkcyk7MDxuLmxlbmd0aCYmbi5mb3JFYWNoKEUpLGE9bn1jW3JdfHwoY1tyXT17fSk7dmFyIGk9Y1tyXTtpW3RdP2lbdF0uYmlkcy5wdXNoKGUpOmlbdF09e2FkVW5pdENvZGU6dCxiaWRzOltlXSxwYXJlbnRzOltdfTt2YXIgZD1pW3RdO3MuZm9yRWFjaChmdW5jdGlvbihlKXtmW2VdPSEwLHVbcl18fCh1W3JdPXt9KSx1W3JdW2VdP3Vbcl1bZV0ucHVzaChkKTp1W3JdW2VdPVtkXSxkLnBhcmVudHMucHVzaCh7cGFyZW50OnVbcl0sa2V5OmUsdWlkOnJ9KX0pfSk7dmFyIHQ9e3B0OmwsYXVpZHM6cC5qb2luKCIsIiksc2l6ZXM6bS5nZXRLZXlzKGYpLmpvaW4oIiwiKSxyOm8sd3JhcHBlclR5cGU6IlByZWJpZF9qcyIsd3JhcHBlclZlcnNpb246IjIuNDQuMSJ9O3JldHVybiBhJiYodC5rZXl3b3Jkcz1KU09OLnN0cmluZ2lmeShhKSksciYmKHIucmVmZXJlckluZm8mJnIucmVmZXJlckluZm8ucmVmZXJlciYmKHQudT1yLnJlZmVyZXJJbmZvLnJlZmVyZXIpLHIudGltZW91dCYmKHQud3RpbWVvdXQ9ci50aW1lb3V0KSxyLmdkcHJDb25zZW50JiYoci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nJiYodC5nZHByX2NvbnNlbnQ9ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSx0LmdkcHJfYXBwbGllcz0iYm9vbGVhbiI9PXR5cGVvZiByLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzP051bWJlcihyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKToxKSxyLnVzcENvbnNlbnQmJih0LnVzX3ByaXZhY3k9ci51c3BDb25zZW50KSkse21ldGhvZDoiR0VUIix1cmw6Ii8vc29maWEudHJ1c3R4Lm9yZy9oYiIsZGF0YTptLnBhcnNlUXVlcnlTdHJpbmdQYXJhbWV0ZXJzKHQpLnJlcGxhY2UoL1wmJC8sIiIpLGJpZHNNYXA6dX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscix0KXt2YXIgcz0yPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXQ/dDpvLmE7ZT1lJiZlLmJvZHk7dmFyIG4saT1bXSxkPXIuYmlkc01hcCxhPXIuZGF0YS5wdDtyZXR1cm4gZT9lLnNlYXRiaWQmJiFlLnNlYXRiaWQubGVuZ3RoJiYobj1iKTpuPXksIW4mJmUuc2VhdGJpZCYmZS5zZWF0YmlkLmZvckVhY2goZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUsaSxyLHQscyl7aWYoIWUpcmV0dXJuO3ZhciBuO2UuYXVpZHx8KG49ZitKU09OLnN0cmluZ2lmeShlKSk7aWYoZS5hZG0pe3ZhciBkPWlbZS5hdWlkXTtpZihkKXt2YXIgYT0iIi5jb25jYXQoZS53LCJ4IikuY29uY2F0KGUuaCk7aWYoZFthXSl7dmFyIG89ZFthXVswXSxwPW8uYmlkcy5zaGlmdCgpLHU9e3JlcXVlc3RJZDpwLmJpZElkLGJpZGRlckNvZGU6di5jb2RlLGNwbTplLnByaWNlLHdpZHRoOmUudyxoZWlnaHQ6ZS5oLGNyZWF0aXZlSWQ6ZS5hdWlkLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6Imdyb3NzIiE9PXIsdHRsOjM2MCxkZWFsSWQ6ZS5kZWFsaWR9OyJ2aWRlbyI9PT1lLmNvbnRlbnRfdHlwZT8odS52YXN0WG1sPWUuYWRtLHUubWVkaWFUeXBlPWMuZCx1LmFkUmVzcG9uc2U9e2NvbnRlbnQ6dS52YXN0WG1sfSxwLnJlbmRlcmVyfHxwLm1lZGlhVHlwZXMmJnAubWVkaWFUeXBlcy52aWRlbyYmIm91dHN0cmVhbSIhPT1wLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dHx8KHUucmVuZGVyZXI9ZnVuY3Rpb24oZSxyLHQpe3ZhciBzPXQuaW5zdGFsbCh7aWQ6ci5pZCx1cmw6ci51cmwsbG9hZGVkOiExfSk7dHJ5e3Muc2V0UmVuZGVyKHcpfWNhdGNoKGUpe20ubG9nV2FybigiUHJlYmlkIEVycm9yIGNhbGxpbmcgc2V0UmVuZGVyIG9uIHJlbmRlcmVyIixlKX1yZXR1cm4gc30oMCx7aWQ6cC5iaWRJZCx1cmw6Ii8vYWNkbi5hZG54cy5jb20vdmlkZW8vb3V0c3RyZWFtL0FOT3V0c3RyZWFtVmlkZW8uanMifSxzKSkpOih1LmFkPWUuYWRtLHUubWVkaWFUeXBlPWMuYiksdC5wdXNoKHUpLG8uYmlkcy5sZW5ndGh8fG8ucGFyZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPWUucGFyZW50LHQ9ZS5rZXkscz1lLnVpZCxuPXJbdF0uaW5kZXhPZihvKTstMTxuJiZyW3RdLnNwbGljZShuLDEpLHJbdF0ubGVuZ3RofHwoZGVsZXRlIHJbdF0sbS5nZXRLZXlzKHIpLmxlbmd0aHx8ZGVsZXRlIGlbc10pfSl9fWVsc2Ugbj1nK2UuYXVpZH1lbHNlIG49bCtKU09OLnN0cmluZ2lmeShlKTtuJiZtLmxvZ0Vycm9yKG4pfShmdW5jdGlvbihlKXtlP2UuYmlkP2UuYmlkWzBdfHxtLmxvZ0Vycm9yKHApOm0ubG9nRXJyb3IoaCtKU09OLnN0cmluZ2lmeShlKSk6bS5sb2dFcnJvcih1KTtyZXR1cm4gZSYmZS5iaWQmJmUuYmlkWzBdfShlKSxkLGEsaSxzKX0pLG4mJm0ubG9nRXJyb3IobiksaX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUpe2lmKGUucGl4ZWxFbmFibGVkKXJldHVyblt7dHlwZToiaW1hZ2UiLHVybDoiLy9zb2ZpYS50cnVzdHgub3JnL3B1c2hfc3luYyJ9XX19O2Z1bmN0aW9uIEUoZSl7dmFyIHI7cj1lLnZhbHVlLG0uaXNBcnJheShyKSYmMDxyLmxlbmd0aCYmIiI9PT1lLnZhbHVlWzBdJiZkZWxldGUgZS52YWx1ZX1mdW5jdGlvbiB3KGUpe2UucmVuZGVyZXIucHVzaChmdW5jdGlvbigpe3dpbmRvdy5BTk91dHN0cmVhbVZpZGVvLnJlbmRlckFkKHt0YXJnZXRJZDplLmFkVW5pdENvZGUsYWRSZXNwb25zZTplLmFkUmVzcG9uc2V9KX0pfU9iamVjdChzLnJlZ2lzdGVyQmlkZGVyKSh2KX19LFs2NTddKTsKdXBianNDaHVuayhbNjldLHs2NjU6ZnVuY3Rpb24oZSxuLHQpe2UuZXhwb3J0cz10KDY2Nil9LDY2NjpmdW5jdGlvbihlLG4sdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQobiwic3BlYyIsZnVuY3Rpb24oKXtyZXR1cm4gcH0pO3ZhciBkPXQoMCksYT10KDMpLGk9dCgxKSxvPSIzLjBWIjtkLmxvZ01lc3NhZ2UoIkluaXRpYWxpemluZyBVRE0gQWRhcHRlci4gUEJKUyBWZXJzaW9uOiAiLmNvbmNhdCgiMi40NC4xIiwiIHdpdGggYWRhcHRlciB2ZXJzaW9uOiAiKS5jb25jYXQobywiICBVcGRhdGVkIDIwMTkxMDI4IikpO3ZhciBwPXtjb2RlOiJ1bmRlcmRvZ21lZGlhIixiaWRQYXJhbXM6W10saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7dmFyIG49ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzP2UubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM6ZS5zaXplcztyZXR1cm4hIShlLnBhcmFtcyYmZS5wYXJhbXMuc2l0ZUlkJiZuJiYwPG4ubGVuZ3RoKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLG4pe3ZhciB0PVtdLGk9MDtlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIG49ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzP2UubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM6ZS5zaXplczt0PWQuZmxhdHRlbih0LGQucGFyc2VTaXplc0lucHV0KG4pKSxpPWUucGFyYW1zLnNpdGVJZH0pO3ZhciBzPXt0aWQ6MSxkdDoxMCxzaWQ6aSxzaXplczp0LmpvaW4oIiwiKX07aWYobiYmbi5nZHByQ29uc2VudCYmKHZvaWQgMCE9PW4uZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihzLmdkcHJBcHBsaWVzPSEhbi5nZHByQ29uc2VudC5nZHByQXBwbGllcyksbi5nZHByQ29uc2VudC52ZW5kb3JEYXRhJiZuLmdkcHJDb25zZW50LnZlbmRvckRhdGEudmVuZG9yQ29uc2VudHMmJnZvaWQgMCE9PW4uZ2RwckNvbnNlbnQudmVuZG9yRGF0YS52ZW5kb3JDb25zZW50c1sxNTldJiYocy5jb25zZW50R2l2ZW49ISFuLmdkcHJDb25zZW50LnZlbmRvckRhdGEudmVuZG9yQ29uc2VudHNbMTU5XSksdm9pZCAwIT09bi5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nJiYocy5jb25zZW50RGF0YT1uLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSwhcy5nZHByQXBwbGllc3x8cy5jb25zZW50R2l2ZW4pcmV0dXJue21ldGhvZDoiR0VUIix1cmw6Imh0dHBzOi8vdWRtc2VydmUubmV0L3VkbS9pbWcuZmV0Y2giLGRhdGE6cyxiaWRQYXJhbXM6ZX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsbil7dmFyIHI9W107cmV0dXJuIG4uYmlkUGFyYW1zLmZvckVhY2goZnVuY3Rpb24ocyl7ZS5ib2R5Lm1pZHMuZm9yRWFjaChmdW5jdGlvbihuKXtpZighKDA8bi51c2VDb3VudCkpe24udXNlQ291bnR8fChuLnVzZUNvdW50PTApO3ZhciB0PSEwLGU9cy5tZWRpYVR5cGVzJiZzLm1lZGlhVHlwZXMuYmFubmVyJiZzLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzP3MubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM6cy5zaXplcztpZihkLnBhcnNlU2l6ZXNJbnB1dChlKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2U9PT1uLndpZHRoKyJ4IituLmhlaWdodCYmKHQ9ITEpfSksIXQpe3ZhciBpPXtyZXF1ZXN0SWQ6cy5iaWRJZCxiaWRkZXJDb2RlOnAuY29kZSxjcG06cGFyc2VGbG9hdChuLmNwbSksd2lkdGg6bi53aWR0aCxoZWlnaHQ6bi5oZWlnaHQsYWQ6bi5hZF9jb2RlX2h0bWwsY3JlYXRpdmVJZDpuLm1pZCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiExLHR0bDphLmIuZ2V0Q29uZmlnKCJfYmlkZGVyVGltZW91dCIpfTtpLmNwbTw9MHx8aS5hZC5sZW5ndGg8PTB8fChuLnVzZUNvdW50KyssaS5hZCs9ZnVuY3Rpb24oZSxuLHQpe3ZhciBpPW4ubm90aWZpY2F0aW9uX3VybDtpKz1vLGkrPSI7Y2I9IitNYXRoLnJhbmRvbSgpLGkrPSI7cXFxPSIrMS9lLmNwbSxpKz0iO2hidD0iK2EuYi5nZXRDb25maWcoIl9iaWRkZXJUaW1lb3V0IiksaSs9IjtzdHlsZT1hZGFwdGVyIixpKz0iO3Zpcz0iK2VuY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUpLGkrPSI7dHJhZmZpY19pbmZvPSIrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGZ1bmN0aW9uKCl7Zm9yKHZhciBlLG49e30sdD13aW5kb3cubG9jYXRpb24uaHJlZi5zbGljZSh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCI/IikrMSkuc3BsaXQoIiYiKSxpPTA7aTx0Lmxlbmd0aDtpKyspKGU9dFtpXS5zcGxpdCgiPSIpKVswXS5tYXRjaCgvXnV0bV8vKSYmKG5bZVswXV09ZVsxXS5zdWJzdHIoMCwxNTApKTtyZXR1cm4gbn0oKSkpLHQucGFyYW1zLnN1YklkJiYoaSs9IjtzdWJpZD0iK2VuY29kZVVSSUNvbXBvbmVudCh0LnBhcmFtcy5zdWJJZCkpO3JldHVybic8c2NyaXB0IGFzeW5jIHNyYz0iJytpKyciPjxcL3NjcmlwdD4nfShpLG4scyksci5wdXNoKGkpKX19fSl9KSxyfX07T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKHApfX0sWzY2NV0pOwp1cGJqc0NodW5rKFs2NV0sezY3MzpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oNjc0KX0sNjc0OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJzcGVjIixmdW5jdGlvbigpe3JldHVybiByfSk7dmFyIGk9bigxKSxhPW4oMikscj17Y29kZToidXBvIixzdXBwb3J0ZWRNZWRpYVR5cGVzOlthLmJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEoIWUucGFyYW1zLnNwYWNlfHxpc05hTihwYXJzZUZsb2F0KGUucGFyYW1zLnNwYWNlKSl8fCFpc0Zpbml0ZShlLnBhcmFtcy5zcGFjZSkpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm5bXTt2YXIgdD1bXTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QucHVzaCh7bWV0aG9kOiJHRVQiLHVybDoiLy9sbi51cGFwaS5uZXQvZj9zPSIrZS5wYXJhbXMuc3BhY2UrIiZ3PSIrZS5wYXJhbXMud2Vic2l0ZSsiJmQ9IitlLmJpZElkLG9wdGlvbnM6e2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIix3aXRoQ3JlZGVudGlhbHM6MH0sYmlkUmVxdWVzdDplfSl9KSx0fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciBuPWUuYm9keS5kYXRhWzBdLGk9dC5iaWRSZXF1ZXN0LHI9YXRvYihuLmNvbnRlbnQpLHM9Ii8vbG4udXBhcGkubmV0L3I/dXBvbml0PXRydWUmdD0xJnQ9NiZuPTAmaz0iK24udG9rZW47cmV0dXJuW3tyZXF1ZXN0SWQ6aS5iaWRJZCxjcG06cGFyc2VGbG9hdChuLm9wdGlvbnMuY3BtKSx3aWR0aDpwYXJzZUludChpLnNpemVzWzBdWzBdKSxoZWlnaHQ6cGFyc2VJbnQoaS5zaXplc1swXVsxXSksY3JlYXRpdmVJZDpuLmNyaWR8fDAsZGVhbElkOm4uZGVhbGlkfHwwLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsbWVkaWFUeXBlOmEuYixhZDpyLHR0bDo2ZTQscmVuZGVyUGl4ZWw6c31dfX07T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKHIpfX0sWzY3M10pOwp1cGJqc0NodW5rKFs0OF0sezcxMzpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoNzE0KX0sNzE0OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJCSURERVJfQ09ERSIsZnVuY3Rpb24oKXtyZXR1cm4gaX0pLHIuZCh0LCJFTkdJTkVfQkFTRV9VUkwiLGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSxyLmQodCwiVVNFUklEIixmdW5jdGlvbigpe3JldHVybiBvfSksci5kKHQsIklNUFJFU1NJT05JRCIsZnVuY3Rpb24oKXtyZXR1cm4gY30pLHIuZCh0LCJSRUZFUkVSIixmdW5jdGlvbigpe3JldHVybiBwfSksci5kKHQsIkNIQVJTRVQiLGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSxyLmQodCwic3BlYyIsZnVuY3Rpb24oKXtyZXR1cm4gdn0pLHQucmVzZXRVc2VyU3luYz1mdW5jdGlvbigpe2w9ITF9O3IoMCk7dmFyIGE9cigxKSxuPXIoMik7ZnVuY3Rpb24gcyhlLHQscil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9dmFyIGk9InlhbmRleHJ0YiIsZD0iaHR0cHM6Ly9hbi55YW5kZXgucnUvbWV0YS8iLG89ImR1aWQiLGM9ImltcC1pZCIscD0idGFyZ2V0LXJlZiIsdT0iY2hhcnNldCIsZz1bXSxsPSExLGg9WyJodHRwczovL2FuLnlhbmRleC5ydS9tYXB1aWQvYXBwbmV4dXMvIiwiaHR0cHM6Ly9zdGF0cy5tb3MucnUvZ2MveW5kLyIsImh0dHBzOi8vYW4ueWFuZGV4LnJ1L21hcHVpZC9nb29nbGUvIiwiaHR0cHM6Ly9kbWcuZGlnaXRhbHRhcmdldC5ydS8xLzExOS9pL2k/aT0xNTQ3NDY2OTk5IiwiaHR0cHM6Ly95YW5kZXgtZG1wLXN5bmMucnV0YXJnZXQucnUvc3luYyIsImh0dHBzOi8veWFuZGV4LXN5bmMucnV0YXJnZXQucnUvc3luYyIsImh0dHBzOi8veDAxLmFpZGF0YS5pby8wLmdpZj9waWQ9WUFOREVYIiwiaHR0cHM6Ly9zeW5jLjFkbXAuaW8vcGl4ZWwuZ2lmP2NpZD0zY2JjMmVjOC0xNDIxLTQ2NzctODlmZS0yYWM2ZmM1MmEwOWEmcGlkPXcmbz1hdSIsImh0dHBzOi8vcmVkaXJlY3QuZnJvbnRlbmQud2Vib3JhbWEuZnIvcmVkaXJlY3Qvc3RhbmRhcmQ/dXJsPWh0dHBzOi8vYW4ueWFuZGV4LnJ1L21hcHVpZC9kbXB3ZWJvcmFtYS97V0VCT19DSUR9IiwiaHR0cHM6Ly9wcm9maWxlLnNzcC5yYW1ibGVyLnJ1L3N5bmMzLjMwMj9waWQ9MTg4IiwiaHR0cHM6Ly9hbi55YW5kZXgucnUvbWFwdWlkL2Fkb2JlZG1wLyJdLGY9TWF0aC5sb2csYj1NYXRoLkxOMix5PU1hdGguY2x6MzJ8fGZ1bmN0aW9uKGUpe3JldHVybiAzMS1mKGU+Pj4wKS9ifDB9LG09U3RyaW5nLmZyb21DaGFyQ29kZSxfPWF0b2I7YnRvYTtmdW5jdGlvbiB4KGUpe3ZhciB0PWUuY2hhckNvZGVBdCgwKTw8MjQscj15KH50KSxhPTAsbj1lLmxlbmd0aCxzPSIiO2lmKHI8NSYmcjw9bil7Zm9yKHQ9dDw8cj4+PjI0K3IsYT0xO2E8cjsrK2EpdD10PDw2fDYzJmUuY2hhckNvZGVBdChhKTt0PD02NTUzNT9zKz1tKHQpOnQ8PTExMTQxMTE/cys9bSg1NTI5NisoKHQtPTY1NTM2KT4+MTApLDU2MzIwKygxMDIzJnQpKTphPTB9Zm9yKDthPG47KythKXMrPSLvv70iO3JldHVybiBzfXZhciB2PXtjb2RlOmksc3VwcG9ydGVkTWVkaWFUeXBlczpbbi5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbigpe3JldHVybiEwfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUpe2cucHVzaChlWzBdKTtmb3IodmFyIHQ9W10scj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgYTthPXcoZVtyXSksdC5wdXNoKHttZXRob2Q6IkdFVCIsdXJsOmQrZVtyXS5wYXJhbXMudGFnSUQsZGF0YTphfSl9cmV0dXJuIHR9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHIsYSxuPVtdLHM9bmV3IFJlZ0V4cCh0LmRhdGEuY2FsbGJhY2srIlxcKCcoLio/KSdcXCkkIiwiZ20iKSxpPWUuYm9keSxkPXMuZXhlYyhpKTt0cnl7dmFyIG8sYyxwLHUsbD1KU09OLnBhcnNlKGRbMV0pO2lmKGwuZGlyZWN0JiYhbC5ydGI/KG89JzxkaXYgaWQ9InlhbmRleF9ydGJfUi1BLScrdC5kYXRhWyJ0YWctaWQiXSsiLSIrdC5kYXRhWyJpbXAtaWQiXSsiXCI+PC9kaXY+PHNjcmlwdD52YXIgcmVzcG9uc2UgPSAnIitpLnJlcGxhY2UoL1wnL2csIlxcJyIpKydcJzt2YXIgcmVhZHlTdGF0ZUdldHRlciA9IFhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5fX2xvb2t1cEdldHRlcl9fKCJvbnJlYWR5c3RhdGVjaGFuZ2UiKTt2YXIgcmVhZHlTdGF0ZVNldHRlciA9IFhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5fX2xvb2t1cFNldHRlcl9fKCJvbnJlYWR5c3RhdGVjaGFuZ2UiKTtYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUuX19kZWZpbmVHZXR0ZXJfXygib25yZWFkeXN0YXRlY2hhbmdlIixmdW5jdGlvbigpe3JldHVybiByZWFkeVN0YXRlR2V0dGVyLmNhbGwodGhpcyk7fSk7WE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLl9fZGVmaW5lU2V0dGVyX18oIm9ucmVhZHlzdGF0ZWNoYW5nZSIsZnVuY3Rpb24oYSl7cmVhZHlTdGF0ZVNldHRlci5jYWxsKHRoaXMsZnVuY3Rpb24oKXtpZih0aGlzLnN0YXR1cyA9PT0gMjAwICYmIHRoaXMucmVhZHlTdGF0ZSA9PT0gNCkge3JlcGxhY2VXaXRoT2xkUmVzcG9uc2UocmVzcG9uc2UsIHRoaXMsIGEpO319KTt9KTt2YXIgcmVwbGFjZVdpdGhPbGRSZXNwb25zZSA9IGZ1bmN0aW9uKHJlc3BvbnNlLCB4aHJPYmplY3QsIHhockNhbGxiYWNrKXt2YXIgbmV3Q2FsbGJhY2sgPSAvWWFbWzAtOV0rXS8uZXhlYyh4aHJPYmplY3QucmVzcG9uc2UpO3ZhciBvbGRDYWxsYmFjayA9IC9ZYVswLTldKy8uZXhlYyhyZXNwb25zZSk7aWYgKCFuZXdDYWxsYmFjayB8fCAhb2xkQ2FsbGJhY2spIHtyZXR1cm47fXJlc3BvbnNlID0gcmVzcG9uc2UucmVwbGFjZShvbGRDYWxsYmFja1swXSxuZXdDYWxsYmFja1swXSk7eGhyT2JqZWN0Ll9fZGVmaW5lR2V0dGVyX18oInJlc3BvbnNlVGV4dCIsZnVuY3Rpb24oKXtyZXR1cm4gcmVzcG9uc2V9KTt4aHJPYmplY3QuX19kZWZpbmVHZXR0ZXJfXygicmVzcG9uc2UiLGZ1bmN0aW9uKCl7cmV0dXJuIHJlc3BvbnNlfSk7eGhyQ2FsbGJhY2suY2FsbCh4aHJPYmplY3QpO307KGZ1bmN0aW9uKHcsIGQsIG4sIHMsIHQpIHt3W25dID0gd1tuXSB8fCBbXTt3W25dLnB1c2goZnVuY3Rpb24oKSB7WWEuQ29udGV4dC5BZHZNYW5hZ2VyLnJlbmRlcih7YmxvY2tJZDogIlItQS0nK3QuZGF0YVsidGFnLWlkIl0rIi0iK3QuZGF0YVsiaW1wLWlkIl0rJyIscmVuZGVyVG86ICJ5YW5kZXhfcnRiX1ItQS0nK3QuZGF0YVsidGFnLWlkIl0rIi0iK3QuZGF0YVsiaW1wLWlkIl0rJyIsYXN5bmM6IHRydWV9KTt9KTt0ID0gZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IilbMF07cyA9IGQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7cy50eXBlID0gInRleHQvamF2YXNjcmlwdCI7cy5zcmMgPSAiLy9hbi55YW5kZXgucnUvc3lzdGVtL2NvbnRleHQuanMiO3MuYXN5bmMgPSB0cnVlO3QucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocywgdCk7fSkodGhpcywgdGhpcy5kb2N1bWVudCwgInlhbmRleENvbnRleHRBc3luY0NhbGxiYWNrcyIpOzxcL3NjcmlwdD4nLGM9MSk6KGM9bC5zZXR0aW5nc1tPYmplY3Qua2V5cyhsLnNldHRpbmdzKVswXV0uYmFubmVySWRzLHI9bC5ydGIuaHRtbC5yZXBsYWNlKC8tL2csIisiKS5yZXBsYWNlKC9fL2csIi8iKSxhfHwiw6/Cu8K/IiE9PXIuc3Vic3RyaW5nKDAsMyl8fChyPXIuc3Vic3RyaW5nKDMpKSxvPV8ocikucmVwbGFjZSgvW1x4YzAtXHhmZl1bXHg4MC1ceGJmXSovZyx4KSxsLnJ0YiYmbC5ydGIuaHRtbDUmJiIiIT09bC5ydGIuYmFzZVBhdGgmJihvPW8ucmVwbGFjZSgiPGhlYWQ+IiwnPGhlYWQ+PGJhc2UgaHJlZj0iJytsLnJ0Yi5iYXNlUGF0aCsnIiAvPicpKSksbC5zZXR0aW5ncyYmbC5zZXR0aW5nc1tPYmplY3Qua2V5cyhsLnNldHRpbmdzKVswXV0udmlld05vdGljZXMpe3U9bC5zZXR0aW5nc1tPYmplY3Qua2V5cyhsLnNldHRpbmdzKVswXV0udmlld05vdGljZXM7Zm9yKHZhciBoPTA7aDx1Lmxlbmd0aDtoKyspbz1vKyc8c2NyaXB0Pm5ldyBJbWFnZSgpLnNyYz0iJyt1W2hdKyciOzxcL3NjcmlwdD4nfWZvcihoPTA7aDxnLmxlbmd0aDtoKyspaWYoZ1toXS5wYXJhbXMudGFnSUQ9PT10LmRhdGFbInRhZy1pZCJdJiZnW2hdLnBhcmFtcy5ibG9ja0lEPT09dC5kYXRhWyJpbXAtaWQiXSYmIWdbaF0uX191c2VkKXtnW2hdLl9fdXNlZD0hMCxwPWdbaF07YnJlYWt9bi5wdXNoKHtyZXF1ZXN0SWQ6cC5iaWRJZCxjcG06LjAxLHdpZHRoOnAuc2l6ZXNbMF1bMF0saGVpZ2h0OnAuc2l6ZXNbMF1bMV0sYWQ6byx0dGw6OTAwLGNyZWF0aXZlSWQ6YyxuZXRSZXZlbnVlOiEwLGN1cnJlbmN5OiJVU0QifSl9Y2F0Y2goZSl7fXJldHVybiBufSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIpe2lmKCFsKXtyJiYic3RyaW5nIj09dHlwZW9mIHIuY29uc2VudFN0cmluZyYmKCJib29sZWFuIj09dHlwZW9mIHIuZ2RwckFwcGxpZXM/Ij9nZHByPSIuY29uY2F0KE51bWJlcihyLmdkcHJBcHBsaWVzKSwiJmdkcHJfY29uc2VudD0iKS5jb25jYXQoci5jb25zZW50U3RyaW5nKToiP2dkcHJfY29uc2VudD0iLmNvbmNhdChyLmNvbnNlbnRTdHJpbmcpKSxsPSEwO2Zvcih2YXIgYT1bXSxuPTA7bjxoLmxlbmd0aDtuKyspYS5wdXNoKHt0eXBlOiJpbWFnZSIsdXJsOmhbbl19KTtyZXR1cm4gYX19fTtmdW5jdGlvbiB3KGUpe3ZhciB0LHI9ZnVuY3Rpb24oZSl7dmFyIHQ9KCI7ICIrZG9jdW1lbnQuY29va2llKS5zcGxpdCgiOyAiK2UrIj0iKTtpZigyPT10Lmxlbmd0aClyZXR1cm4gdC5wb3AoKS5zcGxpdCgiOyIpLnNoaWZ0KCl9KCJfeW1fdWlkIiksYT0iWWEiK0RhdGUubm93KCk7d2luZG93LllhU2Vzc2lvbklEPXdpbmRvdy5ZYVNlc3Npb25JRHx8KDFlNipNYXRoLnJhbmRvbSgpKS50b0ZpeGVkKDApKyhuZXcgRGF0ZSkudmFsdWVPZigpLnRvU3RyaW5nKCk7dmFyIG49KHModD17fSx1LCJ1dGYtOCIpLHModCwiZ3JhYiIsImRBbz0iKSxzKHQsImVuYWJsZS1mbGF0LWhpZ2hsaWdodCIsMSkscyh0LCJ0ZXN0LXRhZyIsODU3NjE5MDY5NjY1MzApLHModCwiYWQtc2Vzc2lvbi1pZCIsd2luZG93LllhU2Vzc2lvbklEKSxzKHQsInRhcmdldC1pZCIsU3RyaW5nKC0yNTcmTWF0aC5mbG9vcigxZTgrTWF0aC5yYW5kb20oKSooMi0xZTgpKSkpLHModCwicGNvZGUtdmVyc2lvbiIsNzMyNCkscyh0LCJmbGFzaC12ZXIiLDApLHModCwiYXZhaWxhYmxlLXdpZHRoIixkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpLHModCwiY2FsbGJhY2siLGEpLHModCwidGFnLWlkIixlLnBhcmFtcy50YWdJRCkscyh0LGMsZS5wYXJhbXMuYmxvY2tJRCkscyh0LHAsd2luZG93LmxvY2F0aW9uLmhyZWYpLHQpO3JldHVybiByJiYobltvXT13aW5kb3cuYnRvYShyKSksbn1PYmplY3QoYS5yZWdpc3RlckJpZGRlcikodil9fSxbNzEzXSk7CnVwYmpzLnByb2Nlc3NRdWV1ZSgpOw==");eval(a)}catch(c){debugger}q.cpbjs=window.upbjs};this.load=function(){q.cpbjs||(d(),e.invokeEventCallbacks("postset"))}}})(ha);var za={};(function(g){g.postsetProvider=function(e){switch(e){case "prebid":return k}};var n=K.CustomEvents,l,k=function(){l=q.cpbjs;e();try{"function"===typeof window.__cmp&&window.__cmp("getConsentData",null,function(d){if(d&&d.gdprApplies){(d=l.getConfig().consentManagement)&&GDPRConsent.usp&&(d=GDPRConsent.usp);var a={consentManagement:{gdpr:{cmpApi:"iab",
timeout:5E3,allowAuctionWithoutConsent:!0}}};d&&(a.consentManagement.usp=d);l.setConfig(a)}})}catch(d){}try{"function"===typeof window.__uspapi&&window.__uspapi("ping",1,function(d){if(d&&d.ccpaApplies){(d=l.getConfig().consentManagement)&&d.gdpr&&(d=d.gdpr);var a={consentManagement:{usp:{timeout:50}}};d&&(a.consentManagement.gdpr=d);l.setConfig(a)}})}catch(d){}l.onBeforeRequest(function(d){return d&&D.addAcceptableParam(d)});l.aliasBidder("pulsepointLite","pulsepoint");l.aliasBidder("indexExchange",
"ix");l.aliasBidder("my6sense","upo2");l.aliasBidder("lockerdome","upo3");l.setConfig({priceGranularity:"high",userSync:{iframeEnabled:1,syncsPerBidder:25,syncEnabled:1,pixelEnabled:1}});var f=window.pbjs||window.jitaJS;f&&f.bidderSettings&&(l.bidderSettings=f.bidderSettings);n.fireEvent("addIndexExchangeWrappers")&&h();n.fireEvent("prebidDoneInit",{cpbjs:l})},e=function(){q.whitelistedFrame?l.setUpCookieFrame(q.whitelistedFrame):n.addEventListener("whitelistedFrameLoaded",function(){l.setUpCookieFrame(q.whitelistedFrame)})},
h=function(){var e={aol:"ix_aol_om",appnexus:"ix_apnx_om",beachfront:"ix_bft_cpm",colossusssp:"ix_clss_cpm",consumable:"ix_cnsm_cpm",conversant:"ix_conv_cpm",criteo:"ix_cdb_om",districtm:"ix_dism_om",districtmDMX:"ix_dis_cpm",emx_digital:"ix_brt_cpm",gumgum:"ix_gum_cpm",improvedigital:"ix_imdi_cpm",justpremium:"ix_justp_cpm",kargo:"ix_karg_om",lockerdome:"ix_lkdm_cpm",onedisplay:"ix_oath_cpm",onemobile:"ix_oath_cpm",openx:"ix_ox_om",optimera:"ix_opti_cpm",piximedia:"ix_pix_cpm",pubmatic:"ix_pubm_om",
pulsepoint:"ix_pp_om",pxyz:"ix_pxyz_cpm",quantcast:"ix_qua_cpm",rubicon:"ix_rubi_om",sharethrough:"ix_shth_cpm",sonobi:"ix_sbi_om",sovrn:"ix_sovrn_om",triplelift:"ix_tpl_cpm",trustx:"ix_trstx_cpm",indexExchange:"IOM",ix:"IOM",undertone:"ix_undr_cpm"},d=function(a){return(100*parseFloat(a)).toFixed()},a;for(a in e)l.bidderSettings[a]={adserverTargeting:[{key:e[a],val:function(a){var c=l.getConfig().priceGranularity;return"auto"===c?a.size+"_"+d(a.pbAg):"dense"===c?a.size+"_"+d(a.pbDg):"low"===c?a.size+
"_"+d(a.pbLg):"medium"===c?a.size+"_"+d(a.pbMg):"high"!==c&&"custom"===c?a.size+"_"+d(a.pbCg):a.size+"_"+d(a.pbHg)}}]}}})(za);var O={};(function(v){var n=K.CustomEvents,l=function(h){function f(a){window.setTimeout(function(){a&&"none"==window.getComputedStyle(a).display&&a.style.removeProperty("display")},1E3)}function d(c,d){var e=n.fireEvent("blacklistAdStatement");if(!(e&&(e.forAll||d&&e[d])||!(c=c.querySelector(".default-creative-container")||c.querySelector(".ahover")||c.querySelector('[id^="google_ads_iframe_"]'))||
c.querySelector(".upo-label"))){c.style.left||c.style.top||c.style.right||c.style.bottom||c.style.setProperty("position","relative");c.style.setProperty("width","max-content","important");c.style.setProperty("z-index",0);c.style.setProperty("margin","0 auto");c.style.setProperty("display","block");var f=a();f.className="upo-label";c.appendChild(f);window.setTimeout(function(){f.style.opacity="1"},2E3)}}function a(){var a=document.createElement("div");a.setAttribute("style","text-align:left;padding:0px;margin:0px;position:absolute;top:0;left:0;z-index:10000;transition:opacity 1s ease-out;opacity:0;");
a.innerHTML='<span style="display:block;background:rgba(255, 255, 255, 0.7);height:fit-content;width:fit-content;top:0;left:0;color:#444;font-size:10px;font-weight:bold;font-family:sans-serif;line-height:normal;text-decoration:none;margin:0px;padding:6px;border-radius:0 0 5px 0;">&#65;&#68;</span>';return a}var c=!1,k=new D.SubscriptionLayer;this.auctionId=V.stringRange(8,9);this.unit=h.unit;this.state=l.States.UNOFFERED;this.lastUpdate=this.creationTime=new Date;this.bids=[];this.subscribeForEvent=
function(a,c){k.subscribeForEvent(a,c)};this.cancelAuction=function(){c=!0};this.getWinningBid=function(){for(var a=void 0,c=void 0,d=0;d<this.bids.length;d++){var e=this.bids[d];(!a||e.cpm>a.cpm)&&e.complianceStatus==q.consts.complianceStatus.COMPLIANT&&(a=e);if(!c||e.cpm>c.cpm)c=e}return c&&c!=a&&L(c)?c:a};this.addBids=function(a){if(a)for(var c=0;c<a.length;c++)this.bids.push(a[c])};var u=function(a){g.addClass("up-hide",a.element);g.removeClass("up-show",a.element)},v=function(a,c){g.addClass("up-show",
a.element);g.removeClass("up-hide",a.element)};this.getComplianceBids=function(){for(var a=[],c=0;c<this.bids.length;c++){var d=this.bids[c];d.complianceStatus==q.consts.complianceStatus.COMPLIANT&&a.push(d)}return a};this.renderWinningBid=function(){var a=this.getWinningBid();this.renderBid(a)};var y=function(a,c){for(var d=0;d<a.bids.length;d++){var e=a.bids[d];e!=c&&e.cancelBid()}};this.renderBid=function(a){try{if(n.fireEvent("renderBidInElementStarted",{element:this.unit&&this.unit.element}),
this.state=l.States.DONE,x(),y(this,a),this.unit.element&&(document.documentElement||document.body).contains(this.unit.element))if(!a||c)this.unit.currentBid||u(this.unit),k.invokeEventCallbacks("renderBidDone",{successfulyRenderedBid:!1});else{this.unit.element.removeAttribute("data-guard-element");this.unit.cleanup();z(this.unit.element);v(this.unit,a);this.unit.element._adData_=ma.bidDecoder(a);a.onRenderedEvent(function(){d(this.unit.element,this.unit.space.name);try{var c=this.unit.element;c.classList.contains("up-show")||
c.classList.add("up-show");f(c);f(c.parentElement);f(c.parentElement.parentElement)}catch(ba){e.errorf(null,"auction: bid.onRenderedEvent: ensureElementVisibility: %o",ba)}k.invokeEventCallbacks("auctionRendered",a);this.unit.rendered(a);q.SharedObject.getItem("renderedUnits")||q.SharedObject.setItem("renderedUnits",[]);q.SharedObject.getItem("renderedUnits").push(this.unit)}.bind(this));var g=L(a),h={placement:this.unit.element};g?(a.onRenderedEvent(function(){this.renderStaticAd(this.bid,this.element)}.bind({bid:a,
renderStaticAd:w,element:this.unit.element})),a.renderStaticBid(h)):a.renderBid(h);this.unit.element.setAttribute("data-guard-element",!0);m(a);k.invokeEventCallbacks("renderBidDone",{successfulyRenderedBid:!0})}else k.invokeEventCallbacks("renderBidDone",{successfulyRenderedBid:!1})}catch(B){e.errorf(null,"renderBid err:%o",B)}};var m=function(a){a=a.additionalBidsToRender;for(var c=0;c<a.length;c++)a[c].renderBid()},x=function(){if(!document.getElementById("UponitHideShow")){var a=document.createElement("style");
a.id="UponitHideShow";a.type="text/css";a.textContent=".up-hide { display: none !important; }";(document.head||document.body||document.documentElement).appendChild(a)}},L=function(a){return n.fireEvent("forceCompliant")&&a.complianceStatus==q.consts.complianceStatus.INCOMPLIANT},w=function(a,c){c.style.setProperty("background-image",'url("'+("//mrb.upapi.net/fc?h="+a.contentIdHash+"&upapi=true")+'")',"important");c.style.setProperty("background-repeat","no-repeat","important")},z=function(a){a.style.removeProperty("background-image");
a.style.removeProperty("background-repeat")}};l.States={UNOFFERED:0,DISPATCHED:1,DONE:3};v.Auction=l;var k=function(e,f,d,a,c,g,l,n,q){this.bidId=V.stringRange(16,24);this.ad=e.ad;this.adId=e.adId;this.adUrl=e.adUrl;this.bidderId=e.bidderId;this.bidder=e.bidder;this.bidderCode=e.bidderCode;this.contentIdHash=e.contentIdHash;this.currency=e.currency;this.creativeId=e.creativeId;this.c=e.c;this.cpm=e.cpm;this.complianceStatus=e.complianceStatus||0;this.height=e.height;this.timeToRespond=e.timeToRespond;
this.size=e.size;this.width=e.width;this.rawBid=f;this.type=d;this.status=k.Status.LIVE;this.renderBid=c;this.renderStaticBid=g||function(){};this.cancelBid=function(){this.status=k.Status.CANCELED;l&&l()};this.getGPTTargeting=function(c){return a&&a.call(this,c)};this.onRenderedEvent=n||function(){};this.makeEntryForTestCompliance=q||function(){};this.additionalBidsToRender=[]};k.Types={EMPTY:0,PREBID:1,RTK:2,ADX:3,DFP_PREBID:4,ADSENSE:5,DIRECT:6,SMART_AS:7,DEFAULT_CREATIVE:8};k.Status={LIVE:0,CANCELED:1};
v.Bid=k;var e=y.new();e.setPrefix("models: ");e.setLevel(y.DEBUG);v.Slot=function(e){this.unit=e.unit;this.auctionsList=[];this.slotName=this.unit.space.name;this.renderBid=function(a){var c=d(this.auctionsList);if(c){var e=a&&g.find(c.bids,function(c){return c.bidId==a.bidId});try{c.subscribeForEvent("renderBidDone",function(a){a.successfulyRenderedBid?n.fireEvent("onAuctionEnded",{auction:c,bid:e}):n.fireEvent("onAuctionEnded",{auction:c})}),c.renderBid(e),c.subscribeForEvent("auctionRendered",
function(){n.fireEvent("onAuctionRendered",{auction:c,bid:e});ga.onVisible(c.unit.element,function(){n.fireEvent("onAdViewed",{auction:c,bid:e})})})}catch(M){}}};this.getBids=function(){var a=d(this.auctionsList);if(a)return f(a.bids)};this.getLastAuctionBids=function(){var c=a(this.auctionsList);if(c)return f(c.bids)};var f=function(a){return g.map(a,function(a){return{bidId:a.bidId,adId:a.adId,bidder:a.bidder,cpm:a.cpm,height:a.height,width:a.width,size:a.size,complianceStatus:a.complianceStatus}})},
d=function(a){return g.find(a,function(a){return a.state!=l.States.DONE})},a=function(a){a=a.reverse();return g.find(a,function(a){return a.state==l.States.DONE})}};v.Space=function(e){this.id=e.id;this.name=e.name;this.staging=e.staging;this.selector={position:e.selector.position,value:e.selector.value};this.sizes=e.sizes;this.preBiddingSettings={enabled:!1};if(e.preBiddingSettings&&(this.preBiddingSettings={enabled:e.preBiddingSettings.enabled,biddingSettings:{}},e.preBiddingSettings.enabled&&e.preBiddingSettings.biddingSettings))for(var f in e.preBiddingSettings.biddingSettings)if(e.preBiddingSettings.biddingSettings.hasOwnProperty(f)){var d=
e.preBiddingSettings.biddingSettings[f];this.preBiddingSettings.biddingSettings[f]=[];for(var a=0;a<d.length;a++){var c=d[a];c.id&&c.name&&c.testCompliance&&c.params&&this.preBiddingSettings.biddingSettings[f].push({id:c.id,name:c.name,testCompliance:c.testCompliance,params:c.params})}}this.postBiddingSettings={enabled:!1};if(e.postBiddingSettings&&e.postBiddingSettings.enabled)for(this.postBiddingSettings={adxId:e.postBiddingSettings.adxId,directId:e.postBiddingSettings.directId,enabled:e.postBiddingSettings.enabled,
type:e.postBiddingSettings.type,order:[]},a=0;a<e.postBiddingSettings.order.length;a++)f=e.postBiddingSettings.order[a],this.postBiddingSettings.order.push({params:{keyValues:f.params.keyValues||{},queryParams:f.params.queryParams||{}},adx:{bidderID:f.adx.bidderID,testCompliance:f.adx.testCompliance},direct:{bidderID:f.direct.bidderID,testCompliance:f.direct.testCompliance}})};v.Unit=function(e){this.unitID=V.stringRange(16,24);this.element=e.element;this.space=e.space;this.currentBid;this.countOfDispatches=
0;this.lastInvokeTime;this.cleanup=function(){for(var d=this.element.children,a=[],c=0;c<d.length;c++)a.push(f(d[c]));for(c=0;c<a.length;c++)a[c]()};this.rendered=function(d){this.currentBid=d};var f=function(d){return function(){d&&d.parentNode&&d.parentNode.removeChild(d)}}}})(O);var Aa={};(function(v){var n=y.new();n.setPrefix("testCompliance: ");n.setLevel(y.DEBUG);var l=!1;try{l=window.location.href&&0<=window.location.href.indexOf("bt_tc=false")}catch(e){n.errorf(null,"testComplianceDisabled: ",
e)}n.debugf(null,"test Compliance disabled? ",l);var k=K.CustomEvents;v.testBidsCompliance=function(e){var h={},f={},d=q.SharedObject.getItem("websiteConfig").websiteID,a={};g.forEach(e,function(c){var e=c.auction;c=c.bids;a[e.auctionId]=a[e.auctionId]||{};for(var g=0;g<c.length;g++){var m=c[g];if(l)a[e.auctionId][m.bidId]={bid:m,result:{status:q.consts.complianceStatus.COMPLIANT}},n.debugf(null,"compliance is disabled for the current bid: ",m);else{a:{var u=e,p=m;try{if(900<=parseInt(p.width)&&200<=
parseInt(p.height)&&600>parseInt(p.height)){var w=u.unit.element;if(w&&900<=ga.calculateElementOffset(w).top){var v=!1;break a}}}catch(H){}v=[{width:728,height:201},{width:120,height:601}];for(u=0;u<v.length;u++){var r=v[u];if(p.width>=r.width&&p.height>=r.height){v=!0;break a}}v=void 0}if(v)a[e.auctionId][m.bidId]={bid:m,result:{status:q.consts.complianceStatus.INCOMPLIANT}};else if(m.complianceStatus!=q.consts.complianceStatus.UNKNOWN)a[e.auctionId][m.bidId]={bid:m,result:{status:m.complianceStatus}};
else if(p=m.ad,u=m.type,-1<p.indexOf("video-box")?0:(-1<p.indexOf(".rhbodyurl")||p.indexOf("rh-image")||-1<p.indexOf("rh-title")||-1<p.indexOf(".rhbutton"))&&-1<p.indexOf(".rhurl")||-1<p.indexOf(".image-link")&&(-1<p.indexOf("call-to-action-link")||-1<p.indexOf(".attribution"))||-1<p.indexOf(".rhprice")&&-1<p.indexOf(".rhsaleprice")&&-1<p.indexOf("gstatic.com/shopping")||-1<p.indexOf(".grid-link-container")&&-1<p.indexOf(".grid-link")||-1<p.indexOf(".rhsimpleprice")&&-1<p.indexOf(".rh-box-image")&&
-1<p.indexOf("gstatic.com/shopping")||-1<p.indexOf(".product-image")&&-1<p.indexOf(".product-container")&&-1<p.indexOf("gstatic.com/shopping")||-1<p.indexOf("logoMCImageWidth")&&-1===p.indexOf("-webkit-animation")||-1<p.indexOf("productBannerSlot")&&-1<p.indexOf("logoBackColorDerived")||-1<p.indexOf("googletag.pubads().definePassback(")&&u==O.Bid.Types.ADX||-1<p.indexOf("js/adsbygoogle.js")&&(-1<p.indexOf('data-ad-format="link"')||p.indexOf('data-ad-type="text"')))a[e.auctionId][m.bidId]={bid:m,result:{status:q.consts.complianceStatus.COMPLIANT}};
else{a:{switch(m.bidderCode){case "adyoulike":case "ntv":case "upo":case "upo2":case "upo3":case "upo4":case "upo5":case "upo6":case "my6sense":case "lockerdome":case "sharethrough":p=!0;break a}p=!1}if(p)a[e.auctionId][m.bidId]={bid:m,result:{status:q.consts.complianceStatus.COMPLIANT}};else if(p=m,p="triplelift"===p.bidderCode&&p.ad&&-1<p.ad.indexOf("tl_auction_response")&&-1<p.ad.indexOf("advertiser_name")&&-1<p.ad.indexOf("heading")&&-1===p.ad.indexOf("VAST version")&&-1===p.ad.indexOf("vast_xml")?
!0:void 0,p)a[e.auctionId][m.bidId]={bid:m,result:{status:q.consts.complianceStatus.COMPLIANT}};else if(p=k.fireEvent("customComplianceCheck",{bid:ma.bidDecoder(m)}))a[e.auctionId][m.bidId]={bid:m,result:{status:p}};else{a[e.auctionId][m.bidId]={bid:m,result:{status:void 0}};p=m.makeEntryForTestCompliance();p.auctionID=e.auctionId;p.spaceExternalID=e.unit.space.id;p.websiteID=d;u=parseFloat(m.cpm);p.cpm=isNaN(u)?0:u;u=p;if(u.markup&&-1<u.markup.indexOf("://secure.ace.advertising.com/"))try{var t=
"https://secure.ace.advertising.com/site="+u.markup.split("Site: '")[1].split("'")[0]+"/size="+u.markup.split("Size: '")[1].split("'")[0]+"/rip="+u.markup.split("/rip=")[1].split("/")[0];t&&(u.markup='\x3c!-- "'+t+'"--\x3e'+u.markup)}catch(H){}u.markup&&!u.url&&-1===u.markup.indexOf("<body")&&(u.markup="<body>"+u.markup+"</body>");u=V.stringRange(5,8);h[u]=p;f[u]=m}}}}});if(0>=Object.keys(h).length){for(var c in a)if(a.hasOwnProperty(c)){e=a[c];for(var p in e)e.hasOwnProperty(p)&&(a[c][p]=e[p].result)}return g.CPromise.resolve(a)}return P.Home.testCompliance(h).then(function(c){var d;
for(d in c)if(c.hasOwnProperty(d)){var e=h[d].auctionID;var g=a[e][f[d].bidId];g.result.status=c[d].status;g.result.bidContentIdHash=c[d].id}for(e in a)if(a.hasOwnProperty(e)){c=a[e];for(var k in c)c.hasOwnProperty(k)&&(a[e][k]=c[k].result)}return a})}})(Aa);var Fa={};(function(q){var n=y.new();n.setPrefix("postbidding: ");n.setLevel(y.INFO);var l=new function(){var h=!1,f=new D.SubscriptionLayer,d=function(){h||(h=!0,e.subscribeForEvent("refresh",function(a){f.invokeEventCallbacks("refresh",a)}),
e.subscribeForEvent("bidReceived",function(a){f.invokeEventCallbacks("bidReceived",a)}))};this.subscribeForEvent=function(a,c){f.subscribeForEvent(a,c)};this.dispatch=function(a,c){d();var f=[];g.forEach(a,function(a){f.push({asAdUnit:a,promise:void 0})});for(var h={},k=0;k<a.length;k++){var n=a[k];h[n.type]=h[n.type]||[];h[n.type].push(n)}for(var m in h)if(m=parseInt(m),h.hasOwnProperty(m)){var q=h[m];a=c&&c[m];a:{switch(m){case l.Types.DFP:a=e.dispatch(q,a);break a}a=void 0}g.forEach(a,function(a,
c){var d=q[c];g.find(f,function(a){return a.asAdUnit==d}).promise=a})}return g.map(f,function(a){return a.promise})}};l.Types={UNKNOWN:0,DFP:1,SMART_AS:2};q.AdServer=l;n=y.new();n.setPrefix("dfpAdapter: ");n.setLevel(y.DEBUG);var k=K.CustomEvents,e=new function(){var e=!1,f={},d={},a={},c=[],l=[],q=new D.SubscriptionLayer,v={_type_:0,_expandable_:1,_afc_expandable_:2,_snippet_:4,_height_:5,_width_:6,_empty_:7,_is_afc_:8,_fluid_:9,_persistent_for_stream_:10,_use_safe_frame_:11,_use_sandbox_:12,_cookies_:13,
_creative_ids_:14,_adgroup2_ids_:15,_advertiser_ids_:16,_campaign_ids_:17,_yield_group_ids_:18,_company_ids_:19,_creative_template_ids_:21,_host_page_libraries_:22,_is_3pas_:25,_a_exps_:26,_resources_:27,_margin_render_:28,_pvtoken_:32,_qqid_:33,_breakglass_mode_:35,_generate_slot_:39,_rereq_:43,_ntis_:44,_safe_frame_uid_:46};this.init=function(){if(!e&&(e=!0,ua(),!document.getElementById("up-gpt-stylesheet"))){var a=document.createElement("style");a.id="up-gpt-stylesheet";a.type="text/css";a.textContent=
".up-gpt-static { opacity: 0.001 !important; }";(document.head||document.body||document.documentElement).appendChild(a)}};this.dispatch=function(b,c){try{this.init();var e=[];k.fireEvent("onBeforeDfpRefreshDispatch");g.forEach(b,function(a){var b=new g.CDefer;e.push(b.promise);f[a.slotElementId]={asAdUnit:a,deferred:b};b=new g.CDefer;d[a.slotElementId]=b});window.googletag.cmd.push(function(){try{n.debugf(null,"onAdsRequestPrepareStarted");var c=window.googletag.pubads().getSlots(),d=[];g.forEach(c,
function(c){g.forEach(b,function(b,e){e=c.getSlotElementId();if(e===b.slotElementId){d.push(c);var f=V.stringRange(16,24);a[f]=e;c.setTargeting("uponitSlotIterationId",f);k.fireEvent("preTargetingSetting",{dfpSlot:c});e=b.params.keyValuesParams.toRemove;for(f=0;f<e.length;f++)c.clearTargeting(e[f]);c.__up_display||(c.__up_display=!0,window.googletag.display(b.slotElementId));e=b.params.keyValuesParams.toAdd;for(var g in e)e.hasOwnProperty(g)&&c.setTargeting(g,e[g]);if(window.uponit&&window.uponit.modifiers&&
window.uponit.modifiers.dfpTargeting&&0<window.uponit.modifiers.dfpTargeting.length)try{var h=window.uponit.modifiers.dfpTargeting;for(g=0;g<h.length;g++){var l=c.getTargetingMap();e={};for(var t in l)e[t]=l[t];f=null;!b||void 0==b.floorPrice&&null==b.floorPrice||(f=b.floorPrice);var ea=h[g](e,c,f);if(ea)for(t in ea)l[t]&&l[t]===ea[t]||c.setTargeting(t,ea[t])}}catch(Na){n.errorf(null,"dispatch: uponit-modifiers: %o",Na)}c.setForceSafeFrame(!0);c.setCollapseEmptyDiv(!1)}})});n.debugf(null,"onAdsRequestSlotsPrepare - slots: %o",
T(d));x(d);if(k.fireEvent("forceNotSingleRequestRefresh"))for(c=0;c<d.length;c++){var e=d[c];window.googletag.pubads().refresh([e],void 0,!0)}else window.googletag.pubads().refresh(d,void 0,!0)}catch(La){n.errorf(null,"dispatch: %o",La)}});return e}catch(va){y.criticalf("google cmd function failed: %o",va)}};var x=function(a){g.forEach(a,function(a){a.setTargeting("upstdfp",!0)})},m=function(a){var b=[];try{for(var c=0;c<a.length;c++){var d=a[c];"fluid"===d?b.push(d):b.push([d.getWidth(),d.getHeight()])}}catch(ka){n.errorf(null,
"getNormalizedDfpSizes errored - %o",ka)}return b},T=function(a){var b=[];try{for(var c=0;c<a.length;c++){var d=a[c];b.push({elementId:d.getSlotElementId(),dfpAdUnitPath:d.getAdUnitPath(),sizes:m(d.getSizes()),targetingMap:d.getTargetingMap()})}}catch(ka){n.errorf(null,"getNormalizedDFPAdSlots errored - %o",ka)}return b},L=function(a){g.forEach(a,function(a){a.clearTargeting("upstdfp")})},w=function(a,b){if(-1<b.indexOf("fluid")){var c=g.map(b,function(a){return"fluid"!=a&&a.getWidth()});b=g.map(b,
function(a){return"fluid"!=a&&a.getHeight()});c=g.filter(c,function(a){return void 0!=a});b=g.filter(b,function(a){return void 0!=a});c=g.reduce(c,function(a,b){return Math.max(a,b)});b=g.reduce(b,function(a,b){return Math.max(a,b)});return!(a._width_<=c&&a._height_<=b)}c=a._width_;a=a._height_;for(var d=0;d<b.length;d++){var e=b[d];if(e.getWidth()==c&&e.getHeight()==a)return!1}return!0},R=function(a){return a?/\.(renderAd|renderAdNew)\(document,(\s+)?['"][a-zA-Z0-9\-_]+['"]/gm.test(a)||/apstag\.renderImp\(document,/gm.test(a)||
/"hb_adid":[\s\r\n\t]{0,9}?\["[a-z-A-Z0-9\-_]+"\]/gm.test(a)||/ucTagData\.ad[Ii]d(:?\s+)?=(:?\s+)?['"]([a-zA-Z0-9\-_]+)['"]/gm.test(a)||-1<a.indexOf("districtm_adslot = ")||k.fireEvent("isPrebidResponse",{str:a})?!0:!1:!1},r=function(a,b,c,d){a&&a._html_&&-1<a._html_.indexOf("googletag.pubads().definePassback(")&&(a._html_=a._html_.replace(").setTargeting('",").setTargeting('up_recovery','true').setTargeting('"),a._html_=a._html_.replace(').setTargeting("',').setTargeting("up_recovery","true").setTargeting("'));
a&&a._html_&&-1===a._html_.indexOf("ca-pub-15988")&&(a._html_=a._html_.replace("data-ad-slot=",'data-ad-type="text" data-ad-slot=').replace("data-ad-client\\x3d","data-ad-type\\x3d\\x22text\\x22 data-ad-client\\x3d").replace('google_ad_client = "ca-pub','google_ad_type = "text";google_ad_client = "ca-pub'));(b=k.fireEvent("dfpResponseCustomReplace",{googleReponse:a,googleFrame:d,googleSlot:b}))&&(a=b);a&&0===a._height_&&0===a._width_&&d&&d.parentElement&&(a._height_=parseInt(window.getComputedStyle(d.parentElement).height),
a._width_=parseInt(window.getComputedStyle(d.parentElement).width));if((!a._height_||!a._width_)&&0<c.length)for(d=0;d<c.length;d++)if(b=c[d],"fluid"!=b&&120<=b.getWidth()){a._width_=parseInt(b.getWidth());a._height_=parseInt(b.getHeight());break}},t=function(a){var b=a._html_;return a._empty_?O.Bid.Types.EMPTY:R(b)?O.Bid.Types.DFP_PREBID:a._is_afc_?O.Bid.Types.ADX:-1<b.indexOf("js/adsbygoogle.js")||-1<b.indexOf("pagead/show_ads.js")?O.Bid.Types.ADSENSE:O.Bid.Types.DIRECT},H=function(a,b){switch(a){case O.Bid.Types.ADSENSE:case O.Bid.Types.ADX:return b.adxBidderId;
case O.Bid.Types.DIRECT:return b.directBidderId}},B=function(a,b){c.push(b);a._html_=k.fireEvent("CustomPrebidHTMLModification",a._html_)||a._html_.replace("w.parent","window").replace(/pbjs/gm,"upbjs").replace(/renderAd/gm,"renderAdNew")},ba=function(a){var b=a.getSlotElementId(),b=D.escapeSelector("#"+b),c=c||document.querySelector(b+' [id^="google_ads_iframe_"]');return c=k.fireEvent("customInnerContainer",{googleSlot:a})||c},pa=function(a,b,c){try{if(a){for(var e={},h=[],J=0;J<a.length;J++){var m=
a[J].response,p=a[J].slot;if(p){var ea=b[J],C=p.getSlotElementId(),u;for(u in m)if(m.hasOwnProperty(u)){var N=m[u];k.fireEvent("bidReceivedDfp",{slot:p,bid:N});var w=new g.CDefer;e[C]=w;h.push(w.promise);var Q=f[C],A=ba(p);r(N,p,ea,A);if(E(N,p,ea))e[C].resolve({injectToDom:!1}),Q.deferred.resolve({auctionId:Q.asAdUnit.auctionId,bids:[]});else{R(N._html_)&&B(N,C);var v=t(N),W=k.fireEvent("forceCompliant")||!1,Ea=N._html_,x=H(v,Q.asAdUnit.params);a:{try{if(W&&v==O.Bid.Types.DIRECT&&N._adgroup2_ids_&&
N._adgroup2_ids_[0]&&N._creative_ids_&&N._creative_ids_[0]){var y=N._adgroup2_ids_[0].toString()+"_"+N._creative_ids_[0].toString();break a}}catch(Ca){n.errorf(null,"getCreativeId: %o",Ca)}y=void 0}var z=new O.Bid({ad:Ea,adId:null,bidder:"gad",bidderId:x,bidderCode:"gad",creativeId:y,width:N._width_,height:N._height_,cpm:Q.asAdUnit.floorPrice+.01},N.originalResponse,v,void 0,function(a){return function(){var b=e[a];this.onRenderedEvent(function(){var b=document.getElementById(a).querySelector('div[id^="google_ads_"]');
g.removeClass("up-gpt-static",b)});"unresolved"==b.fate&&b.resolve({injectToDom:!0})}}(C),function(a){return function(){var b=e[a];this.onRenderedEvent(function(){var b=document.getElementById(a).querySelector('div[id^="google_ads_"]');g.addClass("up-gpt-static",b)});"unresolved"==b.fate&&b.resolve({injectToDom:!0})}}(C),function(a){return function(){var b=e[a];"unresolved"==b.fate&&b.resolve({injectToDom:!1})}}(C),function(a){return function(b){d[a].promise.then(function(){b()})}}(C),function(){return c(this)});
Q.deferred.resolve({auctionId:Q.asAdUnit.auctionId,bids:[z]});q.invokeEventCallbacks("bidReceived",{auctionId:Q.asAdUnit.auctionId,bid:z})}}}else h.push(g.CPromise.resolve({injectToDom:!1}))}return g.CPromise.all(h).then(function(a){try{for(var b=[],c=0;c<this.uponitGoogletagResponeses.length;c++){var d=this.uponitGoogletagResponeses[c].response,e=Object.keys(d)[0],f=this.uponitGoogletagResponeses[c].slot,g=f&&f.getSlotElementId();a[c]&&!a[c].injectToDom&&(g&&l.push(g),d[e]._html_="",d[e]._empty_=
!0,d[e]._width_=1,d[e]._height_=1);b.push(d)}return b}catch(Pa){n.errorf(null,"handleDfpBidResponses: poly.CPromise.all: %o",Pa)}}.bind({uponitGoogletagResponeses:a,deferredsPromises:h}))}}catch(Ca){n.errorf(null,"handleDfpBidResponses: %o",Ca)}},C=function(a){return{bidderExternalID:a.bidderId,url:a.adUrl,domain:window.location.host,hint:{provider:a.type==O.Bid.Types.DIRECT?"dfp_direct":a.bidderCode,uid:a.creativeId},width:parseInt(a.width),height:parseInt(a.height)}},A=function(a){var b=C(a);b.markup=
a.ad.replace(/\\(n|r|\\)/g,function(a,b){return"n"==b?"\n":"r"==b?"\r":"\\"});return b},E=function(a,b,c){if(!a||a&&!a._html_)return!0;var d=ca([b]),e=a._empty_;var f=a._html_;f=-1<f.indexOf("google-native-video")||-1<f.indexOf("imasdk.googleapis.com/formats/outstream")||-1<f.indexOf("video-in-display")||-1<f.indexOf("vix.eu.criteo.net/concat")||-1<f.indexOf(".video-container")&&(-1<f.indexOf("video-box")||-1<f.indexOf("googlevideo.com"))||-1<f.indexOf("product-video")&&-1<f.indexOf("googlevideo.com")||
-1<f.indexOf("twoOfTwoVertical")&&-1<f.indexOf("animation-container")||-1<f.indexOf("animation:text2Frames")&&-1<f.indexOf("-webkit-animation")?!0:!1;c="text"==d.ad_type&&!R(a._html_)&&w(a,c);a=D.isUnacceptable("#"+b.getSlotElementId(),{width:a._width_,height:a._height_});return e||f||c||a},b=function(a,b){a=a.replace(/[\[\]]/g,"\\$&");return(a=(new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)")).exec(b))?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null},Y=function(a,b){return(a=(new RegExp("(^|[&])"+
a+"(=([^&#]*)|&|#|$)")).exec(b))?a[3]?decodeURIComponent(a[3].replace(/\+/g," ")):"":null},ca=function(a){try{for(var b={},c=0;c<a.length;c++){var d=f[a[c].getSlotElementId()].asAdUnit;if(d&&d.params&&d.params.queryParams)for(var e in d.params.queryParams)d.params.queryParams.hasOwnProperty(e)&&(b[e]=d.params.queryParams[e])}return b}catch(wa){n.errorf(null,"getSlotsQueryParams: %o",wa)}},F=function(a,b){a=a.split("\n");for(var c=[],d=0;d<a.length;d++){var e=a[d];if(0===d%2&&""!=e){try{var f=window.JSON.parse(e)}catch(X){n.errorf(null,
"parseGoogleExpandableResponse: 1 %o",X)}var e=f[Object.keys(f)[0]],g={};if(3==b){try{for(var h in v)if(v.hasOwnProperty(h)){var k=v[h];"undefined"!==typeof e[k]&&null!==e[k]&&(g[h]=1==e[k]?!0:0==e[k]?!1:e[k])}}catch(X){n.errorf(null,"parseGoogleExpandableResponse: 2 %o",X)}f[Object.keys(f)[0]]=g}c.push(f)}else if(0!==d%2){var g=c[c.length-1],l=Object.keys(g)[0];g[l]._html_=e}}1==c.length&&(c=c[0]);return c},G=function(a){var b={};a:if(0!==a.indexOf("{"))var c=1;else{try{var d=JSON.parse(a.split("\n")[0]);
c=Array.isArray(d[Object.keys(d)[0]])?3:2;break a}catch(ka){n.errorf(null,"getResponseType: %o",ka)}c=0}switch(c){case 1:a=a.substring(a.indexOf("(")+1,a.lastIndexOf(")")).replace(/\\x/g,"\\u00");try{b.data=window.JSON.parse(a),b.type=1}catch(ka){n.errorf(null,"parseGoogleTagResponse: RESPONSE_TYPES.regular: %o",ka)}break;case 2:b.data=F(a,2);b.type=2;break;case 3:b.data=F(a,3),b.type=3}b.isArray=Array.isArray(b.data);b.isArray||(b.data=[b.data]);return b},N=function(a,b){var c=[];g.forEach(a,function(a){var b=
{},d=Object.keys(a)[0],e=a[d];b[d]={originalResponse:a,_html_:J(e),_empty_:e._empty_,_width_:e._width_,_height_:e._height_,_is_afc_:e._is_afc_,_adgroup2_ids_:e._adgroup2_ids_&&0<e._adgroup2_ids_.length&&g.map(e._adgroup2_ids_,function(a){return a}),_creative_ids_:e._creative_ids_&&0<e._creative_ids_.length&&g.map(e._creative_ids_,function(a){return a})};c.push(b)});return c},J=function(a){return a._enc_&&a._enc_._html_?atob(a._enc_._html_):a._html_},Q=function(a,b){b.__defineGetter__("responseText",
function(){return a});b.__defineGetter__("response",function(){return a});b.__defineGetter__("status",function(){return 200});b.__defineGetter__("readyState",function(){return 4})},W=function(a){if(a=/googletag.impl.pubads.callbackProxy(\d+)/gm.exec(a))return a[1]},fa=function(a,b,c,d,e){return new g.CPromise(function(f,h){try{var k=N(a,b),l=g.map(k,function(a,d){if(-1<c.indexOf(d))return b[d]}),t=g.map(k,function(a,b){return{slot:l[b],response:a}});pa(t,d,e).then(function(a){try{g.forEach(a,function(a){var b=
Object.keys(a)[0],c=a[b].originalResponse[b];a=a[b];c._enc_&&c._enc_._html_?c.enc._html_=btoa(a._html_):c._html_=a._html_;c._empty_=a._empty_;c._width_=a._width_;c._height_=a._height_});var b=g.map(a,function(a){return a[Object.keys(a)[0]].originalResponse});g.forEach(b,function(a){var b=Object.keys(a)[0];a[b]._use_safe_frame_=!0});f(b)}catch(Ma){n.errorf(null,"invokeMiddleware: handleDfpBidResponses: %o",Ma)}})}catch(X){n.errorf(null,"invokeMiddleware: %o",X)}})},da=function(a,b){if(b=ca(b))for(var c in b)if(b.hasOwnProperty(c)){var d=
b[c];0>a.indexOf("?")?a=a+"?"+c+"="+d:0>a.indexOf("&"+c+"=")&&0>a.indexOf("?"+c+"=")&&(a=a+"&"+c+"="+d)}return a},K=function(c){var d=[],e=b("scp",c);e||(e=b("prev_scp",c));if(e){c=e.split("|");for(e=0;e<c.length;e++){var f=Y("uponitSlotIterationId",c[e]);a[f]&&d.push(a[f])}return d}},I=function(a){for(var b=[],c=window.googletag.pubads().getSlots(),d=0;d<c.length;d++)for(var e=c[d],f=0;f<a.length;f++){var g=a[f];e.getSlotElementId()==g&&b.push(e)}return b},P=function(a){return function(b){switch(a){case 1:var c=
C(b);c.markup=b.ad;return c;case 2:case 3:return A(b)}}},S=function(a,b,c,d){n.debugf(null,"onAdsServerResponse - slots: %o, relevantIndexes: %o",T(b),c);return new g.CPromise(function(e,f){try{var g=G(a.responseText),h=g.data,k=g.type,l=g.isArray,t=P(k);fa(h,b,c,d,t).then(function(b){l||(b=b[0]);a:{switch(k){case 1:var c="",d=W(a.responseText);try{c=JSON.stringify(b)}catch(la){n.errorf(null,"stringifyResponse: RESPONSE_TYPES.regular: %o",la)}b="googletag.impl.pubads.callbackProxy"+d+"("+c+")";break a;
case 2:case 3:c="";l||(b=[b]);for(var f=0;f<b.length;f++){var g=b[f],h=g[Object.keys(g)[0]],t=h._html_;delete h._html_;if(3==k){var J=[];try{for(d in v)v.hasOwnProperty(d)&&(J[v[d]]=1==h[d]?1:0==h[d]?0:h[d]);g[Object.keys(g)[0]]=J}catch(la){n.errorf(null,"stringifyResponse: RESPONSE_TYPES.arrayTypeExpandable: 1 %o",la)}}try{c=c+JSON.stringify(g)+"\n"+t+"\n"}catch(la){n.errorf(null,"stringifyResponse: RESPONSE_TYPES.arrayTypeExpandable: 2 %o",la)}}b=c;break a}b=void 0}Q(b,a);e()})}catch(Ba){y.criticalf(null,
"handleReponsesFromXHR errored: %o",Ba)}})},ja=function(a){var c=[],d=["21063911","21063048","21063670","21063817","21063671"],e=b("eid",a);if(!e)return a;for(var e=e.split(","),f=0;f<e.length;f++){var g=e[f];0>d.indexOf(g)&&c.push(g)}return a=a.replace(/&eid=[^&]+&/g,"&eid="+encodeURIComponent(c.join(","))+"&")},U=function(a){var c=b("sz",a);c||(c=b("prev_iu_szs",a));if(c)return a=c.split(","),a=g.map(a,function(a){return a.split("|")}),a=g.map(a,function(a,b){return g.map(a,function(a){a=a.split("x");
return{width:parseInt(a[0]),height:parseInt(a[1])}})})},Ja=function(a){return g.map(a,function(a){var b={getWidth:function(){return a.width},getHeight:function(){return a.height}};320==a.width&&50==a.height&&(b="fluid");return b})},Da=function(a,b,c){function d(){var c=k.fireEvent("removeSizesDfpConfig");if(c){var d=c.forAll||[];l=g.map(l,function(e,f){f=b[f].getSlotElementId();var h=(c[f]||[]).concat(d),h=g.map(h,function(b){return"fluid"==b?(a=a.replace(/fluid=(.*?)&/g,""),{width:320,height:50}):
b});return g.filter(e,function(a){return!g.find(h,function(b){return b.width==a.width&&b.height==a.height})})})}}if(a)try{if(-1<a.indexOf("&sz="))var e="sz";else if(-1<a.indexOf("&prev_iu_szs="))e="prev_iu_szs";else return;var h=U(a);if(h){var l=g.filter(h,function(a,b){return-1<c.indexOf(b)});modifiedSizesPerSlot=[];modifiedSizesGoogletagFormat=[];l=g.map(l,function(c,d){d=b[d].getSlotElementId();var e=k.fireEvent("sizesToReplaceBySpace",{spaceName:f[d].asAdUnit.spaceName});if(!e)return c;g.forEach(e,
function(b){320==b.size.width&&50==b.size.height&&(a=a.replace(/fluid=(.*?)&/g,""))});return g.map(c,function(a){var b=g.find(e,function(b){return b.size.width==a.width&&b.size.height==a.height});return b?{width:b.replacement.width,height:b.replacement.height}:a})});d();l=g.map(l,function(c,d){d=b[d].getSlotElementId();var e=k.fireEvent("sizesToRemoveBySpace",{spaceName:f[d].asAdUnit.spaceName});if(!e)return c;g.forEach(e,function(b){320==b.width&&50==b.height&&(a=a.replace(/fluid=(.*?)&/g,""))});
return g.filter(c,function(a){return!g.find(e,function(b){return b.width==a.width&&b.height==a.height})})});g.forEach(l,function(a,c){c=b[c].getSlotElementId();a=D.sizesReplacer("#"+c,a);a=g.filter(a,function(a){return!!a});0==a.length&&(a=[{width:2,height:3}]);modifiedSizesPerSlot.push(a);a=Ja(a);modifiedSizesGoogletagFormat.push(a)});var t=0,J=g.map(h,function(a,b){if(0>c.indexOf(b))return a;a=modifiedSizesPerSlot[t];t++;return a});var r=g.map(J,function(a){return g.map(a,function(a){return a.width+
"x"+a.height})});r=g.map(r,function(a){return a.join("|")});r=r.join(",");a=a.replace(new RegExp("&"+e+"=[^&]+&","g"),"&"+e+"="+encodeURIComponent(r)+"&");return{url:a,modifiedSizes:modifiedSizesGoogletagFormat}}}catch(X){return n.errorf(null,"modifySizesInUrl errored - %o",X),{url:a,modifiedSizes:g.map(b,function(a){return a.getSizes()})}}},qa=function(a){var c=[],d=b("scp",a);d||(d=b("prev_scp",a));if(d){a=b("csp",a);if(a){var e=Y("upstdfp",a);n.debugf(null,"onCommonSlotTargetDetected - upstdfp: %o",
e)}d=d.split("|");for(a=0;a<d.length;a++){var f=d[a];(e||Y("upstdfp",f))&&c.push(a)}return c}},Z=function(){z.Hooks.addEventListener(z.Hooks.Types.XHR_OPEN_PRE,function(a){try{var b=a.data;if(ga(b[1])){var c=K(b[1]),d=I(c),e=qa(b[1]);L(d);b[1]=D.addAcceptableParam(b[1]);b[1]=da(b[1],d);sizeReplacmentObj=Da(b[1],d,e);b[1]=sizeReplacmentObj.url;var f=sizeReplacmentObj.modifiedSizes;b[1]=ja(b[1]);k.fireEvent("onBeforeDfpAdsRequest",{url:b[1]});n.debugf(null,"onDfpAdsRequest - url: %s, slots: %o, relevantIndexes: %o",
b[1],T(d),e);var g=null,h=null,l=this,t=!1;this.onload=function(){try{g&&!t&&(t=!0,S(l,d,e,f).then(function(){g.call(l)}))}catch(X){n.errorf(null,"addListenersOnHooks: onload: %o",X)}};this.onreadystatechange=function(a){try{h&&!t&&4===this.readyState&&(200===this.status?(t=!0,S(l,d,e,f).then(function(){h.call(l,a)})):n.criticalf(null,"onDfpAdsRequestError, status: %s, responseText: %s",this.status,this.responseText))}catch(Ba){n.criticalf(null,"onReadyStateChangeError, err %o",Ba)}};this.__defineGetter__("onload",
function(){return g});this.__defineSetter__("onload",function(a){return g=a});this.__defineGetter__("onreadystatechange",function(){return h});this.__defineSetter__("onreadystatechange",function(a){return h=a})}}catch(X){n.errorf(null,"addListenersOnHooks: %o",X)}});z.Hooks.addEventListener(z.Hooks.Types.INSERT_BEFORE_PRE,function(a){a=a.data;if(ga(a[0].src)){var b=K(a[0].src),c=I(b),d=qa(a[0].src);L(c);a[0].src=D.addAcceptableParam(a[0].src);a[0].src=da(a[0].src,c);sizeReplacmentObj=Da(a[0].src,
c,d);a[0].src=sizeReplacmentObj.url;var e=sizeReplacmentObj.modifiedSizes;a[0].src=ja(a[0].src);k.fireEvent("onBeforeDfpAdsRequest",{url:a[0].src});if(a=W(a[0].src)){var f=window.googletag.impl.pubads["callbackProxy"+a];window.googletag.impl.pubads["callbackProxy"+a]=function(a){var b=Array.isArray(a);b||(a=[a]);var g=P(1);fa(a,c,d,e,g).then(function(c){b||(a=c[0]);f(a)})}}}})},ga=function(a){try{return a&&-1<a.indexOf("doubleclick.net/gampad/ads")&&-1<a.indexOf("upstdfp")}catch(Ea){debugger}};this.subscribeForEvent=
function(a,b){q.subscribeForEvent(a,b)};var ra=function(){window.googletag.pubads().addEventListener("slotRenderEnded",function(a){var b=a.slot;a=b.getSlotElementId();b=ba(b);if(0<=l.indexOf(a))l.splice(l.indexOf(a),1);else{var e=d[a];e&&"unresolved"==e.fate&&e.resolve();if(-1<c.indexOf(a)){c.splice(c.indexOf(a),1);try{b.style.width="1px",b.style.height="1px",b.querySelector("iframe").width="1",b.querySelector("iframe").height="1"}catch(va){n.errorf(null,"setGoogletagEvents: %o",va)}}}})},ha=function(){var a=
window.googletag.pubads().refresh;window.googletag.pubads().refresh=function(b,c,d){n.debugf(null,"onGoogleTagRefreshInvoked - info: %o",{slots:b&&T(b),settings:c,isRefreshInvokedByUs:d});if(d)return b?a(b,c):a();b||(b=window.googletag.pubads().getSlots());c=[];for(d=0;d<b.length;d++){var e=b[d].getSlotElementId();e&&c.push(e)}q.invokeEventCallbacks("refresh",c)}},ua=function(){var a="push";window.googletag.cmd.unshift&&(a="unshift");window.googletag.cmd[a](function(){k.fireEvent("shouldNotWrapGoogleTagRefresh")||
ha();ra();Z(window)})}};q.DfpAdapter=e})(Fa);var Ga={};(function(v){var n=y.new();n.setPrefix("prebidding: ");n.setLevel(y.INFO);var l=new function(){var d=!1,a=new D.SubscriptionLayer,c=function(){d&&(d=!1);d=!0;e.subscribeForEvent("refresh",function(c){a.invokeEventCallbacks("refresh",c)});e.subscribeForEvent("bidReceived",function(c){a.invokeEventCallbacks("bidReceived",c)})};this.subscribeForEvent=function(c,d){a.subscribeForEvent(c,d)};this.dispatch=function(a,d){c();var f=[],h={};g.forEach(a,
function(a){f.push({hbAdUnit:a,promises:[]});var c=a.biddingSettings;for(d in c){var d=parseInt(d);if(c.hasOwnProperty(d)){var e=c[d];e&&0<e.length&&(h[d]=h[d]||[],h[d].push({biddersSettings:e,auctionId:a.auctionId,spaceName:a.spaceName,sizes:a.sizes,selector:a.selector}))}}});for(var k in h)if(k=parseInt(k),h.hasOwnProperty(k)){var p=h[k];a=d&&d[k];a:{switch(k){case l.Types.PREBID:a=e.dispatch(p,a);break a}a=void 0}g.forEach(a,function(a,c){g.find(f,function(a){return a.hbAdUnit.auctionId==p[c].auctionId}).promises.push(a)})}return g.map(f,
function(a){return g.CPromise.all(a.promises).then(function(c){c=g.map(c,function(a){return a.bids});return{auctionId:a.hbAdUnit.auctionId,bids:g.flat(c)}})})}};l.Types={UNKNOWN:0,PREBID:1,RTK:2};v.HB=l;var k=K.CustomEvents,e=new function(){function d(a,c){return g.filter(a,function(a){return g.find(c,function(b){return a.width==b[0]&&a.height==b[1]})})}var a=!1,c={},e={},l=new D.SubscriptionLayer;this.subscribeForEvent=function(a,c){l.subscribeForEvent(a,c)};this.dispatch=function(e){try{a||(a=!0,
c=q.cpbjs,r(),k.fireEvent("wrapPrebidRequestBids")&&H(),pa());var f={};g.forEach(e,function(a){f[a.spaceName]={hbAdUnit:a,deferred:new g.CDefer}});var h=x(e),b=k.fireEvent("prebidTimeout")||3E3;v();c.requestBids({timeout:b,adUnits:h,bidsBackHandler:function(a){try{for(var b in f)if(f.hasOwnProperty(b)){var c=f[b],e=c.hbAdUnit,k=a[b],t=[];if(k){var r=g.find(h,function(a){return a.code==b}).sizes;k.bids=d(k.bids,r);t=w(k.bids,c.hbAdUnit)}c.deferred.resolve({auctionId:e.auctionId,bids:t});g.forEach(t,
function(a){l.invokeEventCallbacks("bidReceived",{auctionId:e.auctionId,bid:a})})}}catch(fa){n.errorf(null,"prebidAdapter: dispatch: bidsBackHandler: - %o",fa)}}});e=[];for(var t in f)f.hasOwnProperty(t)&&e.push(f[t].deferred.promise);return e}catch(ca){n.errorf(null,"prebidAdapter: dispatch: - %o",ca)}};var v=function(){if(c.bidderSettings&&c.bidderSettings.standard&&c.bidderSettings.standard.adserverTargeting){var a=!!g.find(c.bidderSettings.standard.adserverTargeting,function(a){return"hb_pb_org"==
a.key}),d=!!g.find(c.bidderSettings.standard.adserverTargeting,function(a){return"hb_pb"==a.key});!a&&d&&c.bidderSettings.standard.adserverTargeting.push({key:"hb_pb_org",val:function(a){var b=c.getConfig().priceGranularity;return"auto"===b?a.pbAg:"dense"===b?a.pbDg:"low"===b?a.pbLg:"medium"===b?a.pbMg:"high"!==b&&"custom"===b?a.pbCg:a.pbHg}})}},y=function(a){var c=a.split("x");if(2!==c.length)throw Error();a=parseInt(c[0]);c=parseInt(c[1]);if(isNaN(a)||isNaN(c))throw Error();return{width:a,height:c}},
m=function(a){for(var c=[],d=0;d<a.sizes.length;d++){var b=y(a.sizes[d]);c.push({width:b.width,height:b.height})}var e=k.fireEvent("sizesToReplaceBySpace",{spaceName:a.spaceName});e&&(c=g.map(c,function(a){var b=g.find(e,function(b){return b.size.width==a.width&&b.size.height==a.height});return b?{width:b.replacement.width,height:b.replacement.height}:a}));var f=k.fireEvent("sizesToRemoveBySpace",{spaceName:a.spaceName});f&&(c=g.filter(c,function(a){return!g.find(f,function(b){return b.width==a.width&&
b.height==a.height})}));a=D.sizesReplacer(a.selector,c);a=g.filter(a,function(a){return!!a});return a=g.map(a,function(a){return[a.width,a.height]})},x=function(a){return g.map(a,function(a){var c=m(a),b=[];g.forEach(a.biddersSettings,function(a){b.push({bidder:a.name,params:a.params})});return{code:a.spaceName,bids:b,sizes:c,mediaTypes:{banner:{sizes:c}}}})},z=function(a,c){if(a.ad&&-1<a.ad.indexOf(atob("c2VydmluZy1zeXMuY29t"))&&-1<a.ad.indexOf(atob("QnVyc3RpbmdQaXBlL2FkU2VydmVyLmJz"))){var d=atob("PHNjcmlwdD53aW5kb3cuZWJDZmcgPSB7fTt3aW5kb3cuZWJDZmdfXyA9IHt9O3dpbmRvdy5fX2RlZmluZUdldHRlcl9fKCdlYkNmZycsZnVuY3Rpb24oYSl7cmV0dXJuIHdpbmRvdy5lYkNmZ19fO30pO3dpbmRvdy5fX2RlZmluZVNldHRlcl9fKCdlYkNmZycsZnVuY3Rpb24oYSl7YS5hZEh0bWxQYXRoPScnO3JldHVybiB3aW5kb3cuZWJDZmdfXz1hO30pOzwvc2NyaXB0Pg==");
-1<a.ad.indexOf("<body>")?a.ad=a.ad.replace("<body>",d):a.ad=d+a.ad}if("amazonAAX"===a.bidder)try{var b=JSON.parse(a.adTargeting);b.amzniid=a.adId;for(var e in b)a.adserverTargeting[e]=b[e];a.ad=a.adHtml;try{delete a.adserverTargeting.hb_pb}catch(ca){}delete a.adUrl}catch(ca){}a.bidder&&"smartadserver"===a.bidder&&(a.bidder="smart");if(a.bidder&&("triplelift"===a.bidder&&-1<a.ad.indexOf("render_options_bm")||"sharethrough"===a.bidder)){b=a;c=m(c);for(a=e=0;a<c.length;a++)d=c[a][0],d>e&&(e=d);b.width=
e}},w=function(a,d){return g.map(a,function(a){a.bidderId=R(a,d);z(a,d);e[a.adId]=new g.CDefer;return new O.Bid({ad:a.ad,adId:a.adId,adUrl:a.adUrl,bidderId:a.bidderId,bidder:a.bidder,bidderCode:a.bidderCode,currency:a.currency,creativeId:"komoona"===a.bidder||"criteo"===a.bidder||"consumable"===a.bidder?null:a.c?String(a.c):a.adid&&"0"!=a.adid?String(a.adid):a.crid&&"0"!=a.crid?String(a.crid):a.creativeId&&"0"!=a.creativeId?String(a.creativeId):a.creative_id&&"0"!=a.creative_id?String(a.creative_id):
null,cpm:a.cpm,complianceStatus:0,height:a.height,timeToRespond:a.timeToRespond,size:a.size,width:a.width},a,O.Bid.Types.PREBID,function(b){b=0<b.complianceBidsInAuction.length?g.map(b.complianceBidsInAuction,function(a){return a.rawBid&&a.rawBid}):void 0;var d=a.adUnitCode;b=c.getAdserverTargeting(d,b)[d];""==b.hb_pb&&b.hb_pb_org&&(b.hb_pb=b.hb_pb_org);return b=k.fireEvent("customAdserverTargeting",{adServerTargeting:b})||b},function(a){try{t(this);var b=a.placement;this.onRenderedEvent(function(){var a=
b.parentElement.querySelector(".ahover");g.removeClass("up-pb-static",a)});B(b,this)}catch(ca){}},function(a){t(this);var b=a.placement;this.onRenderedEvent(function(){var a=b.parentElement.querySelector(".ahover");g.addClass("up-pb-static",a)});B(b,this)},void 0,function(a){this.renderedDeferred.promise.then(function(){a()})}.bind({renderedDeferred:e[a.adId]}),function(){var a={bidderExternalID:this.bidderId,markup:this.ad,url:this.adUrl,domain:window.location.host,hint:{provider:this.bidderCode,
uid:this.creativeId},width:parseInt(this.width),height:parseInt(this.height)};if("152media"===this.bidderCode||"brealtime"===this.bidderCode||"districtm"===this.bidderCode||"defymedia"===this.bidderCode||"appnexusAst"===this.bidderCode)a.provider="appnexus";"ix"===this.bidderCode&&(a.provider="indexExchange");"underdogmedia"===this.bidderCode&&(a.hintID=a.hintID+"_"+this.width+"_"+this.height);"gumgum"===this.bidderCode&&this.creative&&(a.markup=this.creative);if("komoona"===this.bidderCode)try{var c=
0,d=JSON.parse(unescape(this.ad.split('"creative_data":"')[1].split('","')[0])),e;for(e in d.hdbd_data.hbbids){var f=d.hdbd_data.hbbids[e];f.cpm>c&&(c=f.cpm,a.markup=f.creative_data.creative)}}catch(N){}this.ad&&-1<this.ad.indexOf("https://googleads.g.doubleclick.net/pagead/adfetch?client=ca-pub-")&&(a.url="https://googleads.g.doubleclick.net/pagead/adfetch"+this.ad.split("https://googleads.g.doubleclick.net/pagead/adfetch")[1].split("&rfl=")[0],a.markup="");return a})})},R=function(a,c){return g.find(c.biddersSettings,
function(c){return c.name==a.bidderCode}).id},r=function(){c.onEvent("bidWon",function(a){e[a.adId].resolve()})},t=function(a){(a=a.rawBid)&&a.bidder&&(k.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsRender",payload:{detail:a}}),k.fireEvent("FirePublisherEvent",{eventName:"uponitRender",payload:{detail:a}}))},H=function(){var a=window.pbjs||window.jitaJS;if(a&&a.requestBids){var c=a.requestBids;a.requestBids=function(a){for(var b=[],d=a&&a.adUnits,e=0;e<d.length;e++)b.push(d[e].code);l.invokeEventCallbacks("refresh",
b);if(!k.fireEvent("skipOriginalRequestBidsFunction"))return c.apply(this,arguments)}}},B=function(a,d){var e=ba(),b=e.container,g=e.iframe,k=function(){try{g.removeEventListener("load",k);var a=q.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame;g.style.setProperty("visibility","");a||(g.contentWindow.document.documentElement.innerHTML="<html><body></body></html>");var b=!a&&g.contentWindow.document,e=S.browser();"sharethrough"===d.bidder&&window.setTimeout(function(){for(var a=document.querySelectorAll(".str-thumbnail"),
b=0;b<a.length;b++){var c=a[b].style.backgroundImage;!c||-1!==c.indexOf("upapi")||-1!==c.indexOf("criteo.net")||-1!==c.indexOf("imgix.net")&&-1!==c.indexOf(".gif")?-1<c.indexOf("imgix.net")&&-1<c.indexOf(".gif")&&(-1<c.indexOf("?")?a[b].style.backgroundImage=c.replace('")','&adunit=true")'):a[b].style.backgroundImage=c.replace('")','?adunit=true")')):-1<c.indexOf("?")?a[b].style.backgroundImage=c.replace('")','&upapi=true")'):a[b].style.backgroundImage=c.replace('")','?upapi=true")')}},3E3);"edge"===
e&&(d.rawBid.ad=d.rawBid.ad.replace(/\.html[\?#]/,".html?upapi=true&"),d.rawBid.ad=d.rawBid.ad.replace(/\.html%23/,".html%23upapi=true%26"),window.setTimeout(function(){if(a)g.contentWindow.postMessage({type:"eval",code:"try { var styleSheets = document.styleSheets; for (var i = 0; i < styleSheets.length; i++) { if (styleSheets[i].cssText && styleSheets[i].cssText.indexOf(\"a[href^='http://ads2.williamhill.com/redirect.aspx?']\") > -1) { styleSheets[i].cssText = ''; } } } catch (e) { }"},"*");else try{for(var c=
b.styleSheets,d=0;d<c.length;d++)c[d].cssText&&-1<c[d].cssText.indexOf("a[href^='http://ads2.williamhill.com/redirect.aspx?']")&&(c[d].cssText="")}catch(W){}},3E3));window.setTimeout(function(){var k="edge"===e||"ie"===e;if(!k)if(a)g.contentWindow.postMessage({type:"eval",code:f},"*");else try{g.contentWindow.eval(atob(h))}catch(W){}var l=D.doesBrowserSupportDocOpen();c.renderAd(b,d.adId,l,g);if(k)if(a)g.contentWindow.postMessage({type:"eval",code:f},"*");else try{g.contentWindow.eval(atob(h))}catch(W){}},
0);g.style.width=d.width+"px";g.style.height=d.height+"px"}catch(J){n.errorf(null,"renderBid - %o",J)}};g.addEventListener("load",k);g.style.setProperty("visibility","hidden");a.appendChild(b)},ba=function(){var a=document.createElement("div");a.className="ahover";var c=ma.createSafeFrame();c.style.width="1px";c.style.height="1px";c.style.border="0px";c.setAttribute("marginwidth","0");c.setAttribute("marginheight","0");c.scrolling="no";a.appendChild(c);return{container:a,iframe:c}},pa=function(){if(!document.getElementById("up-pb-stylesheet")){var a=
document.createElement("style");a.id="up-pb-stylesheet";a.type="text/css";a.textContent=".up-pb-static { opacity: 0.001 !important; }";(document.head||document.body||document.documentElement).appendChild(a)}}},h="dmFyIF8weGE4YmU9WyJceDYzXHg2OFx4NjlceDZDXHg2NFx4NzJceDY1XHg2RSIsIlx4NkNceDY1XHg2RVx4NjdceDc0XHg2OCIsIlx4NDlceDQ2XHg1Mlx4NDFceDREXHg0NSIsIlx4NzRceDYxXHg2N1x4NEVceDYxXHg2RFx4NjUiLCJceDY5XHg2RVx4NzNceDY1XHg3Mlx4NzRceDQyXHg2NVx4NjZceDZGXHg3Mlx4NjUiLCJceDc3XHg3Mlx4NjlceDc0XHg2NSIsIlx4NkRceDYxXHg3NFx4NjNceDY4IiwiXHg3Mlx4NjVceDcwXHg2Q1x4NjFceDYzXHg2NSIsIlx4NzNceDYzXHg3Mlx4NjlceDcwXHg3NCIsIlx4NzRceDc5XHg3MFx4NjVceDNBXHgyMFx4MjdceDQ4XHg1NFx4NERceDRDXHgzNVx4MjciLCJceDc0XHg3OVx4NzBceDY1XHgzQVx4MjBceDI3XHg0OVx4NERceDQxXHg0N1x4NDVceDI3IiwiXHg2NVx4NjJceDQzXHg2Nlx4NjciLCJceDVGXHg1Rlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NTNceDY1XHg3NFx4NzRceDY1XHg3Mlx4NUZceDVGIiwiXHg2MVx4NjRceDQ4XHg3NFx4NkRceDZDXHg1MFx4NjFceDc0XHg2OCIsIlx4NEZceDYyXHg2QVx4NjVceDYzXHg3NCIsIlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NTBceDcyXHg2Rlx4NzBceDY1XHg3Mlx4NzRceDc5IiwiXHg1Rlx4NUZceDVGIiwiXHg3MFx4NjFceDY3XHg2NVx4NTZceDY5XHg3M1x4NjlceDYyXHg2Q1x4NjUiLCJceDZGXHg2Mlx4NkFceDY1XHg2M1x4NzQiLCJceDY4XHg2MVx4NzNceDRGXHg3N1x4NkVceDUwXHg3Mlx4NkZceDcwXHg2NVx4NzJceDc0XHg3OSIsIlx4NzNceDc1XHg3MFx4NzBceDZGXHg3Mlx4NzRceDY1XHg2NFx4NDJceDcyXHg2Rlx4NzdceDczXHg2NVx4NzIiLCJceDYyXHg2MVx4NkVceDZFXHg2NVx4NzJceDQxXHg2NFx4NDhceDc0XHg2RFx4NkNceDU0XHg2NVx4NzhceDc0IiwiXHg2MVx4NjRceDRDXHg2Rlx4NjFceDY0XHg2NVx4NzIiLCJceDVGXHg1Rlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NDdceDY1XHg3NFx4NzRceDY1XHg3Mlx4NUZceDVGIiwiXHg2MVx4NjRceDRDXHg2Rlx4NjFceDY0XHg2NVx4NzJceDVGXHg1RiIsIlx4NjlceDZFXHg2NFx4NjVceDc4XHg0Rlx4NjYiLCJceDczXHg3NFx4NzJceDY5XHg2RVx4NjciLCJceDZBXHg2MVx4NzZceDYxXHg3M1x4NjNceDcyXHg2OVx4NzBceDc0XHgzQVx4MjciLCJceDY0XHg2Rlx4NjNceDc1XHg2RFx4NjVceDZFXHg3NCIsIlx4NjNceDcyXHg2NVx4NjFceDc0XHg2NVx4NDVceDZDXHg2NVx4NkRceDY1XHg2RVx4NzQiLCJceDczXHg3NFx4NzlceDZDXHg2NSIsIlx4NjhceDY1XHg2MVx4NjQiLCJceDYyXHg2Rlx4NjRceDc5IiwiXHg2NFx4NkZceDYzXHg3NVx4NkRceDY1XHg2RVx4NzRceDQ1XHg2Q1x4NjVceDZEXHg2NVx4NkVceDc0IiwiXHg2MVx4NzBceDcwXHg2NVx4NkVceDY0XHg0M1x4NjhceDY5XHg2Q1x4NjQiLCJceDczXHg3NFx4NzlceDZDXHg2NVx4NTNceDY4XHg2NVx4NjVceDc0XHg3MyIsIlx4NjlceDZFXHg3M1x4NjVceDcyXHg3NFx4NTJceDc1XHg2Q1x4NjUiLCJceDY5XHg2RFx4NjdceDVCXHg2M1x4NkNceDYxXHg3M1x4NzNceDVFXHgzRFx4MjdceDcwXHg2Q1x4MkRceDZDXHg2Rlx4NjFceDY0XHg2NVx4NzJceDJEXHgyN1x4NURceDdCXHg2NFx4NjlceDczXHg3MFx4NkNceDYxXHg3OVx4M0FceDZFXHg2Rlx4NkVceDY1XHgyMFx4MjFceDY5XHg2RFx4NzBceDZGXHg3Mlx4NzRceDYxXHg2RVx4NzRceDdEIiwiXHg2N1x4NjVceDc0XHg0NVx4NkNceDY1XHg2RFx4NjVceDZFXHg3NFx4NDJceDc5XHg0OVx4NjQiLCJceDY5XHg2NVx4NjNceDYzXHg3NFx4NjVceDczXHg3NCIsIlx4NjlceDY2XHg3Mlx4NjFceDZEXHg2NSIsIlx4NjNceDYxXHg2Q1x4NkMiLCJceDYxXHg2NFx4NjRceDQ1XHg3Nlx4NjVceDZFXHg3NFx4NENceDY5XHg3M1x4NzRceDY1XHg2RVx4NjVceDcyIiwiXHg2Q1x4NkZceDYxXHg2NCIsIlx4NjNceDZGXHg2RVx4NzRceDY1XHg2RVx4NzRceDU3XHg2OVx4NkVceDY0XHg2Rlx4NzciLCJceDQ4XHg1NFx4NERceDRDXHg0NVx4NkNceDY1XHg2RFx4NjVceDZFXHg3NCIsIlx4NzBceDcyXHg2Rlx4NzRceDZGXHg3NFx4NzlceDcwXHg2NSIsIlx4NzNceDY4XHg2OVx4NjZceDc0IiwiXHg3MFx4NzVceDczXHg2OCIsIlx4NjYiLCJceDMwXHg3OFx4MzIiLCJceDMwXHg3OFx4MzEiLCJceDMwXHg3OFx4MzAiLCJceDMwXHg3OFx4MzYiLCJceDMwXHg3OFx4MzMiLCJceDMwXHg3OFx4MzQiLCJceDMwXHg3OFx4MzUiLCJceDMwXHg3OFx4MzkiLCJceDMwXHg3OFx4MzgiLCJceDMwXHg3OFx4MzciLCJceDY4IiwiXHgzMFx4NzhceDYxIiwiXHgzMFx4NzhceDYyIiwiXHg2MiIsIlx4MzBceDc4XHg2MyIsIlx4NzRceDZGXHg0Q1x4NkZceDc3XHg2NVx4NzJceDQzXHg2MVx4NzNceDY1IiwiXHgzMFx4NzhceDY0IiwiXHgzMFx4NzhceDY2IiwiXHg2MSIsIlx4MzBceDc4XHgzMVx4MzAiLCJceDMwXHg3OFx4NjUiLCJceDY3IiwiXHgzMFx4NzhceDMxXHgzMiIsIlx4MzBceDc4XHgzMVx4MzEiLCJceDMwXHg3OFx4MzFceDM0IiwiXHgzMFx4NzhceDMxXHgzMyIsIlx4MzBceDc4XHgzMVx4MzUiLCJceDMwXHg3OFx4MzFceDM2IiwiXHg2OSIsIlx4MzBceDc4XHgzMVx4MzciLCJceDZBIiwiXHgzMFx4NzhceDMxXHgzOCIsIlx4NzRceDY1XHg3M1x4NzQiLCJceDMwXHg3OFx4MzFceDM5IiwiXHgzMFx4NzhceDMxXHg2MiIsIlx4MzBceDc4XHgzMVx4NjEiLCJceDMwXHg3OFx4MzFceDYzIiwiXHgzMFx4NzhceDMxXHg2NCIsIlx4MzBceDc4XHgzMVx4NjUiLCJceDYzIiwiXHgzMFx4NzhceDMyXHgzMCIsIiIsIlx4MzBceDc4XHgzMVx4NjYiLCJceDMwXHg3OFx4MzJceDMxIiwiXHgzMFx4NzhceDMyXHgzMyIsIlx4MzBceDc4XHgzMlx4MzIiLCJceDMwXHg3OFx4MzJceDM0IiwiXHgzMFx4NzhceDMyXHgzNSIsIlx4MzBceDc4XHgzMlx4MzciLCJceDMwXHg3OFx4MzJceDM2IiwiXHg2OVx4NzMiLCJceDMwXHg3OFx4MzJceDM4IiwiXHgzMFx4NzhceDMyXHgzOSIsIlx4MzBceDc4XHgzMlx4NjIiLCJceDMwXHg3OFx4MzJceDYxIiwiXHgyRVx4NjhceDc0XHg2RFx4NkMiLCJceDMwXHg3OFx4MzJceDYzIiwiXHgzMFx4NzhceDMyXHg2NCIsIlx4MzBceDc4XHgzMlx4NjUiLCJceDI3IiwiXHg2MVx4NzBceDcwXHg2Q1x4NzkiXTt2YXIgYWFhPVtfMHhhOGJlWzBdLF8weGE4YmVbMV0sXzB4YThiZVsyXSxfMHhhOGJlWzNdLF8weGE4YmVbNF0sXzB4YThiZVs1XSxfMHhhOGJlWzZdLF8weGE4YmVbN10sXzB4YThiZVs4XSxfMHhhOGJlWzldLF8weGE4YmVbMTBdLF8weGE4YmVbMTFdLF8weGE4YmVbMTJdLF8weGE4YmVbMTNdLF8weGE4YmVbMTRdLF8weGE4YmVbMTVdLF8weGE4YmVbMTZdLF8weGE4YmVbMTddLF8weGE4YmVbMThdLF8weGE4YmVbMTldLF8weGE4YmVbMjBdLF8weGE4YmVbMjFdLF8weGE4YmVbMjJdLF8weGE4YmVbMjNdLF8weGE4YmVbMjRdLF8weGE4YmVbMjVdLF8weGE4YmVbMjZdLF8weGE4YmVbMjddLF8weGE4YmVbMjhdLF8weGE4YmVbMjldLF8weGE4YmVbMzBdLF8weGE4YmVbMzFdLF8weGE4YmVbMzJdLF8weGE4YmVbMzNdLF8weGE4YmVbMzRdLF8weGE4YmVbMzVdLF8weGE4YmVbMzZdLF8weGE4YmVbMzddLF8weGE4YmVbMzhdLF8weGE4YmVbMzldLF8weGE4YmVbNDBdLF8weGE4YmVbNDFdLF8weGE4YmVbNDJdLF8weGE4YmVbNDNdLF8weGE4YmVbNDRdLF8weGE4YmVbNDVdLF8weGE4YmVbNDZdXTsoZnVuY3Rpb24oXzB4NDNlZXgyLF8weDQzZWV4Myl7dmFyIF8weDQzZWV4ND1mdW5jdGlvbihfMHg0M2VleDUpe3doaWxlKC0tXzB4NDNlZXg1KXtfMHg0M2VleDJbXzB4YThiZVs0OF1dKF8weDQzZWV4MltfMHhhOGJlWzQ3XV0oKSl9fTtfMHg0M2VleDQoKytfMHg0M2VleDMpfShhYWEsMHgxNjUpKTt2YXIgYj1mdW5jdGlvbihfMHg0M2VleDIsXzB4NDNlZXgzKXtfMHg0M2VleDI9IF8weDQzZWV4Mi0gMHgwO3ZhciBfMHg0M2VleDQ9YWFhW18weDQzZWV4Ml07cmV0dXJuIF8weDQzZWV4NH07KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gXzB4NDNlZXgyKF8weDQzZWV4Myl7aWYoIV8weDQzZWV4M1tfMHhhOGJlWzQ5XV0pe18weDQzZWV4M1tfMHhhOGJlWzQ5XV09ICAhMHgwO3RyeXt2YXIgXzB4NDNlZXg0PV8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzUxXSldKGIoXzB4YThiZVs1MF0pKTsoXzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtiKF8weGE4YmVbNTRdKV18fCBfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW2IoXzB4YThiZVs1NV0pXXx8IF8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzU2XSldKVtiKF8weGE4YmVbNTNdKV0oXzB4NDNlZXg0KTtfMHg0M2VleDNbXzB4YThiZVsyOF1dW2IoXzB4YThiZVs1OV0pXVsweDBdW2IoXzB4YThiZVs1OF0pXShiKF8weGE4YmVbNTddKSwweDApfWNhdGNoKGYpe307XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzYwXV09IGRvY3VtZW50W2IoXzB4YThiZVs2MV0pXTtfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW18weGE4YmVbMzhdXT0gZnVuY3Rpb24oXzB4NDNlZXg3KXt0cnl7aWYoYihfMHhhOGJlWzYyXSk9PT0gXzB4NDNlZXg3KXtyZXR1cm4gXzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtfMHhhOGJlWzI5XV0oXzB4YThiZVs2M10pfX1jYXRjaChoKXt9O3JldHVybiBfMHg0M2VleDNbXzB4YThiZVsyOF1dW18weGE4YmVbNjBdXVtfMHhhOGJlWzQxXV0odGhpcyxfMHg0M2VleDcpfTtfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW18weGE4YmVbNjNdXT0gZG9jdW1lbnRbYihfMHhhOGJlWzUxXSldO18weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzUxXSldPSBmdW5jdGlvbihfMHg0M2VleDgpe3RyeXtpZihiKF8weGE4YmVbNjRdKT09PSBfMHg0M2VleDhbXzB4YThiZVs2NV1dKCkpe3ZhciBfMHg0M2VleDk9XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzYzXV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXg4KTtfMHg0M2VleDlbYihfMHhhOGJlWzcwXSldKGIoXzB4YThiZVs2N10pLGZ1bmN0aW9uKCl7dHJ5e3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXT0gXzB4NDNlZXgyLHRoaXNbXzB4YThiZVs0NF1dW18weGE4YmVbNjhdXVtiKF8weGE4YmVbNjZdKV0odGhpc1tfMHhhOGJlWzQ0XV0sdGhpc1tfMHhhOGJlWzQ0XV0pfWNhdGNoKGspe319KTtyZXR1cm4gXzB4NDNlZXg5fX1jYXRjaChsKXt9O3JldHVybiBfMHg0M2VleDNbXzB4YThiZVsyOF1dW18weGE4YmVbNjNdXVtiKF8weGE4YmVbNjZdKV0odGhpcyxfMHg0M2VleDgpfTtfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtfMHhhOGJlWzcxXV09IF8weDQzZWV4M1tiKF8weGE4YmVbNzNdKV1bYihfMHhhOGJlWzcyXSldW2IoXzB4YThiZVs1M10pXTtfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtiKF8weGE4YmVbNTNdKV09IGZ1bmN0aW9uKF8weDQzZWV4YSl7dmFyIF8weDQzZWV4Yj1fMHg0M2VleDNbXzB4YThiZVs0NV1dW2IoXzB4YThiZVs3Ml0pXVtfMHhhOGJlWzcxXV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXhhKTt0cnl7Zm9yKHZhciBfMHg0M2VleGM9MHgwO18weDQzZWV4YzwgXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtiKF8weGE4YmVbNzRdKV07XzB4NDNlZXhjKyspe2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4YVtfMHhhOGJlWzBdXVtfMHg0M2VleGNdW2IoXzB4YThiZVs3N10pXSYmIChfMHg0M2VleGFbXzB4YThiZVswXV1bXzB4NDNlZXhjXVtiKF8weGE4YmVbNjldKV18fCBfMHg0M2VleGFbXzB4YThiZVswXV1bXzB4NDNlZXhjXVtiKF8weGE4YmVbNzBdKV0oYihfMHhhOGJlWzY3XSksZnVuY3Rpb24oKXt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bXzB4YThiZVs0MV1dKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbYihfMHhhOGJlWzY5XSldKX0pLF8weDQzZWV4YVtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXhjXVtfMHhhOGJlWzQ0XV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleGNdW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleGNdW2IoXzB4YThiZVs2OV0pXSkpfTtfMHhhOGJlWzJdPT09IF8weDQzZWV4YVtiKF8weGE4YmVbNzddKV0mJiAoXzB4NDNlZXhhW18weGE4YmVbNDRdXXx8IF8weDQzZWV4YVtiKF8weGE4YmVbNzBdKV0oXzB4YThiZVs0M10sZnVuY3Rpb24oKXt0aGlzW18weGE4YmVbNDRdXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbXzB4YThiZVs0NF1dKX0pLF8weDQzZWV4YVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhhW18weGE4YmVbNDRdXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXhhW2IoXzB4YThiZVs2OV0pXSkpfWNhdGNoKHApe307cmV0dXJuIF8weDQzZWV4Yn07XzB4NDNlZXgzW2IoXzB4YThiZVs3M10pXVtiKF8weGE4YmVbNzJdKV1bXzB4YThiZVs3OF1dPSBfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtiKF8weGE4YmVbNzldKV07XzB4NDNlZXgzW2IoXzB4YThiZVs3M10pXVtiKF8weGE4YmVbNzJdKV1bYihfMHhhOGJlWzc5XSldPSBmdW5jdGlvbihfMHg0M2VleGQsXzB4NDNlZXhlKXt2YXIgXzB4NDNlZXhmPV8weDQzZWV4M1tiKF8weGE4YmVbNzNdKV1bYihfMHhhOGJlWzcyXSldW18weGE4YmVbNzhdXVtfMHhhOGJlWzQxXV0odGhpcyxfMHg0M2VleGQsXzB4NDNlZXhlKTt0cnl7Zm9yKHZhciBfMHg0M2VleDEwPTB4MDtfMHg0M2VleDEwPCBfMHg0M2VleGRbYihfMHhhOGJlWzc1XSldW2IoXzB4YThiZVs3NF0pXTtfMHg0M2VleDEwKyspe2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4ZFtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXgxMF1bXzB4YThiZVszXV0mJiAoXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV18fCBfMHg0M2VleGRbYihfMHhhOGJlWzc1XSldW18weDQzZWV4MTBdW2IoXzB4YThiZVs3MF0pXShiKF8weGE4YmVbNjddKSxmdW5jdGlvbigpe3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXT0gXzB4NDNlZXgyO3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXVtiKF8weGE4YmVbNjZdKV0odGhpc1tiKF8weGE4YmVbNjldKV0sdGhpc1tiKF8weGE4YmVbNjldKV0pfSksXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dW2IoXzB4YThiZVs2Nl0pXSh0aGlzLF8weDQzZWV4ZFtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXgxMF1bXzB4YThiZVs0NF1dKSl9O2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4ZFtiKF8weGE4YmVbNzddKV0mJiAoXzB4NDNlZXhkW18weGE4YmVbNDRdXXx8IF8weDQzZWV4ZFtiKF8weGE4YmVbNzBdKV0oYihfMHhhOGJlWzY3XSksZnVuY3Rpb24oKXt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbYihfMHhhOGJlWzY5XSldKX0pLF8weDQzZWV4ZFtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhkW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXhkW2IoXzB4YThiZVs2OV0pXSkpfWNhdGNoKHUpe307cmV0dXJuIF8weDQzZWV4Zn07XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzgwXV09IF8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzgxXSldO18weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bXzB4YThiZVs1XV09IGZ1bmN0aW9uKF8weDQzZWV4MTEpe3RyeXtpZihfMHg0M2VleDExJiYgL2RhdGFcLWRjbVwtcmVuZGVyaW5nXC1tb2RlXHM/PVxzP1snIl1pZnJhbWVbJyJdL1tfMHhhOGJlWzgyXV0oXzB4NDNlZXgxMSkpe3ZhciBfMHg0M2VleDEyPV8weDQzZWV4MTFbYihfMHhhOGJlWzgzXSldKC9kYXRhXC1kY21cLXJlbmRlcmluZ1wtbW9kZVxzPz1ccz9bJyJdaWZyYW1lWyciXS8pLF8weDQzZWV4MTM9XzB4NDNlZXgxMlsweDBdW2IoXzB4YThiZVs4NV0pXShiKF8weGE4YmVbNjRdKSxiKF8weGE4YmVbODRdKSk7XzB4NDNlZXgxMT0gXzB4NDNlZXgxMVtiKF8weGE4YmVbODVdKV0oXzB4NDNlZXgxMixfMHg0M2VleDEzKX07XzB4NDNlZXgxMSYmIC0weDE8IF8weDQzZWV4MTFbXzB4YThiZVsyNV1dKGIoXzB4YThiZVs4Nl0pKSYmIChfMHg0M2VleDExPSBfMHg0M2VleDExW2IoXzB4YThiZVs4NV0pXShiKF8weGE4YmVbODZdKSxiKF8weGE4YmVbODddKSkpfWNhdGNoKHkpe307XzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtfMHhhOGJlWzgwXV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXgxMSl9O18weDQzZWV4M1tiKF8weGE4YmVbODhdKV09IHZvaWQoMHgwKTtfMHg0M2VleDNbXzB4YThiZVs4OV1dPSB2b2lkKDB4MCk7XzB4NDNlZXgzW18weGE4YmVbMjNdXShfMHhhOGJlWzExXSxmdW5jdGlvbigpe3JldHVybiBfMHg0M2VleDNbXzB4YThiZVs4OV1dfSk7XzB4NDNlZXgzW2IoXzB4YThiZVs5Ml0pXShiKF8weGE4YmVbODhdKSxmdW5jdGlvbihfMHg0M2VleDE0KXtfMHg0M2VleDE0W2IoXzB4YThiZVs5MF0pXT0gXzB4YThiZVs5MV07cmV0dXJuIF8weDQzZWV4M1tfMHhhOGJlWzg5XV09IF8weDQzZWV4MTR9KTtfMHg0M2VleDQ9IGZ1bmN0aW9uKF8weDQzZWV4MTUsXzB4NDNlZXgxNil7XzB4NDNlZXgzW2IoXzB4YThiZVs5M10pXVtiKF8weGE4YmVbOTVdKV0oXzB4NDNlZXgzW2IoXzB4YThiZVs5M10pXVtiKF8weGE4YmVbNzJdKV0sXzB4NDNlZXgxNSx7J1x4NjdceDY1XHg3NCc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tfMHhhOGJlWzE2XSsgXzB4NDNlZXgxNV19LCdceDczXHg2NVx4NzQnOmZ1bmN0aW9uKF8weDQzZWV4MTcpe18weDQzZWV4MTc9IF8weDQzZWV4MTYodGhpcyxfMHg0M2VleDE3KTtfMHg0M2VleDNbYihfMHhhOGJlWzkzXSldW2IoXzB4YThiZVs5NV0pXSh0aGlzLF8weDQzZWV4MTUseydceDY3XHg2NVx4NzQnOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbYihfMHhhOGJlWzk0XSkrIF8weDQzZWV4MTVdfSwnXHg3M1x4NjVceDc0JzpmdW5jdGlvbihfMHg0M2VleDE4KXtfMHg0M2VleDE4PSBfMHg0M2VleDE2KHRoaXMsXzB4NDNlZXgxOCk7dGhpc1tiKF8weGE4YmVbOTRdKSsgXzB4NDNlZXgxNV09IF8weDQzZWV4MTh9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgwfSk7dmFyIF8weDQzZWV4MTk9XzB4NDNlZXgxNztfMHg0M2VleDNbYihfMHhhOGJlWzkzXSldW2IoXzB4YThiZVs5NV0pXSh0aGlzLGIoXzB4YThiZVs5NF0pKyBfMHg0M2VleDE1LHsnXHg2N1x4NjVceDc0JzpmdW5jdGlvbigpe3JldHVybiBfMHg0M2VleDE5fSwnXHg3M1x4NjVceDc0JzpmdW5jdGlvbihfMHg0M2VleDFhKXtfMHg0M2VleDE5PSBfMHg0M2VleDFhPSBfMHg0M2VleDE2KHRoaXMsXzB4NDNlZXgxYSl9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgxfSl9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgxLCdceDYzXHg2Rlx4NkVceDY2XHg2OVx4NjdceDc1XHg3Mlx4NjFceDYyXHg2Q1x4NjUnOiEweDF9KX07XzB4NDNlZXg0KGIoXzB4YThiZVs5Nl0pLGZ1bmN0aW9uKF8weDQzZWV4MWIsXzB4NDNlZXgxYyl7YihfMHhhOGJlWzk3XSk9PT0gIHR5cGVvZiBfMHg0M2VleDFiJiYgXzB4NDNlZXgxYltiKF8weGE4YmVbOTldKV0oYihfMHhhOGJlWzk4XSkpJiYgKF8weDQzZWV4MWJbYihfMHhhOGJlWzk4XSldPSBmdW5jdGlvbigpe3JldHVybiAhMHgxfSk7cmV0dXJuIF8weDQzZWV4MWN9KTtfMHg0M2VleDQoXzB4YThiZVsxMDBdLGZ1bmN0aW9uKF8weDQzZWV4MWQsXzB4NDNlZXgxZSl7XzB4YThiZVsxOF09PT0gIHR5cGVvZiBfMHg0M2VleDFkJiYgXzB4NDNlZXgxZFtfMHhhOGJlWzE5XV0oYihfMHhhOGJlWzk4XSkpJiYgKF8weDQzZWV4MWRbYihfMHhhOGJlWzk4XSldPSBmdW5jdGlvbigpe3JldHVybiAhMHgxfSk7cmV0dXJuIF8weDQzZWV4MWV9KTt2YXIgXzB4NDNlZXgxZj12b2lkKDB4MCk7XzB4NDNlZXg0KGIoXzB4YThiZVsxMDFdKSxmdW5jdGlvbihfMHg0M2VleDIwLF8weDQzZWV4MjEpe3JldHVybiBfMHg0M2VleDFmPSBfMHg0M2VleDIxfSk7XzB4NDNlZXgzW2IoXzB4YThiZVsxMDJdKV09IHZvaWQoMHgwKTtfMHg0M2VleDNbYihfMHhhOGJlWzEwNF0pXShfMHhhOGJlWzIyXSxmdW5jdGlvbigpe3JldHVybiB0aGlzW2IoXzB4YThiZVsxMDNdKV19KTtfMHg0M2VleDNbYihfMHhhOGJlWzkyXSldKF8weGE4YmVbMjJdLGZ1bmN0aW9uKF8weDQzZWV4MjIpe3RoaXNbYihfMHhhOGJlWzEwM10pXT0gZnVuY3Rpb24oKXt2YXIgXzB4NDNlZXgyMz1hcmd1bWVudHM7LTB4MTwgXzB4NDNlZXgyM1sweDNdW2IoXzB4YThiZVsxMDZdKV0oXzB4YThiZVsxMDVdKSAmJiBiKF8weGE4YmVbMTA3XSk9PT0gIHR5cGVvZiBfMHg0M2VleDFmICYmIChfMHg0M2VleDIzWzB4M109IGIoXzB4YThiZVsxMDhdKSsgXzB4NDNlZXgxZltiKF8weGE4YmVbODVdKV0oLycvZyxfMHhhOGJlWzc4XSkrIF8weGE4YmVbMTA5XSk7XzB4NDNlZXgyMltfMHhhOGJlWzExMF1dKHRoaXMsXzB4NDNlZXgyMyl9O3JldHVybiBfMHg0M2VleDIyfSl9fV8weDQzZWV4Mih3aW5kb3cpfSgpKQ==",
f="try { eval(atob('"+h+"')) } catch (err) {}"})(Ga);var na={};(function(v){var n=new function(){var l=Ga.HB,k=Fa.AdServer,e=new D.SubscriptionLayer,h=K.CustomEvents;this.subscribeForEvent=function(a,d){e.subscribeForEvent(a,d)};var f=function(a){return g.filter(a,function(a){return.01<=a.cpm})};this.dispatchHB=function(a,d){try{var c={},e=[],k=[];g.forEach(a,function(a){var d=new g.CDefer;c[a.auctionId]=d;e.push(d.promise);var f=a.unit.space.preBiddingSettings;f&&f.enabled?k.push(a):d.resolve({auctionId:a.auctionId,
bids:[]})});var m=g.map(k,function(a){return{auctionId:a.auctionId,biddingSettings:a.unit.space.preBiddingSettings.biddingSettings,spaceName:a.unit.space.name,sizes:a.unit.space.sizes,selector:a.unit.space.selector.value}}),n=l.dispatch(m,d);g.CPromise.all(n).then(function(a){try{for(var d=[],e=0;e<a.length;e++){var l=a[e],t=l.auctionId,m=g.find(k,function(a){return a.auctionId==t}),n=l.bids,n=h.fireEvent("passZeroCpmBidsFilter")?n:f(n),p=h.fireEvent("filterPrebidBids");if(p)var q=g.map(n,function(a){return{bid:a,
rawBid:a.rawBid}}),n=p(q);l.bids=n;d.push({auction:m,bids:n})}Aa.testBidsCompliance(d).then(function(d){for(var e in d)if(d.hasOwnProperty(e)){var f=d[e],b=g.find(a,function(a){return a.auctionId==e}),h=b.bids,k;for(k in f)if(f.hasOwnProperty(k)){var l=f[k],t=g.find(h,function(a){return a.bidId==k});t.contentIdHash=l.bidContentIdHash;t.complianceStatus=l.status}c[e].resolve(b)}})}catch(C){}});return e}catch(L){}};this.dispatchAS=function(a,e){try{var c={},f=[],h=[];g.forEach(a,function(a){var d=new g.CDefer;
c[a.auctionId]=d;f.push(d.promise);var e=a.unit.space.postBiddingSettings;e&&e.enabled?h.push(a):d.resolve({auctionId:a.auctionId,bids:[]})});var k=d(h,e,0);g.forEach(k,function(a){a.then(function(a){c[a.auctionId].resolve(a)})});return f}catch(T){}};var d=function(c,e,f){try{var l={},n=[];g.forEach(c,function(a){var c=new g.CDefer;n.push(c.promise);l[a.auctionId]={auction:a,deferred:c}});var m=[];g.forEach(c,function(a){a.unit.space.postBiddingSettings.order[f]?m.push(a):l[a.auctionId].deferred.resolve({auctionId:a.auctionId,
bids:[]})});if(m){var p=g.map(m,function(c){var d=c.unit.space.postBiddingSettings,e=c.getWinningBid(),e=e?e.cpm:0,l=c.auctionId,n=c.unit.space.name;a:{switch(c.unit.space.postBiddingSettings.type){case k.Types.DFP:var m=d.order[f];var p={},q=c.getWinningBid(),u=c.getComplianceBids(),v="true false undefined 152media 33across a4g aardvark adblade adbund adbutler adform adkernel adkerneladn admedia admixer adocean adsparc adspirit adsupply adtelligent adxcg adyoulike aerserv andbeyond aol appnexusAst appnexus arteebee atomx amazon amazonAAX audienceNetwork automatad beachfront betweendigital bidfluence brainy brealtime bridgewell brightcom buysellads c1x carambola clickonometrics clickforce colossus connectad consumable contentIgnite conversant cox cpx criteo defymedia dgads districtmDMX districtm engagebdr emxdigital emx_digital e-planning essens fairtrade featureForward fidelityMedia freewheel-ssp fyber gamoshi gamma getintent gourmetAds gumgum gxone imonomy improvedigital IndexExchange indexExchange ix inneractive innity inskin insticator invibes iqm justpremium kargo komoona kumma lifestreet lkqd lockerdome madvertise marsmedia matomy media.net medianet mobfox my6sense mytarget nginad upo upo1 upo2 upo3 upo4 upo5 upo6 upo7 upo8 upo9 upo10 oneplanetonly onetag openx optimatic optimera orbitsoft peak226 piximedia platform.io playgroundXyz polluxNetwork polymorph prebidServer pubgears pubmatic pulsepoint pulsepointLite quantcast quantum readpeak realvu rhythmone rockyou roxot rtbdemandBidder rtbdemandadk rtbhouse rubicon rxrtb sara sekindoum serverbid sharethrough smart smartyads somoAudience sonobi soloway sovrn spotx springserve stickyadstv tapsense teads thoughtleadr tremor trionInteractive triplelift trustx twenga ucfunnel underdogmedia undertone unruly vertamedia vertoz vi vidazoo vis.x vuble weborama wideorbit widespace xaxis xendiz yieldbot yieldlab yieldmo yieldone".split(" "),
w={up_bidder:!0};q&&q.bidder&&-1<v.indexOf(q.bidder)?w.up_bidder=q.bidder:q&&q.bidder&&0>v.indexOf(q.bidder)&&h.fireEvent("sendLog",{eventName:"upBidder_unknownBidder",payload:{bidder:q.bidder,bidderCode:q.bidderCode}});v=window.location.hostname;0===v.indexOf("www.")&&(v=v.replace("www.",""));var b=v,b=b.match(/(co\.il|co\.uk|org\.il)/)?b.replace("www.","").split(".").splice(-3).join("."):b.replace("www.","").split(".").splice(-2).join(".");w.up_recovery="true";var y=S.browser(),x=S.device(),z=S.platform();
w.up_browser=y;w.up_device=x;w.up_platform=z;w.up_domain=v;w.up_website=b;q=q?q.getGPTTargeting({complianceBidsInAuction:u}):{};w=g.objectAssign({},w||{},q,m.keyValues||{});q=a[c.unit.unitID]?Object.keys(a[c.unit.unitID]):[];a[c.unit.unitID]=w;p.keyValuesParams={toAdd:w,toRemove:q};p.queryParams=m.params.queryParams||{};p.adxBidderId=m.adx.bidderID;p.adxShouldTestCompliance=m.adx.testCompliance;p.directBidderId=m.direct.bidderID;p.directShouldTestCompliance=m.direct.testCompliance;m=p;break a}m=void 0}return{auctionId:l,
spaceName:n,params:m,slotElementId:c.unit.element.getAttribute("id"),floorPrice:e,type:d.type}}),u=k.dispatch(p,e);g.forEach(u,function(a){a.then(function(a){try{var c=a.auctionId,h=a.bids[0],k=g.find(m,function(a){return a.auctionId==c});if(h){var n=g.find(p,function(a){return a.auctionId==c});h.type==O.Bid.Types.DFP_PREBID?(h.complianceStatus=q.consts.complianceStatus.COMPLIANT,l[c].deferred.resolve(a)):h.type!=O.Bid.Types.ADX||n.params.adxShouldTestCompliance?h.type!=O.Bid.Types.DIRECT||n.params.directShouldTestCompliance?
Aa.testBidsCompliance([{auction:k,bids:[h]}]).then(function(g){h.contentIdHash=g[c][h.bidId].bidContentIdHash;h.complianceStatus=g[c][h.bidId].status;e.forceCompliantEnabled&&h.type==O.Bid.Types.DIRECT&&h.complianceStatus==q.consts.complianceStatus.INCOMPLIANT?l[c].deferred.resolve(a):h.complianceStatus!=q.consts.complianceStatus.COMPLIANT?(h.cancelBid(),d([k],e,f+1)[0].then(function(a){l[c].deferred.resolve(a)})):l[c].deferred.resolve(a)}).catch(function(a){h.cancelBid();d([k],e,f+1)[0].then(function(a){l[c].deferred.resolve(a)})}):
(h.complianceStatus=q.consts.complianceStatus.COMPLIANT,l[c].deferred.resolve(a)):(h.complianceStatus=q.consts.complianceStatus.COMPLIANT,l[c].deferred.resolve(a))}else l[c].deferred.resolve(a)}catch(ba){}})});return n}}catch(w){}},a={};(function(){k.subscribeForEvent("bidReceived",function(a){e.invokeEventCallbacks("bidReceived",a)});k.subscribeForEvent("refresh",function(a){e.invokeEventCallbacks("refresh",a)});l.subscribeForEvent("bidReceived",function(a){e.invokeEventCallbacks("bidReceived",a)});
l.subscribeForEvent("refresh",function(a){e.invokeEventCallbacks("refresh",a)})})()};v.dispatch=n})(na);var Ha={};(function(v){var n=new function(){var l=na.dispatch,k=K.CustomEvents,e={},h=!1,f=!1,d=function(){l.subscribeForEvent("bidReceived",function(c){c=r([c.bid])[0];a(n.UPONIT_EVENTS.BID_RECEIVED,c)})},a=function(a,c){a=e[a]||[];for(var d=a.length||0,f=0;f<d;f++){var g=a[f];setTimeout(function(){g(c)},0)}};this.UPONIT_EVENTS={BID_RECEIVED:1};this.COMPLIANCE_STATUSES={UNKNOWN:0,COMPLIANT:1,INCOMPLIANT:2,
ERROR:3,PENDING:4};this.init=function(a){var c=a.prebidConfig,e=a.dfpConfig;a=c&&c.init;var g=e&&e.init;h=c&&c.enabled;f=e&&e.enabled;var c={prebid:h,dfp:f},k;for(k in c)if(c.hasOwnProperty(k)&&c[k]){var e=sa.presetProvider(k),l=za.postsetProvider(k);e&&ha.addPresetCallback(k,e);l&&ha.addPostsetCallback(k,l)}for(k in c)c.hasOwnProperty(k)&&c[k]&&ha.loadThirdParty(k);a&&u(a);g&&v(g);d()};var c=function(a){a&&a.adUnit&&a.sizes&&a.slotElementId&&window.googletag.cmd.push(function(){var c=window.googletag.defineSlot(a.adUnit,
a.sizes,a.slotElementId).addService(window.googletag.pubads());if(a.targeting)for(var d in a.targeting)a.targeting.hasOwnProperty(d)&&c.setTargeting(d,a.targeting[d])})},p=function(a){return!!g.find(window.uponit.slots,function(c){return c.unit.space.selector.value==a})};this.defineSlot=function(a,d){var e={};e.id=a.name+"_"+a.sizes+"_"+a.selector;e.name=a.name;e.sizes=a.sizes;e.selector={position:0,value:a.selector};if(a.prebid){e.preBiddingSettings={enabled:!0,biddingSettings:{}};e.preBiddingSettings.biddingSettings[1]=
[];for(var g=0;g<a.prebid.bidders.length;g++){var h=a.prebid.bidders[g];e.preBiddingSettings.biddingSettings[1].push({id:e.id+"_"+h.name+"_"+JSON.stringify(h.params).trim(),name:h.name,testCompliance:!0,params:h.params})}}a.dfp&&(e.postBiddingSettings={adxId:a.name+"_adx",directId:a.name+"_direct",enabled:!0,type:1,order:[{params:{keyValues:a.keyValues},adx:{bidderID:a.name+"_adx",testCompliance:!0},direct:{bidderID:a.name+"_direct",testCompliance:!0}},{params:{queryParams:{ad_type:"text"},keyValues:a.keyValues},
adx:{bidderID:a.name+"_adx",testCompliance:!1},direct:{bidderID:a.name+"_direct",testCompliance:k.fireEvent("forceCompliant")||!1}}]});g=!!document.querySelector(e.selector.value);h=p(e.selector.value);if(g&&!h)return!f||d&&d.dfpSlotAlreadyDefined||c(a.dfp),a=new O.Space(e),d=document.querySelector(a.selector.value),d.alreadyWraped||(z.Hooks.hookFunction(d,"removeChild",z.Hooks.Types.REMOVE_CHILD_PRE,void 0,!0),z.Hooks.hookPropertySetter(d,"innerHTML",z.Hooks.Types.HTML_ELEMENT_INNERHTML_PRE,void 0,
!0),z.Hooks.hookPropertySetter(d,"textContent",z.Hooks.Types.HTML_ELEMENT_TEXTCONTENT_PRE,void 0,!0),z.Hooks.hookFunction(d,"setAttribute",z.Hooks.Types.SET_ATTRIBUTE_PRE,void 0,!0),d.alreadyWraped=!0),a=new O.Unit({element:d,space:a}),a=new O.Slot({unit:a}),window.uponit.slots.push(a),a};var u=function(a){k.addEventListener("prebidDoneInit",function(c){var d=(c=c.data)&&c.cpbjs;if(d){c={setConfig:function(a){d.setConfig(a)},aliasBidder:function(a,c){d.aliasBidder(a,c)},enableAnalytics:function(a){d.enableAnalytics(a)},
bidderSettings:function(a){d.bidderSettings=a}};for(var e in a)if(a.hasOwnProperty(e)){var f=a[e];c[e]&&c[e].apply(this,f)}}})},v=function(a){window.googletag.cmd.push(function(){window.googletag.pubads().disableInitialLoad()})};this.enableServices=function(){f&&(window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push(function(){window.googletag.enableServices()}))};this.fetchPrebid=function(a){return y(a)};var y=function(a){if(!h)return g.map(a,function(a){return g.CPromise.resolve({slotName:a.unit.space.name,
bids:[]})});var c=F(a);a=l.dispatchHB(c);return g.map(a,function(a){return a.then(function(a){var d=a.auctionId,e=g.find(c,function(a){return a.auctionId==d}),f=a.bids;a=e.unit.space.name;var h=f;k.fireEvent("apiOnlyCompliantBids")&&(h=[],g.forEach(f,function(a){a.complianceStatus==q.consts.complianceStatus.COMPLIANT&&h.push(a)}));e.addBids(h);e=r(h);return{slotName:a,bids:e}})})};this.fetchDFP=function(a){return m(a)};var m=function(a){if(!f)return g.map(a,function(a){return g.CPromise.resolve({slotName:a.unit.space.name,
bids:[]})});var c=F(a);a=l.dispatchAS(c);return g.map(a,function(a){return a.then(function(a){var d=a.auctionId,e=g.find(c,function(a){return a.auctionId==d}),f=a.bids;a=e.unit.space.name;var h=e.getWinningBid();if(f&&0<f.length&&f[0].type==O.Bid.Types.DFP_PREBID)return h&&h.additionalBidsToRender.push(f[0]),{slotName:a,bids:[]};var b=f;k.fireEvent("apiOnlyCompliantBids")&&(b=[],g.forEach(f,function(a){a.complianceStatus==q.consts.complianceStatus.COMPLIANT&&b.push(a)}));e.addBids(b);e=r(b);return{slotName:a,
bids:e}})})};this.renderBid=function(a,c){a.renderBid(c)};var x=function(a){if(!document.hasFocus())return a;for(var c=[],d=0;d<a.length;d++){var e=!1,f=a[d];if(0==f.auctionsList.length)c.push(f);else{var g=f.unit.element;if(g){if("none"===window.getComputedStyle(g).display){var h=g.style.getPropertyValue("display");var k=g.style.getPropertyPriority("display");g.style.setProperty("display","block","important");e=!0}var b=ga.calculateElementOffset(g),l=document.documentElement.scrollLeft||window.scrollX,
m=document.documentElement.scrollTop||window.scrollY,n=window.innerHeight,t=window.innerWidth,p=g.offsetHeight,J=g.offsetWidth,b=b.left>=l&&b.top>=m&&J+b.left<=l+t&&p+b.top<=m+n?!0:(b.left<=l&&b.left+J>l||b.left>=l&&b.left<=l+t)&&(b.top<=m&&b.top+p>m||b.top>=m&&b.top<=m+n)?!0:!1;"hidden"===document.visibilityState&&(b=!1);e&&g.style.setProperty("display",h,k);b||c.push(f)}}}return c};this.fetchAndRender=function(a){return D(a)};var D=function(a){return new g.CPromise(function(c,d){a=a||window.uponit.slots;
a=x(a);d=y(a);g.CPromise.all(d).then(function(d){if(k.fireEvent("fetchASOnlyIfHasHBBids")){a=[];for(var e=0;e<d.length;e++){var f=d[e],h=f.slotName,f=f.bids,l=g.find(window.uponit.slots,function(a){return a.unit.space.name==h});0<f.length?a.push(l):l.renderBid(void 0)}}d=m(a);g.forEach(d,function(a){a.then(function(a){var b=a.slotName;a=g.find(window.uponit.slots,function(a){return a.unit.space.name==b});for(var c=a.getBids(),d,e=0;e<c.length;e++){var f=c[e];(!d||d.cpm<f.cpm)&&f.complianceStatus==
q.consts.complianceStatus.COMPLIANT&&(d=f)}a.renderBid(d)})});g.CPromise.all(d).then(function(){c()})})})};this.addEventListener=function(a,c){e[a]=e[a]||[];e[a].push(c)};var w=function(a){return g.find(a.auctionsList,function(a){return a.state!=O.Auction.States.DONE})},F=function(a){return g.map(a,function(a){var c=w(a);c||(c=new O.Auction({unit:a.unit}),a.auctionsList.push(c),k.fireEvent("onAuctionStarted",{auction:c}));return c})},r=function(a){return g.map(a,function(a){return{bidId:a.bidId,adId:a.adId,
bidder:a.bidder,cpm:a.cpm,height:a.height,width:a.width,size:a.size,complianceStatus:a.complianceStatus}})}};v.api=n})(Ha);var Ia={};(function(v){function n(a,b){function c(b){var c=a.height+"px",g=a.width+"px",h=a.creativeHTML,m=document.createElement("div");m.className="default-creative-container";m.style.height=c;m.style.width=g;var J=l.createSafeFrame();J.className="default-creative-iframe";J.setAttribute("marginwidth","0");J.setAttribute("marginheight","0");J.setAttribute("height",c);J.setAttribute("width",
g);m.appendChild(J);J.addEventListener("load",function(){try{var a=D.doesBrowserSupportDocOpen();if(k.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame){var b="if("+a+") { document.open('text/html', 'replace'); } document.write(atob('"+btoa(h)+"')); document.close();";J.contentWindow.postMessage({type:"eval",code:b},"*")}else{var c=J.contentWindow.document;a&&c.open("text/html","replace");c.write(h);c.close()}f=!0;e.forEach(d,function(a){a()})}catch(qa){w.errorf(null,"auction: createDefaultCreativeBid: renderDefaultCreative: %o",
qa)}});b.appendChild(m)}var d=[],f=!1;b={ad:a.creativeHTML,bidder:"default-creative",bidderId:"default-creative-"+b.unit.space.name,bidderCode:"default-creative",width:a.width,height:a.height};return new h.Bid(b,b,h.Bid.Types.DEFAULT_CREATIVE,void 0,function(a){c(a.placement)},void 0,void 0,function(a){f?a():d.push(a)},void 0)}var l=ma,k=q,e=g,h=O,f=function(a){var b={},c=a.selector||D.escapeSelector("#"+a.code),d=[],e=a.sizes;e||a.mediaTypes&&a.mediaTypes.banner&&a.mediaTypes.banner.sizes&&(e=a.mediaTypes.banner.sizes);
for(var f=0;f<e.length;f++){var g=e[f];d.push(g[0]+"x"+g[1])}b.id=a.id||a.code+"_"+d+"_"+c;b.name=a.code;b.sizes=d;b.selector={position:0,value:c};if(a.bids)for(b.preBiddingSettings={enabled:!0,biddingSettings:[]},b.preBiddingSettings.biddingSettings[1]=[],f=0;f<a.bids.length;f++)c=a.bids[f],b.preBiddingSettings.biddingSettings[1].push({id:b.id+"_"+c.bidder+"_"+JSON.stringify(c.params).trim(),testCompliance:!0,name:c.bidder,params:c.params});else b.preBiddingSettings={enabled:!1};b.postBiddingSettings=
p?{adxId:b.name+"_adx",directId:b.name+"_direct",enabled:!0,type:1,order:[{params:{},adx:{bidderID:b.name+"_adx",testCompliance:!0},direct:{bidderID:b.name+"_direct",testCompliance:!0}},{params:{queryParams:{ad_type:"text"}},adx:{bidderID:b.name+"_adx",testCompliance:!1},direct:{bidderID:b.name+"_direct",testCompliance:m.fireEvent("forceCompliant")||!1}}]}:{enabled:!1};return b},d=new function(){var a=K.CustomEvents;this.init=function(){a.addEventListener("onPageView",function(a){w.infof(null,"onPageView: %o",
a)});a.addEventListener("onPageFocus",function(a){w.infof(null,"onPageFocus: %o",a)});a.addEventListener("onAuctionGroupStarted",function(a){w.infof(null,"onAuctionGroupStarted: %o",a)});a.addEventListener("onAuctionGroupEnded",function(a){w.infof(null,"onAuctionGroupEnded: %o",a)});a.addEventListener("onAuctionStarted",function(a){w.infof(null,"onAuctionStarted: %o",a)});a.addEventListener("onAuctionEnded",function(a){w.infof(null,"onAuctionEnded: %o",a)});a.addEventListener("onPrebiddingStarted",
function(a){w.infof(null,"onPrebiddingStarted: %o",a)});a.addEventListener("onPrebiddingEnded",function(a){w.infof(null,"onPrebiddingEnded: %o",a)});a.addEventListener("onPostbiddingStarted",function(a){w.infof(null,"onPostbiddingStarted: %o",a)});a.addEventListener("onPostbiddingEnded",function(a){w.infof(null,"onPostbiddingEnded: %o",a)});a.addEventListener("onAuctionBidResponse",function(a){w.infof(null,"onAuctionBidResponse: %o",a)});a.addEventListener("onNewUnitFound",function(a){w.infof(null,
"onNewUnitFound: %o",a)})}};window.__upo_d=window.__upo_d||{};window.__upo_d.v="v2";window.googletag=window.googletag||{};window.googletag.cmd=window.googletag.cmd||[];var a={"hideSelectors":null,"elementDisplay":"block","analyticsID":"","contentEnabled":true,"mobileContentEnabled":false,"dfpEnabled":true,"spaces":{"4908685738377216":{"sizes":["300x250","336x280","468x60"],"selector":{"value":"[data-dfp*=\"in-content_1\"]","index":0,"position":0,"page":""},"prebids":{"4837171445891072":{"bidder":"ix","params":{"id":"swshb-makeuseof-sidebar-4_BT","siteID":"291475","size":[336,280]}},"5705594774224896":{"bidder":"ix","params":{"id":"swshb-makeuseof-sidebar-4_BT","siteID":"291475","size":[468,60]}},"5706815652233216":{"bidder":"openx","params":{"unit":"540320468","delDomain":"snigel-d.openx.net"}},"5738288233054208":{"bidder":"pubmatic","params":{"publisherId":"157369","adSlot":"muo-sidebar-4_BT@300x250"}},"6291842240872448":{"bidder":"appnexusAst","params":{"placementId":"13960445"}},"6309738664951808":{"bidder":"ix","params":{"id":"swshb-makeuseof-sidebar-4_BT","siteID":"291475","size":[300,250]}},"6332394483220480":{"bidder":"rubicon","params":{"siteId":"79822","zoneId":"1059016","accountId":"14598"}}},"adx":"5150585779126272","direct":"5094684565176320","staging":false,"unit":"BT_muo-in_content-1"},"4909733207080960":{"sizes":["300x250","300x600","160x600"],"selector":{"value":"[data-dfp*=\"sidebar-3\"]","index":0,"position":0,"page":""},"prebids":{"4835705888964608":{"bidder":"ix","params":{"id":"3","siteID":"281128","size":[300,250]}},"5101915209728000":{"bidder":"openx","params":{"unit":"540150848","delDomain":"snigel-d.openx.net"}},"5173245355491328":{"bidder":"appnexusAst","params":{"placementId":"13535134"}},"5645980191948800":{"bidder":"pubmatic","params":{"publisherId":"157369","adSlot":"muo-in_sidebar-3_BT@300x250"}},"5691387928379392":{"bidder":"ix","params":{"id":"3","siteID":"281128","size":[160,600]}},"6194810608156672":{"bidder":"rubicon","params":{"siteId":"79822","zoneId":"990702","accountId":"14598"}}},"adx":"5169270765912064","direct":"6217045385412608","staging":false,"unit":"BT_muo-sidebar-3"},"5073960777547776":{"sizes":["300x250","300x600","160x600"],"selector":{"value":"[data-dfp*=\"sidebar-4\"]","index":0,"position":0,"page":""},"prebids":{"4894092647464960":{"bidder":"appnexusAst","params":{"placementId":"13535134"}},"5098811055669248":{"bidder":"rubicon","params":{"siteId":"79822","zoneId":"990702","accountId":"14598"}},"5107364986355712":{"bidder":"pubmatic","params":{"publisherId":"157369","adSlot":"muo-in_sidebar-4_BT@300x250"}},"5180986799161344":{"bidder":"openx","params":{"unit":"540150848","delDomain":"snigel-d.openx.net"}},"5733363381960704":{"bidder":"ix","params":{"id":"3","siteID":"281128","size":[160,600]}},"6325403283095552":{"bidder":"ix","params":{"id":"3","siteID":"281128","size":[300,250]}}},"adx":"5689448616427520","direct":"5107065211060224","staging":false,"unit":"BT_muo-sidebar-4"},"5079791564750848":{"sizes":["300x250","336x280","468x60"],"selector":{"value":"[data-dfp*=\"in-content_2\"]","index":0,"position":0,"page":""},"prebids":{"4847939432218624":{"bidder":"pubmatic","params":{"publisherId":"157369","adSlot":"muo-in_sidebar-4_BT@300x250"}},"4897796821876736":{"bidder":"ix","params":{"id":"3","siteID":"281128","size":[336,280]}},"5086918526107648":{"bidder":"openx","params":{"unit":"540150848","delDomain":"snigel-d.openx.net"}},"5666390312747008":{"bidder":"ix","params":{"id":"3","siteID":"281128","size":[300,250]}},"5769590692904960":{"bidder":"rubicon","params":{"siteId":"79822","zoneId":"990702","accountId":"14598"}},"6236006726500352":{"bidder":"appnexusAst","params":{"placementId":"13535134"}}},"adx":"6298987019632640","direct":"5931156222509056","staging":false,"unit":"BT_muo-in_content-4"},"5137545318891520":{"sizes":["728x90","970x90","970x250"],"selector":{"value":"[data-dfp*=\"in-content_bottom\"]","index":0,"position":0,"page":""},"prebids":{"5094828111036416":{"bidder":"appnexusAst","params":{"placementId":"13960446"}},"5634499341713408":{"bidder":"pubmatic","params":{"publisherId":"157369","adSlot":"muo-in_content-bottom_BT@728x90"}},"5680045188186112":{"bidder":"ix","params":{"id":"swshb-makeuseof-in_content-4_BT","siteID":"291474","size":[970,90]}},"5698641759043584":{"bidder":"openx","params":{"unit":"540320470","delDomain":"snigel-d.openx.net"}},"5712744787476480":{"bidder":"ix","params":{"id":"swshb-makeuseof-in_content-4_BT","siteID":"291474","size":[728,90]}},"5727641378226176":{"bidder":"ix","params":{"id":"swshb-makeuseof-in_content-4_BT","siteID":"291474","size":[970,250]}},"6305652272005120":{"bidder":"rubicon","params":{"siteId":"79822","zoneId":"1059018","accountId":"14598"}}},"adx":"6308738809987072","direct":"5718353209458688","staging":false,"unit":"BT_muo-in_content-bottom"},"5137857811316736":{"sizes":["300x250","300x600","160x600"],"selector":{"value":"[data-dfp*=\"sidebar-1\"]","index":0,"position":0,"page":""},"prebids":{"4815605643345920":{"bidder":"ix","params":{"id":"1","siteID":"280744","size":[160,600]}},"5076172316606464":{"bidder":"rubicon","params":{"siteId":"79822","zoneId":"990696","accountId":"14598"}},"5631292947300352":{"bidder":"ix","params":{"id":"1","siteID":"280744","size":[300,250]}},"5646086895042560":{"bidder":"pubmatic","params":{"publisherId":"157369","adSlot":"muo-sidebar-1_BT@300x250"}},"5686030627766272":{"bidder":"openx","params":{"unit":"540150845","delDomain":"snigel-d.openx.net"}},"5701297558781952":{"bidder":"appnexusAst","params":{"placementId":"13535132"}},"5739070185537536":{"bidder":"ix","params":{"id":"1","siteID":"280744","size":[300,600]}}},"adx":"6317108090634240","direct":"5652004554670080","staging":false,"unit":"BT_muo-sidebar-1"},"5731417023578112":{"sizes":["300x250","300x600","160x600"],"selector":{"value":"[data-dfp*=\"sidebar-2\"]","index":0,"position":0,"page":""},"prebids":{"5086775382900736":{"bidder":"ix","params":{"id":"2","siteID":"280745","size":[160,600]}},"5093597636460544":{"bidder":"ix","params":{"id":"2","siteID":"280745","size":[300,250]}},"5671630340620288":{"bidder":"ix","params":{"id":"2","siteID":"280745","size":[300,600]}},"5743936752582656":{"bidder":"rubicon","params":{"siteId":"79822","zoneId":"990700","accountId":"14598"}},"6277450845650944":{"bidder":"openx","params":{"unit":"540150847","delDomain":"snigel-d.openx.net"}},"6313689565102080":{"bidder":"appnexusAst","params":{"placementId":"13535133"}},"6321866746626048":{"bidder":"pubmatic","params":{"publisherId":"157369","adSlot":"muo-sidebar-2_BT@300x250"}}},"adx":"5171458246443008","direct":"6296186432520192","staging":false,"unit":"BT_muo-sidebar-2"},"5755281875140608":{"sizes":["300x250","300x600","160x600"],"selector":{"value":"[data-dfp*=\"sidebar-5\"]","index":0,"position":0,"page":""},"prebids":{"4831513094914048":{"bidder":"pubmatic","params":{"publisherId":"157369","adSlot":"muo-in_sidebar-5_BT@300x250"}},"5174397514022912":{"bidder":"openx","params":{"unit":"540150848","delDomain":"snigel-d.openx.net"}},"5633782921035776":{"bidder":"rubicon","params":{"siteId":"79822","zoneId":"990702","accountId":"14598"}},"5636795135950848":{"bidder":"ix","params":{"id":"3","siteID":"281128","size":[160,600]}},"5650978493693952":{"bidder":"appnexusAst","params":{"placementId":"13535134"}},"5766062779924480":{"bidder":"ix","params":{"id":"3","siteID":"281128","size":[300,600]}},"6289520374841344":{"bidder":"ix","params":{"id":"3","siteID":"281128","size":[300,250]}}},"adx":"6316395394498560","direct":"5099170121646080","staging":false,"unit":"BT_muo-sidebar-5"}}},c=a.spaces||{};if(0<=window.location.href.indexOf("bt_debug=true")||"true"==window.localStorage.getItem("bt_debug"))a.dfpEnabled="true"==localStorage.getItem("forceGAM")?!0:a.dfpEnabled,a.mobileContentEnabled="true"==localStorage.getItem("forceMobileContent")?!0:a.mobileContentEnabled,a.contentEnabled="true"==
localStorage.getItem("forceContent")?!0:a.contentEnabled;var p=a.dfpEnabled,u=a.mobileContentEnabled,x=a.contentEnabled,G=!1,m=K.CustomEvents,I,L={websiteData:a,transportDomain:"backend.upapi.net",websiteID:"5647479915675648",dfpEnabled:p,mobileContentEnabled:u,contentEnabled:x};window.__upo_d.websiteConfig={websiteData:a,transportDomain:"backend.upapi.net",websiteID:"5647479915675648",dfpEnabled:p,mobileContentEnabled:u,contentEnabled:x};k.SharedObject.setItem("websiteConfig",L);var w=y.new();w.setPrefix("main: ");
w.setLevel(y.INFO);var R=function(){try{var a=y.new();a.setPrefix("hook: ");a.setLevel(y.DEBUG);window.eval.call(window,"(function (CustomEvents, lg) {\n"+atob("Q3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoIm1pblRpbWVCZXR3ZWVuUmVmcmVzaGVzIiwgZnVuY3Rpb24gKGV2ZW50KSB7CglyZXR1cm4gMjAwMDA7Cn0pOwoKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoIm1vZGlmeVNwYWNlc09uQmVmb3JlRmV0Y2hpbmciLCBmdW5jdGlvbiAoZXZlbnQpIHsKCXZhciBzcGFjZSA9IGV2ZW50LmRhdGEuc3BhY2U7Cgl2YXIgbW9kaWZpZWRTcGFjZTsKCXZhciBibGFja2xpc3RlZFJlZnJlc2hCaWRkZXJzID0gWydpeCcsICdvcGVueCcsICdwdWxzZXBvaW50J107CgoJLy8gc3BhY2UucHJlQmlkZGluZ1NldHRpbmdzLmJpZGRpbmdTZXR0aW5nc1sxXSA9PiBwcmViaWQgYmlkZGVycyBzZXR0aW5ncwoJaWYgKHNwYWNlICYmIHNwYWNlLnByZUJpZGRpbmdTZXR0aW5ncyAmJiBzcGFjZS5wcmVCaWRkaW5nU2V0dGluZ3MuYmlkZGluZ1NldHRpbmdzICYmIHNwYWNlLnByZUJpZGRpbmdTZXR0aW5ncy5iaWRkaW5nU2V0dGluZ3NbMV0gJiYgc3BhY2UucHJlQmlkZGluZ1NldHRpbmdzLmJpZGRpbmdTZXR0aW5nc1sxXS5sZW5ndGggPiAwKSB7CgkJdmFyIHByZWJpZEJpZGRpbmdTZXR0aW5ncyA9IHNwYWNlLnByZUJpZGRpbmdTZXR0aW5ncy5iaWRkaW5nU2V0dGluZ3NbMV07CgkJdmFyIG5ld0JpZGRpbmdTZXR0aW5ncyA9IFtdOwoJCWZvciAodmFyIGkgPSAwOyBpIDwgcHJlYmlkQmlkZGluZ1NldHRpbmdzLmxlbmd0aDsgaSsrKSB7CgkJCXZhciBiaWRkZXJDb25maWcgPSBwcmViaWRCaWRkaW5nU2V0dGluZ3NbaV07CgkJCWlmIChiaWRkZXJDb25maWcgJiYgYmxhY2tsaXN0ZWRSZWZyZXNoQmlkZGVycy5pbmRleE9mKGJpZGRlckNvbmZpZy5uYW1lKSA8IDApIHsKCQkJCW5ld0JpZGRpbmdTZXR0aW5ncy5wdXNoKGJpZGRlckNvbmZpZyk7CgkJCX0KCQl9CgoJCS8vIGNoYW5nZSB3YXMgbWFkZQoJCWlmIChwcmViaWRCaWRkaW5nU2V0dGluZ3MubGVuZ3RoID4gbmV3QmlkZGluZ1NldHRpbmdzLmxlbmd0aCkgewoJCQlzcGFjZS5wcmVCaWRkaW5nU2V0dGluZ3MuYmlkZGluZ1NldHRpbmdzWzFdID0gbmV3QmlkZGluZ1NldHRpbmdzOwoJCQltb2RpZmllZFNwYWNlID0gc3BhY2U7CgkJfQoKCX0KCglyZXR1cm4gbW9kaWZpZWRTcGFjZTsKfSkKCgpDdXN0b21FdmVudHMuYWRkRXZlbnRMaXN0ZW5lcigicHJlYmlkRG9uZUluaXQiLCBmdW5jdGlvbiAoZXZlbnQpIHsKCXZhciBjcGJqcyA9IGV2ZW50LmRhdGEuY3BianM7CgkvLyBCVCBwcmljZSBidWNrZXRzCgljcGJqcy5xdWUucHVzaChmdW5jdGlvbiAoKSB7CgkJY3BianMuc2V0Q29uZmlnKHsKCQkJImN1cnJlbmN5IjogewoJCQkJImFkU2VydmVyQ3VycmVuY3kiOiAiRVVSIiwKCQkJCSJncmFudWxhcml0eU11bHRpcGxpZXIiOiAxLAoJCQkJInJhdGVzIjogeyAiVVNEIjogeyAiRVVSIjogMC45MCwgIlBMTiI6IDMuODggfSwgIkVVUiI6IHsgIlVTRCI6IDEuMTEsICJQTE4iOiA0LjMwIH0gfQoJCQl9CgkJfSk7Cgl9KTsKfSk7Cgp3aW5kb3dbJ2dvb2dsZXRhZyddWydjbWQnXVsncHVzaCddKGZ1bmN0aW9uICgpIHsKCXdpbmRvd1snZ29vZ2xldGFnJ11bJ3B1YmFkcyddKCkuYWRkRXZlbnRMaXN0ZW5lcignc2xvdFJlbmRlckVuZGVkJywgZnVuY3Rpb24gKGV2ZW50KSB7CgkJdHJ5IHsKCQkJdmFyIGFkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tpZF49InNhc18iXVtzdHlsZSo9IndpZHRoOiA3MjhweDsgaGVpZ2h0OiA5MHB4OyJdJyk7IGZvciAodmFyIGkgaW4gYWRzKSB7IGFkc1tpXS5zdHlsZS53aWR0aCA9ICI3MjlweCI7IH07CgkJfSBjYXRjaCAoZSkgeyB9OwoJfSkKfSk7CgovLyBjb3BpZWQgZnJvbSBzbmlnbGV3ZWIgY29uZmlndXJhdGlvbgp2YXIgc2V0UmVmcmVzaGVzID0gZnVuY3Rpb24gKCkgewoJdmFyIHJlZnJlc2hJc09uID0gdHJ1ZTsKCXZhciByZWZyZXNoQ291bnQgPSAwOwoJdmFyIHJlZnJlc2hJbnRlcnZhbE1TRnJvbVNuaWdlbCA9IDYwMDAwOwoJLy8gdHJ5IHsgCgkvLyBpZiAoc25oYiAmJiBzbmhiLmxvY2FsU2V0dGluZ3MgJiYgc25oYi5sb2NhbFNldHRpbmdzLm1vZHVsZXMuYXV0b3JlZnJlc2gpIHsKCS8vIGlmIChzbmhiLmxvY2FsU2V0dGluZ3MubW9kdWxlcy5hdXRvcmVmcmVzaC5hZFVuaXRzLmxlbmd0aCA+IDApIHsKCS8vIHJlZnJlc2hJbnRlcnZhbE1TRnJvbVNuaWdlbCA9IHNuaGIubG9jYWxTZXR0aW5ncy5tb2R1bGVzLmF1dG9yZWZyZXNoLmFkVW5pdHNbMF0ucmVmcmVzaEludGVydmFsc01zOwoJLy8gfSBlbHNlIHsKCS8vIHJlZnJlc2hJc09uID0gZmFsc2U7CgkvLyB9CgkvLyB9CgkvLyB9IGNhdGNoKGUpe307CglpZiAocmVmcmVzaElzT24pIHsKCQl2YXIgcmVmcmVzaEludGVydmFsID0gd2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKCQkJaWYgKHJlZnJlc2hDb3VudCA8IDEwKSB7CgkJCQl3aW5kb3cuZ29vZ2xldGFnLmNtZC5wdXNoKGZ1bmN0aW9uICgpIHsKCQkJCQl3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLnJlZnJlc2goKTsKCQkJCX0pOwoJCQkJcmVmcmVzaENvdW50ID0gcmVmcmVzaENvdW50ICsgMTsKCQkJfSBlbHNlIHsKCQkJCXdpbmRvdy5jbGVhckludGVydmFsKHJlZnJlc2hJbnRlcnZhbCk7CgkJCX0KCQl9LCByZWZyZXNoSW50ZXJ2YWxNU0Zyb21TbmlnZWwpOwoJfQp9CndpbmRvdy5zZXRUaW1lb3V0KHNldFJlZnJlc2hlcywgMTAwMCk7CgoKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoInByZVRhcmdldGluZ1NldHRpbmciLCBmdW5jdGlvbiAoZXZlbnQpIHsKCS8vIEJUIGtleS12YWwuCgl2YXIgZGZwU2xvdCA9IGV2ZW50LmRhdGEuZGZwU2xvdDsKCWRmcFNsb3Quc2V0VGFyZ2V0aW5nKCdfc25oYi1idCcsICd0cnVlJyk7Cn0pOwoKLy8gd2Ugd2FudCB0byBhdm9pZCBjaGFuZ2luZyB0aGUgb2xkIHNwZWNpZmljIHdlYnNpdGUgaW1wbGVtZW50YXRpb24gZm9yIG5vdwppZiAod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLmluZGV4T2YoJ21ha2V1c2VvZicpID09PSAtMSAmJiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUuaW5kZXhPZignd29yZGhpcHBvJykgPT09IC0xICYmIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZS5pbmRleE9mKCdub3RlYm9va2NoZWNrJykgPT09IC0xICYmIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZS5pbmRleE9mKCd3aW5kZmluZGVyJykgPT09IC0xKSB7Cgl2YXIgd2Vic2l0ZW5hbWUgPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUucmVwbGFjZSgnd3d3LicsICcnKTsKCXZhciBzcGxpdE5hbWUgPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUuc3BsaXQoJy4nKTsKCXZhciBtYXhDb3VudCA9IDA7Cglmb3IgKHZhciBpID0gMDsgaSA8IHNwbGl0TmFtZS5sZW5ndGg7IGkrKykgewoJCWlmIChzcGxpdE5hbWVbaV0ubGVuZ3RoID4gbWF4Q291bnQpIHsKCQkJd2Vic2l0ZW5hbWUgPSBzcGxpdE5hbWVbaV07CgkJCW1heENvdW50ID0gc3BsaXROYW1lW2ldLmxlbmd0aDsKCQl9Cgl9Cgl3ZWJzaXRlbmFtZSA9IHdlYnNpdGVuYW1lLnJlcGxhY2UoL1wtL2csICcnKTsKCgkvLyBzaG91bGQgYmUgdGhlIHNhbWUgZm9yIGFsbCB0ZWxsb3dzIHNpdGVzLgoJaWYgKGxvY2F0aW9uLmhvc3RuYW1lLmluZGV4T2YoJ3RlbGxvd3MnKSA+IC0xKSB7CgkJd2Vic2l0ZW5hbWUgPSAndGVsbG93cyc7Cgl9CglpZiAobG9jYXRpb24uaG9zdG5hbWUuaW5kZXhPZignd294aWtvbicpID4gLTEpIHsKCQl3ZWJzaXRlbmFtZSA9ICd3b3hpa29uJzsKCX0KCgl2YXIgY3JlYXRlTmV3U2xvdFBhdGggPSBmdW5jdGlvbiAod2Vic2l0ZW5hbWUsIHNsb3RQYXRoKSB7CgkJc2xvdFBhdGggPSAiQlRfIiArIHdlYnNpdGVuYW1lICsgIl8iICsgc2xvdFBhdGgudG9Mb3dlckNhc2UoKS5yZXBsYWNlKHdlYnNpdGVuYW1lICsgIl8iLCAnJykucmVwbGFjZSgnc25oYi0nLCAnJykucmVwbGFjZSgnc3dzaGItJywgJycpLnJlcGxhY2UoJ2luX2NvbnRlbnQnLCAnaW5jb250ZW50JykucmVwbGFjZSgnaW4tY29udGVudCcsICdpbmNvbnRlbnQnKS5yZXBsYWNlKCdkaXYtJywgJycpLnJlcGxhY2UoJ3NpZGViYXItJywgJ3NpZGViYXJfJykucmVwbGFjZSgnaW5jb250ZW50LScsICdpbmNvbnRlbnRfJykucmVwbGFjZSgnamNnXycsICcnKTsKCQlpZiAoc2xvdFBhdGggJiYgc2xvdFBhdGgubGVuZ3RoID4gMiAmJiBzbG90UGF0aC5zdWJzdHIoLTIpID09PSAiLTAiKSB7CgkJCXNsb3RQYXRoID0gc2xvdFBhdGguc3Vic3RyKDAsIHNsb3RQYXRoLmxlbmd0aCAtIDIpOwoJCX0KCQlyZXR1cm4gc2xvdFBhdGg7Cgl9CgoJdmFyIHBhcnNlU2l6ZXMgPSBmdW5jdGlvbiAoc3BhY2UpIHsKCQl2YXIgc2l6ZXMgPSBbXTsKCgkJZm9yICh2YXIgaSA9IDA7IGkgPCBzcGFjZS5zaXplcy5sZW5ndGg7IGkrKykgewoJCQl2YXIgc2l6ZSA9IHNwYWNlLnNpemVzW2ldOwoJCQl2YXIgd2lkdGhBbmRIZWlnaHQgPSBzaXplLnNwbGl0KCJ4Iik7CgkJCXNpemVzLnB1c2goW3BhcnNlSW50KHdpZHRoQW5kSGVpZ2h0WzBdKSwgcGFyc2VJbnQod2lkdGhBbmRIZWlnaHRbMV0pXSk7CgkJfQoKCQlyZXR1cm4gc2l6ZXM7Cgl9CgoJdmFyIG92ZXJyaWRlRGVmaW5lU2xvdCA9IGZ1bmN0aW9uICgpIHsKCQkvLyBzbmlnZWx3ZWIgd2FuJ3QgdG8gZXhjbHVkZSBzb21lIHVuaXRzCgkJdmFyIGV4Y2x1ZGVkQWRzID0gWyJCVF9ndWlkaW5ndGVjaF9hcmNoaXZlXzEiLCAiQlRfZ3VpZGluZ3RlY2hfYXJjaGl2ZV8yIl07CgkJZ29vZ2xldGFnLmNtZC5wdXNoKGZ1bmN0aW9uICgpIHsKCQkJdmFyIGN1cnJlbnRTbG90cyA9IGdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cygpOwoJCQlpZiAoY3VycmVudFNsb3RzLmxlbmd0aCA+IDApIHsKCQkJCXdpbmRvdy5nb29nbGV0YWcuZGVzdHJveVNsb3RzKCk7CgkJCX0KCQkJdmFyIG9yaWdpbmFsRGVmaW5lU2xvdCA9IGdvb2dsZXRhZy5kZWZpbmVTbG90OwoJCQlnb29nbGV0YWcuZGVmaW5lU2xvdCA9IGZ1bmN0aW9uIChwYXRoLCBzaXplcywgZGl2KSB7CgkJCQlpZiAocGF0aC5pbmRleE9mKCcyMDY4MTk1OTknKSA9PT0gLTEpIHsKCQkJCQl2YXIgdW5pdE5hbWUgPSBwYXRoLnNwbGl0KCcvJylbcGF0aC5zcGxpdCgnLycpLmxlbmd0aCAtIDFdOwoJCQkJCXVuaXROYW1lID0gY3JlYXRlTmV3U2xvdFBhdGgod2Vic2l0ZW5hbWUsIHVuaXROYW1lKTsKCQkJCQlwYXRoID0gIi8yMDY4MTk1OTkiICsgIi8iICsgdW5pdE5hbWU7CgkJCQl9CgkJCQlpZiAoZXhjbHVkZWRBZHMuaW5kZXhPZih1bml0TmFtZSkgPiAtMSkgewoJCQkJCXJldHVybjsKCQkJCX0KCQkJCXZhciBzbG90ID0gb3JpZ2luYWxEZWZpbmVTbG90KHBhdGgsIHNpemVzLCBkaXYpOwoJCQkJcmV0dXJuIHNsb3Q7CgkJCX07CgkJCS8vIGNvcHkgd2Vic2l0ZSBzbG90cyBmcm9tIGdvb2dsZXRhZwoJCQlmb3IgKHZhciBpID0gMDsgaSA8IGN1cnJlbnRTbG90cy5sZW5ndGg7IGkrKykgewoJCQkJdmFyIHNpemVzID0gW107CgkJCQl2YXIgb2xkU2l6ZXMgPSBjdXJyZW50U2xvdHNbaV0uZ2V0U2l6ZXMoKTsKCQkJCWZvciAodmFyIGogPSAwOyBqIDwgb2xkU2l6ZXMubGVuZ3RoOyBqKyspIHsKCQkJCQlpZiAob2xkU2l6ZXNbal0gIT09ICJmbHVpZCIpIHsKCQkJCQkJc2l6ZXMucHVzaChbb2xkU2l6ZXNbal0uZ2V0V2lkdGgoKSwgb2xkU2l6ZXNbal0uZ2V0SGVpZ2h0KCldKQoJCQkJCX0gZWxzZSB7CgkJCQkJCXNpemVzLnB1c2goImZsdWlkIik7CgkJCQkJfQoJCQkJfQoJCQkJdHJ5IHsKCQkJCQlnb29nbGV0YWcuZGVmaW5lU2xvdChjdXJyZW50U2xvdHNbaV0uZ2V0QWRVbml0UGF0aCgpLCBzaXplcywgY3VycmVudFNsb3RzW2ldLmdldFNsb3RFbGVtZW50SWQoKSkuYWRkU2VydmljZShnb29nbGV0YWcucHViYWRzKCkpOwoJCQkJfSBjYXRjaCAoZSkgeyB9OwoJCQl9CgkJCS8vIGphdmFjb2RlZ2Vla3Mgc2xvdCBuYW1lcyBhcmUgZGlmZmVyZW50CgkJCWlmICh3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUuaW5kZXhPZignamF2YWNvZGVnZWVrcycpID09PSAtMSkgewoJCQkJLy8gY29weSBzbG90cyBmcm9tIHNwYWNlcwoJCQkJdmFyIHNldFNsb3RzSW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewoJCQkJCXZhciBzcGFjZXMgPSBDdXN0b21FdmVudHMuZmlyZUV2ZW50KCJ3ZWJzaXRlSG9va3NHZXRTcGFjZXMiKQoJCQkJCWlmICghc3BhY2VzIHx8IHNwYWNlcy5sZW5ndGggPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQoJCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgc3BhY2VzLmxlbmd0aDsgaSsrKSB7CgkJCQkJCXZhciBzcGFjZSA9IHNwYWNlc1tpXTsKCQkJCQkJdmFyIHVuaXROYW1lID0gY3JlYXRlTmV3U2xvdFBhdGgod2Vic2l0ZW5hbWUsIHNwYWNlLm5hbWUpOwoJCQkJCQl0cnkgewoJCQkJCQkJdmFyIHNsb3QgPSBnb29nbGV0YWcuZGVmaW5lU2xvdCgiLzIwNjgxOTU5OSIgKyAiLyIgKyB1bml0TmFtZSwgcGFyc2VTaXplcyhzcGFjZSksIHNwYWNlLm5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xvdCAmJiBzbG90LmFkZFNlcnZpY2UoZ29vZ2xldGFnLnB1YmFkcygpKTsKCQkJCQkJfSBjYXRjaCAoZSkgeyB9OwoJCQkJCX0KCQkJCX0sIDUwMCk7CgkJCQl3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHdpbmRvdy5jbGVhckludGVydmFsKHNldFNsb3RzSW50ZXJ2YWwpIH0sIDUwMDApOwoJCQl9CgkJfSk7Cgl9CglvdmVycmlkZURlZmluZVNsb3QoKTsKfQoKCkN1c3RvbUV2ZW50cy5hZGRFdmVudExpc3RlbmVyKCJwcmViaWREb25lSW5pdCIsIGZ1bmN0aW9uIChldmVudCkgewoJdmFyIGNwYmpzID0gZXZlbnQuZGF0YS5jcGJqczsKCWNwYmpzLnF1ZS5wdXNoKGZ1bmN0aW9uICgpIHsKCQljcGJqcy5iaWRkZXJTZXR0aW5nc1snc3RhbmRhcmQnXSA9IHsKCQkJJ2Fkc2VydmVyVGFyZ2V0aW5nJzogWwoJCQkJewoJCQkJCSdrZXknOiAiaGJfYmlkZGVyIiwKCQkJCQkndmFsJzogZnVuY3Rpb24gKGEpIHsKCQkJCQkJaWYgKGFbJ2JpZGRlckNvZGUnXS5pbmRleE9mKCctczJzJykgPiAtMSkgewoJCQkJCQkJcmV0dXJuIGFbJ2JpZGRlckNvZGUnXS5yZXBsYWNlKCctczJzJywgJycpOwoJCQkJCQl9CgkJCQkJCXJldHVybiBhWydiaWRkZXJDb2RlJ10KCQkJCQl9CgkJCQl9LAoJCQkJewoJCQkJCSdrZXknOiAiYnRfc2xvdGNvZGUiLAoJCQkJCSd2YWwnOiBmdW5jdGlvbiAoYSkgewoJCQkJCQlyZXR1cm4gYVsnYWRJZCddCgkJCQkJfQoJCQkJfSwgewoJCQkJCSdrZXknOiAiaGJfYWRpZCIsCgkJCQkJJ3ZhbCc6IGZ1bmN0aW9uIChhKSB7CgkJCQkJCXJldHVybiBhWydhZElkJ10KCQkJCQl9CgkJCQl9LCB7CgkJCQkJJ2tleSc6ICJidF9wbCIsCgkJCQkJJ3ZhbCc6IGZ1bmN0aW9uIChiKSB7CgkJCQkJCXZhciBBID0gY3BianMuZ2V0Q29uZmlnKClbJ3ByaWNlR3JhbnVsYXJpdHknXTsKCQkJCQkJaWYgKGJbJ2JpZGRlckNvZGUnXSA9PT0gInVwbyIpIHsKCQkJCQkJCWlmIChiWydwYkxnJ10gPT09ICIwLjAwIiAmJiBwYXJzZUZsb2F0KGJbJ3BiSGcnXSkgPiAwLjAxKQoJCQkJCQkJCXJldHVybiAiMC4wMSI7CgkJCQkJCQlyZXR1cm4gYlsncGJMZyddOwoJCQkJCQl9CgkJCQkJCWVsc2UgaWYgKEEgPT09ICJhdXRvIikKCQkJCQkJCXJldHVybiBiWydwYkFnJ107CgkJCQkJCWVsc2UgaWYgKEEgPT09ICJkZW5zZSIpCgkJCQkJCQlyZXR1cm4gYlsncGJEZyddOwoJCQkJCQllbHNlIGlmIChBID09PSAibG93IikKCQkJCQkJCXJldHVybiBiWydwYkxnJ107CgkJCQkJCWVsc2UgaWYgKEEgPT09ICJtZWRpdW0iKQoJCQkJCQkJcmV0dXJuIGJbJ3BiTWcnXTsKCQkJCQkJZWxzZSBpZiAoQSA9PT0gImhpZ2giKQoJCQkJCQkJcmV0dXJuIGJbJ3BiSGcnXTsKCQkJCQkJZWxzZSBpZiAoQSA9PT0gImN1c3RvbSIpIHsKCQkJCQkJCXJldHVybiBiWydwYkNnJ10KCQkJCQkJfQoJCQkJCQlyZXR1cm4gYlsncGJIZyddOwoJCQkJCX0KCQkJCX0sIHsKCQkJCQkna2V5JzogImhiX3BiIiwKCQkJCQkndmFsJzogZnVuY3Rpb24gKGIpIHsKCQkJCQkJdmFyIEEgPSBjcGJqcy5nZXRDb25maWcoKVsncHJpY2VHcmFudWxhcml0eSddOwoJCQkJCQlpZiAoYlsnYmlkZGVyQ29kZSddID09PSAidXBvIikgewoJCQkJCQkJaWYgKGJbJ3BiTGcnXSA9PT0gIjAuMDAiICYmIHBhcnNlRmxvYXQoYlsncGJIZyddKSA+IDAuMDEpCgkJCQkJCQkJcmV0dXJuICIwLjAxIjsKCQkJCQkJCXJldHVybiBiWydwYkxnJ107CgkJCQkJCX0KCQkJCQkJZWxzZSBpZiAoQSA9PT0gImF1dG8iKQoJCQkJCQkJcmV0dXJuIGJbJ3BiQWcnXTsKCQkJCQkJZWxzZSBpZiAoQSA9PT0gImRlbnNlIikKCQkJCQkJCXJldHVybiBiWydwYkRnJ107CgkJCQkJCWVsc2UgaWYgKEEgPT09ICJsb3ciKQoJCQkJCQkJcmV0dXJuIGJbJ3BiTGcnXTsKCQkJCQkJZWxzZSBpZiAoQSA9PT0gIm1lZGl1bSIpCgkJCQkJCQlyZXR1cm4gYlsncGJNZyddOwoJCQkJCQllbHNlIGlmIChBID09PSAiaGlnaCIpCgkJCQkJCQlyZXR1cm4gYlsncGJIZyddOwoJCQkJCQllbHNlIGlmIChBID09PSAiY3VzdG9tIikgewoJCQkJCQkJcmV0dXJuIGJbJ3BiQ2cnXQoJCQkJCQl9CgkJCQkJCXJldHVybiBiWydwYkhnJ107CgkJCQkJfQoJCQkJfSwgewoJCQkJCSdrZXknOiAiaGJfc2l6ZSIsCgkJCQkJJ3ZhbCc6IGZ1bmN0aW9uIChhKSB7CgkJCQkJCXJldHVybiBhWydzaXplJ10KCQkJCQl9CgkJCQl9LCB7CgkJCQkJJ2tleSc6ICJoYl9kZWFsIiwKCQkJCQkndmFsJzogZnVuY3Rpb24gKGEpIHsKCQkJCQkJcmV0dXJuIGFbJ2RlYWxJZCddCgkJCQkJfQoJCQkJfSwgewoJCQkJCSdrZXknOiAiaGJfc291cmNlIiwKCQkJCQkndmFsJzogZnVuY3Rpb24gKGEpIHsKCQkJCQkJcmV0dXJuIGFbJ3NvdXJjZSddIHx8ICJjbGllbnQiOwoJCQkJCX0KCQkJCX0sIHsKCQkJCQkna2V5JzogImhiX2Zvcm1hdCIsCgkJCQkJJ3ZhbCc6IGZ1bmN0aW9uIChhKSB7CgkJCQkJCXJldHVybiBhWydtZWRpYVR5cGUnXTsKCQkJCQl9CgkJCQl9XQoJCX07Cgl9KTsKCgkvLyBCVCBwcmljZSBidWNrZXRzCgljcGJqcy5xdWUucHVzaChmdW5jdGlvbiAoKSB7CgkJY3BianMuc2V0Q29uZmlnKHsgJ2RlYnVnJzogZmFsc2UsICdlbmFibGVTZW5kQWxsQmlkcyc6IGZhbHNlLCAnc3luY3NQZXJCaWRkZXInOiAyMCwgJ3VzZXJTeW5jJzogeyAnaWZyYW1lRW5hYmxlZCc6IDEgfSB9KTsKCQljcGJqcy5zZXRDb25maWcoewoJCQkndXNlclN5bmMnOiB7CgkJCQknaWZyYW1lRW5hYmxlZCc6IHRydWUKCQkJfSwKCQkJJ3ByaWNlR3JhbnVsYXJpdHknOiB7CgkJCQkiYnVja2V0cyI6IFt7CgkJCQkJInByZWNpc2lvbiI6IDIsCgkJCQkJIm1pbiI6IDAsCgkJCQkJIm1heCI6IDUsCgkJCQkJImluY3JlbWVudCI6IDAuMDUKCQkJCX0sCgkJCQl7CgkJCQkJInByZWNpc2lvbiI6IDIsCgkJCQkJIm1pbiI6IDUsCgkJCQkJIm1heCI6IDEwLAoJCQkJCSJpbmNyZW1lbnQiOiAwLjEwCgkJCQl9LAoJCQkJewoJCQkJCSJwcmVjaXNpb24iOiAyLAoJCQkJCSJtaW4iOiAxMCwKCQkJCQkibWF4IjogMjAsCgkJCQkJImluY3JlbWVudCI6IDAuNTAKCQkJCX1dCgkJCX0KCQl9KTsKCX0pOwp9KTsKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoIndoaXRlbGlzdGVkRnJhbWVTcmMiLCBmdW5jdGlvbiAoKSB7DQoJcmV0dXJuIHsNCgkJdXJsOiAiL3JvYm90cy50eHQ/dXBhcGk9dHJ1ZSIsDQoJfQ0KfSk7DQoNCkN1c3RvbUV2ZW50cy5hZGRFdmVudExpc3RlbmVyKCJ1c2VTbG90UGF0aCIsIGZ1bmN0aW9uICgpIHsNCglyZXR1cm4gdHJ1ZTsNCn0pDQoNCi8vIGZpeCB0aGVtZQ0KdmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7DQpzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPSAnJzsNCihkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpOw0KDQoNCnZhciBmaW5kQW5kRGlzcGF0Y2ggPSBmdW5jdGlvbiAoc2VsZWN0b3IsIHVzZVBhcmVudEVsZW1lbnQsIG5ld0VsZW1lbnRJRCwgY2FsbGJhY2ssIG1heFRpbWVzKSB7DQoJdmFyIGVsZW1lbnQgPSBudWxsOw0KCXRyeSB7DQoJCWVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTsNCgl9IGNhdGNoIChlKSB7DQoJCWlmIChzZWxlY3Rvci5pbmRleE9mKCcjJykgPT09IDApIHsNCgkJCWVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWxlY3Rvci5yZXBsYWNlKCcjJywgJycpKTsNCgkJfQ0KCX0NCglpZiAoZWxlbWVudCkgew0KCQlpZiAodXNlUGFyZW50RWxlbWVudCkgew0KCQkJZWxlbWVudC5wYXJlbnRFbGVtZW50LmlkID0gbmV3RWxlbWVudElEOw0KCQl9DQoJCWVsc2Ugew0KCQkJZWxlbWVudC5pZCA9IG5ld0VsZW1lbnRJRDsNCgkJfQ0KCQljYWxsYmFjayhlbGVtZW50KTsNCgl9IGVsc2UgaWYgKG1heFRpbWVzID4gMCkgew0KCQl3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7DQoJCQlmaW5kQW5kRGlzcGF0Y2goc2VsZWN0b3IsIHVzZVBhcmVudEVsZW1lbnQsIG5ld0VsZW1lbnRJRCwgY2FsbGJhY2ssIG1heFRpbWVzIC0gMSk7DQoJCX0sIDUwMCk7DQoJfQ0KfQ0KDQpDdXN0b21FdmVudHMuYWRkRXZlbnRMaXN0ZW5lcigicHJlVGFyZ2V0aW5nU2V0dGluZyIsIGZ1bmN0aW9uIChldmVudCkgew0KCS8vIEJUIGtleS12YWwuDQoJdmFyIGRmcFNsb3QgPSBldmVudC5kYXRhLmRmcFNsb3Q7DQoJZGZwU2xvdC5jbGVhclRhcmdldGluZygnX3NuaGItdXBvbml0Jyk7DQoJZGZwU2xvdC5zZXRUYXJnZXRpbmcoJ19zbmhiLWJ0JywgJ3RydWUnKTsNCn0pOw0KDQovLyByZXBsYWNlIHllaWxkTG92ZSBhZHMgd2l0aCBZaWVsZEJpcmQgYWRzIHNpbmNlIGl0J3Mgcm90YXRpbmcgYmV0d2VlbiB0d28gY29tcGFuaWVzDQpnb29nbGV0YWcuY21kLnB1c2goZnVuY3Rpb24gKCkgew0KCWdvb2dsZXRhZy5wdWJhZHMoKS5zZXRUYXJnZXRpbmcoJ3VwX3JlY292ZXJ5JywgJ3RydWUnKTsNCglnb29nbGV0YWcucHViYWRzKCkuc2V0VGFyZ2V0aW5nKCdfc25oYi1idCcsICd0cnVlJyk7DQoJZmluZEFuZERpc3BhdGNoKCcjaW5fY29udGVudF9ib3R0b20tbGVhZGVyYm9hcmQnLCBmYWxzZSwgIkJUX211by1pbl9jb250ZW50LWJvdHRvbS0wIiwgZnVuY3Rpb24gKGVsZW1lbnQpIHsNCgkJdHJ5IHsNCgkJCWVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLWRmcCcsICdpbi1jb250ZW50X2JvdHRvbScpOw0KCQkJZ29vZ2xldGFnLmRlZmluZVNsb3QoJy8yMDY4MTk1OTkvQlRfbXVvLWluX2NvbnRlbnQtYm90dG9tJywgW1s5NzAsIDkwXSwgWzcyOCwgOTBdLCBbOTcwLCAyNTBdXSwgJ0JUX211by1pbl9jb250ZW50LWJvdHRvbS0wJykuYWRkU2VydmljZShnb29nbGV0YWcucHViYWRzKCkpOw0KCQl9IGNhdGNoIChlKSB7IH0NCgl9LCA0MCk7DQoJZmluZEFuZERpc3BhdGNoKCcjc25oYi1zaWRlYmFyXzEtMCcsIGZhbHNlLCAiQlRfbXVvLXNpZGViYXItMS0wIiwgZnVuY3Rpb24gKGVsZW1lbnQpIHsNCgkJdHJ5IHsNCgkJCWVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLWRmcCcsICdzaWRlYmFyLTEnKTsNCgkJCWdvb2dsZXRhZy5kZWZpbmVTbG90KCcvMjA2ODE5NTk5L0JUX211by1zaWRlYmFyLTEnLCBbWzMwMCwgMjUwXSwgWzMwMCwgNjAwXV0sICdCVF9tdW8tc2lkZWJhci0xLTAnKS5hZGRTZXJ2aWNlKGdvb2dsZXRhZy5wdWJhZHMoKSk7DQoJCX0gY2F0Y2ggKGUpIHsgfQ0KCX0sIDQwKTsNCglmaW5kQW5kRGlzcGF0Y2goJyNzbmhiLXNpZGViYXJfMi0wJywgZmFsc2UsICJCVF9tdW8tc2lkZWJhci0yLTAiLCBmdW5jdGlvbiAoZWxlbWVudCkgew0KCQl0cnkgew0KCQkJZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtZGZwJywgJ3NpZGViYXItMicpOw0KCQkJZ29vZ2xldGFnLmRlZmluZVNsb3QoJy8yMDY4MTk1OTkvQlRfbXVvLXNpZGViYXItMicsIFtbMzAwLCAyNTBdLCBbMzAwLCA2MDBdXSwgJ0JUX211by1zaWRlYmFyLTItMCcpLmFkZFNlcnZpY2UoZ29vZ2xldGFnLnB1YmFkcygpKTsNCgkJfSBjYXRjaCAoZSkgeyB9DQoJfSwgNDApOw0KCS8vIGZpbmRBbmREaXNwYXRjaCgnI3NuaGItc2lkZWJhcl8zLTAnLCBmYWxzZSwgIkJUX211by1zaWRlYmFyLTMtMCIsIGZ1bmN0aW9uKGVsZW1lbnQpew0KCS8vIHRyeXsNCgkvLyBlbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1kZnAnLCdzaWRlYmFyLTMnKTsNCgkvLyBnb29nbGV0YWcuZGVmaW5lU2xvdCgnLzIwNjgxOTU5OS9CVF9tdW8tc2lkZWJhci0zJywgW1szMDAsMjUwXSxbMzAwLDYwMF1dLCAnQlRfbXVvLXNpZGViYXItMy0wJykuYWRkU2VydmljZShnb29nbGV0YWcucHViYWRzKCkpOw0KCS8vIH0gY2F0Y2goZSl7fQ0KCS8vIH0sIDQwKTsNCglmaW5kQW5kRGlzcGF0Y2goJyNzbmhiLXNpZGViYXJfNC0wJywgZmFsc2UsICJCVF9tdW8tc2lkZWJhci00LTAiLCBmdW5jdGlvbiAoZWxlbWVudCkgew0KCQl0cnkgew0KCQkJZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtZGZwJywgJ3NpZGViYXItNCcpOw0KCQkJZ29vZ2xldGFnLmRlZmluZVNsb3QoJy8yMDY4MTk1OTkvQlRfbXVvLXNpZGViYXItNCcsIFtbMzAwLCAyNTBdLCBbMzAwLCA2MDBdXSwgJ0JUX211by1zaWRlYmFyLTQtMCcpLmFkZFNlcnZpY2UoZ29vZ2xldGFnLnB1YmFkcygpKTsNCgkJfSBjYXRjaCAoZSkgeyB9DQoJfSwgNDApOw0KCWZpbmRBbmREaXNwYXRjaCgnI3NuaGItc2lkZWJhcl81LTAnLCBmYWxzZSwgIkJUX211by1zaWRlYmFyLTUtMCIsIGZ1bmN0aW9uIChlbGVtZW50KSB7DQoJCXRyeSB7DQoJCQllbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1kZnAnLCAnc2lkZWJhci01Jyk7DQoJCQlnb29nbGV0YWcuZGVmaW5lU2xvdCgnLzIwNjgxOTU5OS9CVF9tdW8tc2lkZWJhci01JywgW1szMDAsIDI1MF0sIFszMDAsIDYwMF1dLCAnQlRfbXVvLXNpZGViYXItNS0wJykuYWRkU2VydmljZShnb29nbGV0YWcucHViYWRzKCkpOw0KCQl9IGNhdGNoIChlKSB7IH0NCgl9LCA0MCk7DQoJZmluZEFuZERpc3BhdGNoKCcjc25oYi1pbl9jb250ZW50LTEtMCcsIGZhbHNlLCAiQlRfbXVvLWluX2NvbnRlbnQtMS0wIiwgZnVuY3Rpb24gKGVsZW1lbnQpIHsNCgkJdHJ5IHsNCgkJCWVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLWRmcCcsICdpbi1jb250ZW50XzEnKTsNCgkJCWdvb2dsZXRhZy5kZWZpbmVTbG90KCcvMjA2ODE5NTk5L0JUX211by1pbl9jb250ZW50LTEnLCBbWzMwMCwgMjUwXSwgWzMzNiwgMjgwXSwgWzQ2OCwgNjBdLCBbNDE2LCAzMDBdLCBbNDk4LCAyODBdLCBbNjcwLCAyMzBdXSwgJ0JUX211by1pbl9jb250ZW50LTEtMCcpLmFkZFNlcnZpY2UoZ29vZ2xldGFnLnB1YmFkcygpKTsNCgkJfSBjYXRjaCAoZSkgeyB9DQoJfSwgNDApOw0KCWZpbmRBbmREaXNwYXRjaCgnI3NuaGItaW5fY29udGVudC00LTAnLCBmYWxzZSwgIkJUX211by1pbl9jb250ZW50LTQtMCIsIGZ1bmN0aW9uIChlbGVtZW50KSB7DQoJCXRyeSB7DQoJCQllbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1kZnAnLCAnaW4tY29udGVudF8yJyk7DQoJCQlnb29nbGV0YWcuZGVmaW5lU2xvdCgnLzIwNjgxOTU5OS9CVF9tdW8taW5fY29udGVudC00JywgW1szMDAsIDI1MF0sIFszMzYsIDI4MF0sIFs0NjgsIDYwXSwgWzQxNiwgMzAwXSwgWzQ5OCwgMjgwXSwgWzY3MCwgMjMwXV0sICdCVF9tdW8taW5fY29udGVudC00LTAnKS5hZGRTZXJ2aWNlKGdvb2dsZXRhZy5wdWJhZHMoKSk7DQoJCX0gY2F0Y2ggKGUpIHsgfQ0KCX0sIDQwKTsNCn0pOw0KDQovLyBmb3IgZW5kbGVzcyBzY3JvbGxpbmcgcGFnZXMNCmdvb2dsZXRhZy5jbWQucHVzaChmdW5jdGlvbiAoKSB7DQoJdmFyIGFkVW5pdE1hcCA9IHsgJy8xMDY1ODIxL3NpZGViYXJfMSc6ICcvMjA2ODE5NTk5L0JUX211by1zaWRlYmFyLTEnLCAnLzEwNjU4MjEvc2lkZWJhcl8yJzogJy8yMDY4MTk1OTkvQlRfbXVvLXNpZGViYXItMicsICcvMTA2NTgyMS9zaWRlYmFyXzMnOiAnLzIwNjgxOTU5OS9CVF9tdW8tc2lkZWJhci0zJywgJy8xMDY1ODIxL3NpZGViYXJfNCc6ICcvMjA2ODE5NTk5L0JUX211by1zaWRlYmFyLTQnLCAnLzEwNjU4MjEvc2lkZWJhcl81JzogJy8yMDY4MTk1OTkvQlRfbXVvLXNpZGViYXItNScsICcvMTA2NTgyMS9pbi1jb250ZW50X2JvdHRvbSc6ICcvMjA2ODE5NTk5L0JUX211by1pbl9jb250ZW50LWJvdHRvbScsICcvMTA2NTgyMS9pbi1jb250ZW50XzEnOiAnLzIwNjgxOTU5OS9CVF9tdW8taW5fY29udGVudC0xJywgJy8xMDY1ODIxL2luLWNvbnRlbnRfNCc6ICcvMjA2ODE5NTk5L0JUX211by1pbl9jb250ZW50LTQnIH07DQoJdmFyIG9yaWdpbmFsRGVmaW5lU2xvdCA9IGdvb2dsZXRhZy5kZWZpbmVTbG90Ow0KCXdpbmRvdy5nb29nbGV0YWcuZGVmaW5lU2xvdCA9IGZ1bmN0aW9uIChhZFVuaXRQYXRoLCBzaXplLCBvcHRfZGl2KSB7DQoJCWlmIChhZFVuaXRNYXBbYWRVbml0UGF0aF0pIHsNCgkJCWFkVW5pdFBhdGggPSBhZFVuaXRNYXBbYWRVbml0UGF0aF07DQoJCX0NCgkJdmFyIHJldHVyblZhbHVlID0gb3JpZ2luYWxEZWZpbmVTbG90KGFkVW5pdFBhdGgsIHNpemUsIG9wdF9kaXYpOw0KCQlyZXR1cm4gcmV0dXJuVmFsdWU7DQoJfQ0KCS8vIGRvbid0IGxldCB0aGVpciBKUyB0byBkZXN0cm95IHRoZSBzbG90cyBiZWNhdXNlIGl0IGNhdXNlcyBpc3N1ZXMgd2l0aCBvdXIgY29kZQ0KCXdpbmRvdy5nb29nbGV0YWcuZGVzdHJveVNsb3RzID0gZnVuY3Rpb24gKCkgeyB9Ow0KfSkNCg0KQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoInByZWJpZERvbmVJbml0IiwgZnVuY3Rpb24gKGV2ZW50KSB7DQoJdmFyIGNwYmpzID0gZXZlbnQuZGF0YS5jcGJqczsNCgljcGJqcy5xdWUucHVzaChmdW5jdGlvbiAoKSB7DQoJCWNwYmpzLmJpZGRlclNldHRpbmdzLnN0YW5kYXJkID0gew0KCQkJJ2Fkc2VydmVyVGFyZ2V0aW5nJzogWw0KCQkJCXsNCgkJCQkJJ2tleSc6ICJoYl9iaWRkZXIiLA0KCQkJCQkndmFsJzogZnVuY3Rpb24gKGEpIHsNCgkJCQkJCWlmIChhWydiaWRkZXJDb2RlJ10uaW5kZXhPZignLXMycycpID4gLTEpIHsNCgkJCQkJCQlyZXR1cm4gYVsnYmlkZGVyQ29kZSddLnJlcGxhY2UoJy1zMnMnLCAnJyk7DQoJCQkJCQl9DQoJCQkJCQlyZXR1cm4gYVsnYmlkZGVyQ29kZSddDQoJCQkJCX0NCgkJCQl9LA0KCQkJCXsNCgkJCQkJJ2tleSc6ICJidF9zbG90Y29kZSIsDQoJCQkJCSd2YWwnOiBmdW5jdGlvbiAoYSkgew0KCQkJCQkJcmV0dXJuIGFbJ2FkSWQnXQ0KCQkJCQl9DQoJCQkJfSwgew0KCQkJCQkna2V5JzogImhiX2FkaWQiLA0KCQkJCQkndmFsJzogZnVuY3Rpb24gKGEpIHsNCgkJCQkJCXJldHVybiBhWydhZElkJ10NCgkJCQkJfQ0KCQkJCX0sIHsNCgkJCQkJJ2tleSc6ICJidF9wbCIsDQoJCQkJCSd2YWwnOiBmdW5jdGlvbiAoYikgew0KCQkJCQkJdmFyIEEgPSBjcGJqcy5nZXRDb25maWcoKVsncHJpY2VHcmFudWxhcml0eSddOw0KCQkJCQkJaWYgKGJbJ2JpZGRlckNvZGUnXSA9PT0gInVwbyIpIHsNCgkJCQkJCQlpZiAoYlsncGJMZyddID09PSAiMC4wMCIgJiYgcGFyc2VGbG9hdChiWydwYkhnJ10pID4gMC4wMSkNCgkJCQkJCQkJcmV0dXJuICIwLjAxIjsNCgkJCQkJCQlyZXR1cm4gYlsncGJMZyddOw0KCQkJCQkJfQ0KCQkJCQkJZWxzZSBpZiAoQSA9PT0gImF1dG8iKQ0KCQkJCQkJCXJldHVybiBiWydwYkFnJ107DQoJCQkJCQllbHNlIGlmIChBID09PSAiZGVuc2UiKQ0KCQkJCQkJCXJldHVybiBiWydwYkRnJ107DQoJCQkJCQllbHNlIGlmIChBID09PSAibG93IikNCgkJCQkJCQlyZXR1cm4gYlsncGJMZyddOw0KCQkJCQkJZWxzZSBpZiAoQSA9PT0gIm1lZGl1bSIpDQoJCQkJCQkJcmV0dXJuIGJbJ3BiTWcnXTsNCgkJCQkJCWVsc2UgaWYgKEEgPT09ICJoaWdoIikNCgkJCQkJCQlyZXR1cm4gYlsncGJIZyddOw0KCQkJCQkJZWxzZSBpZiAoQSA9PT0gImN1c3RvbSIpIHsNCgkJCQkJCQlyZXR1cm4gYlsncGJDZyddDQoJCQkJCQl9DQoJCQkJCQlyZXR1cm4gYlsncGJIZyddOw0KCQkJCQl9DQoJCQkJfSwgew0KCQkJCQkna2V5JzogImhiX3BiIiwNCgkJCQkJJ3ZhbCc6IGZ1bmN0aW9uIChiKSB7DQoJCQkJCQl2YXIgQSA9IGNwYmpzLmdldENvbmZpZygpWydwcmljZUdyYW51bGFyaXR5J107DQoJCQkJCQlpZiAoYlsnYmlkZGVyQ29kZSddID09PSAidXBvIikgew0KCQkJCQkJCWlmIChiWydwYkxnJ10gPT09ICIwLjAwIiAmJiBwYXJzZUZsb2F0KGJbJ3BiSGcnXSkgPiAwLjAxKQ0KCQkJCQkJCQlyZXR1cm4gIjAuMDEiOw0KCQkJCQkJCXJldHVybiBiWydwYkxnJ107DQoJCQkJCQl9DQoJCQkJCQllbHNlIGlmIChBID09PSAiYXV0byIpDQoJCQkJCQkJcmV0dXJuIGJbJ3BiQWcnXTsNCgkJCQkJCWVsc2UgaWYgKEEgPT09ICJkZW5zZSIpDQoJCQkJCQkJcmV0dXJuIGJbJ3BiRGcnXTsNCgkJCQkJCWVsc2UgaWYgKEEgPT09ICJsb3ciKQ0KCQkJCQkJCXJldHVybiBiWydwYkxnJ107DQoJCQkJCQllbHNlIGlmIChBID09PSAibWVkaXVtIikNCgkJCQkJCQlyZXR1cm4gYlsncGJNZyddOw0KCQkJCQkJZWxzZSBpZiAoQSA9PT0gImhpZ2giKQ0KCQkJCQkJCXJldHVybiBiWydwYkhnJ107DQoJCQkJCQllbHNlIGlmIChBID09PSAiY3VzdG9tIikgew0KCQkJCQkJCXJldHVybiBiWydwYkNnJ10NCgkJCQkJCX0NCgkJCQkJCXJldHVybiBiWydwYkhnJ107DQoJCQkJCX0NCgkJCQl9LCB7DQoJCQkJCSdrZXknOiAiaGJfc2l6ZSIsDQoJCQkJCSd2YWwnOiBmdW5jdGlvbiAoYSkgew0KCQkJCQkJcmV0dXJuIGFbJ3NpemUnXQ0KCQkJCQl9DQoJCQkJfSwgew0KCQkJCQkna2V5JzogImhiX2RlYWwiLA0KCQkJCQkndmFsJzogZnVuY3Rpb24gKGEpIHsNCgkJCQkJCXJldHVybiBhWydkZWFsSWQnXQ0KCQkJCQl9DQoJCQkJfSwgew0KCQkJCQkna2V5JzogImhiX3NvdXJjZSIsDQoJCQkJCSd2YWwnOiBmdW5jdGlvbiAoYSkgew0KCQkJCQkJcmV0dXJuIGFbJ3NvdXJjZSddIHx8ICJjbGllbnQiOw0KCQkJCQl9DQoJCQkJfSwgew0KCQkJCQkna2V5JzogImhiX2Zvcm1hdCIsDQoJCQkJCSd2YWwnOiBmdW5jdGlvbiAoYSkgew0KCQkJCQkJcmV0dXJuIGFbJ21lZGlhVHlwZSddOw0KCQkJCQl9DQoJCQkJfV0NCgkJfTsNCgl9KTsNCg0KCS8vIEJUIHByaWNlIGJ1Y2tldHMNCgljcGJqcy5xdWUucHVzaChmdW5jdGlvbiAoKSB7DQoJCWNwYmpzLnNldENvbmZpZyh7ICdkZWJ1Zyc6IGZhbHNlLCAnZW5hYmxlU2VuZEFsbEJpZHMnOiBmYWxzZSwgJ3N5bmNzUGVyQmlkZGVyJzogMjAsICd1c2VyU3luYyc6IHsgJ2lmcmFtZUVuYWJsZWQnOiAxIH0gfSk7DQoJCWNwYmpzLnNldENvbmZpZyh7DQoJCQkndXNlclN5bmMnOiB7DQoJCQkJJ2lmcmFtZUVuYWJsZWQnOiB0cnVlDQoJCQl9LA0KCQkJJ3ByaWNlR3JhbnVsYXJpdHknOiB7DQoJCQkJImJ1Y2tldHMiOiBbew0KCQkJCQkicHJlY2lzaW9uIjogMiwNCgkJCQkJIm1pbiI6IDAsDQoJCQkJCSJtYXgiOiA1LA0KCQkJCQkiaW5jcmVtZW50IjogMC4wNQ0KCQkJCX0sDQoJCQkJew0KCQkJCQkicHJlY2lzaW9uIjogMiwNCgkJCQkJIm1pbiI6IDUsDQoJCQkJCSJtYXgiOiAxMCwNCgkJCQkJImluY3JlbWVudCI6IDAuMTANCgkJCQl9LA0KCQkJCXsNCgkJCQkJInByZWNpc2lvbiI6IDIsDQoJCQkJCSJtaW4iOiAxMCwNCgkJCQkJIm1heCI6IDIwLA0KCQkJCQkiaW5jcmVtZW50IjogMC41MA0KCQkJCX1dDQoJCQl9DQoJCX0pOw0KCX0pOw0KfSk7")+"\n})")(m,a)}catch(J){debugger}},r=function(){U(window);C();m.fireEvent("noWhitelistedFrame")||B();m.fireEvent("clearSpaces")&&(c=[]);return ca().then(function(){var a=e.CPromise.resolve();m.fireEvent("addAmazonBidder")&&(a=H());t();return a})},t=function(){var a=e.map(c,function(a){return l.spaceDecoder(a)}),b=m.fireEvent("customSpacesFilter",
{spaces:a});b&&(c=e.filter(c,function(a){return e.find(b,function(b){return b.id==a.id})}))},H=function(){return new e.CPromise(function(a,b){window.googletag.cmd.push(function(){var b=0,d=setInterval(function(){if(10<=b)a(),clearInterval(d);else{var f=window.googletag.pubads().getSlots(),g=window.apstag,h=g&&g._Q&&g._Q[0]&&g._Q[0][1]&&g._Q[0][1][0]&&g._Q[0][1][0].pubID;h&&f?(clearInterval(d),e.forEach(f,function(a){var b=a.getAdUnitPath(),d=a&&e.find(c,function(c){return m.fireEvent("useSlotPath")&&
c.name==b?!0:c.name==a.getSlotElementId()});d&&d.preBiddingSettings.biddingSettings[k.consts.headerBiddingType.prebid]&&(e.find(d.preBiddingSettings.biddingSettings[k.consts.headerBiddingType.prebid],function(a){return"amazonAAX"==a.name})||d.preBiddingSettings.biddingSettings[k.consts.headerBiddingType.prebid].push({id:b+"_amazon_bidder",name:"amazonAAX",testCompliance:!0,params:{pubID:h,adUnitGPTPath:b}}))}),a()):b++}},100)})})},B=function(){"chrome"!=I.browser||m.fireEvent("only3pSafeFrame")||
(k.upoSettings.whitelistedFrameSettings.url="about:blank?upapi=true",k.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame=!1);var a=l.createSafeFrame();a.addEventListener("load",function(){k.whitelistedFrame=a;m.fireEvent("whitelistedFrameLoaded",{whitelistedFrame:a})});a.style.width="0px";a.style.height="0px";a.style.display="none";document.body?document.body.appendChild(a):window.addEventListener("DOMContentLoaded",function(){document.body.appendChild(a)})},V=function(a,b){if(a.grumi){var c=
document.createElement("iframe");c.style="display:none;width:1px;height:1px;";c.addEventListener("load",function(){c.done||(a.Node.prototype.appendChild=c.contentWindow.Node.prototype.appendChild,a.HTMLElement.prototype.appendChild=c.contentWindow.Node.prototype.appendChild,b())});F.onDomLoaded(function(){document.body.appendChild(c);c.contentWindow&&(c.done=!0,a.Node.prototype.appendChild=c.contentWindow.Node.prototype.appendChild,a.HTMLElement.prototype.appendChild=c.contentWindow.Node.prototype.appendChild,
b())})}else b()},U=function(a){a&&V(a,function(){try{a.XMLHttpRequest&&z.Hooks.hookFunction(a.XMLHttpRequest.prototype,"open",z.Hooks.Types.XHR_OPEN_PRE,void 0,!0);z.Hooks.hookFunction(a,"fetch",z.Hooks.Types.FETCH_PRE,void 0,!0);a.HTMLElement&&z.Hooks.hookFunction(a.HTMLElement.prototype,"insertBefore",z.Hooks.Types.INSERT_BEFORE_PRE,void 0,!0);a.HTMLElement&&z.Hooks.hookFunction(a.HTMLElement.prototype,"appendChild",z.Hooks.Types.APPEND_CHILD_PRE,z.Hooks.Types.APPEND_CHILD_POST,!0);a.HTMLImageElement&&
z.Hooks.hookFunction(a.HTMLImageElement.prototype,"setAttribute",z.Hooks.Types.IMG_SET_ATTRIBUTE_PRE,void 0,!0);z.Hooks.hookFunction(a,"open",z.Hooks.Types.WIN_OPEN_PRE,void 0,!0);a.HTMLElement&&z.Hooks.hookPropertySetter(a.HTMLElement.prototype,"innerHTML",z.Hooks.Types.HTML_ELEMENT_INNERHTML_PRE,z.Hooks.Types.HTML_ELEMENT_INNERHTML_POST,!0);a.HTMLElement&&z.Hooks.hookFunction(a.HTMLElement.prototype,"hasChildNodes",z.Hooks.Types.HTML_ELEMENT_HAS_CHILD_NODES_PRE,void 0,!0);a.HTMLElement&&z.Hooks.hookFunction(a.HTMLElement.prototype,
"removeChild",z.Hooks.Types.REMOVE_CHILD_PRE,void 0,!0);a.HTMLElement&&z.Hooks.hookPropertySetter(a.HTMLElement.prototype,"textContent",z.Hooks.Types.HTML_ELEMENT_TEXTCONTENT_PRE,void 0,!0);a.HTMLElement&&z.Hooks.hookFunction(a.HTMLElement.prototype,"setAttribute",z.Hooks.Types.SET_ATTRIBUTE_PRE,void 0,!0);for(var b="HTMLScriptElement HTMLElement HTMLVideoElement HTMLAudioElement HTMLHtmlElement HTMLHeadElement HTMLLinkElement HTMLStyleElement HTMLBodyElement HTMLFormElement HTMLSelectElement HTMLOptionElement HTMLInputElement HTMLTextAreaElement HTMLButtonElement HTMLLabelElement HTMLFieldSetElement HTMLLegendElement HTMLUListElement HTMLOListElement HTMLDListElement HTMLDirectoryElement HTMLMenuElement HTMLLIElement HTMLDivElement HTMLParagraphElement HTMLHeadingElement HTMLQuoteElement HTMLPreElement HTMLBRElement HTMLFontElement HTMLHRElement HTMLAnchorElement HTMLImageElement HTMLObjectElement HTMLParamElement HTMLMapElement HTMLModElement HTMLAreaElement HTMLTableElement HTMLTableCaptionElement HTMLTableColElement HTMLTableSectionElement HTMLTableRowElement HTMLTableCellElement HTMLFrameSetElement HTMLFrameElement HTMLIFrameElement".split(" "),
c=0;c<b.length;c++)a[b[c]]&&z.Hooks.hookPropertySetter(a[b[c]].prototype,"src",z.Hooks.Types.HTML_SRC_PROP_PRE,void 0,!0)}catch(W){}})},C=function(){z.Hooks.addEventListener(z.Hooks.Types.HTML_SRC_PROP_PRE,function(a){a=a.data;"object"===typeof a[0]&&a[0].toString&&(a[0]=a[0].toString());if(D.isWhitelistURL(a[0],this.tagName))a[0]=D.addAcceptableParam(a[0]);else if(D.isSyncUrl(a[0],this.tagName)&&k.whitelistedFrame)return k.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame?(k.whitelistedFrame.postMessage({type:"eval",
code:"new window.Image().src = '"+a[0]+"'"},"*"),a[0]):(new k.whitelistedFrame.contentWindow.Image).src=a[0]});z.Hooks.addEventListener(z.Hooks.Types.HTML_ELEMENT_HAS_CHILD_NODES_PRE,function(a){try{if(e.hasClass(this,"up-show"))return!1;if(this.childNodes&&0<this.childNodes.length){a=!1;for(var b=0;b<this.children.length;b++)if(e.hasClass(this.children[b],"up-show")){a=!0;break}if(a)return!1}}catch(W){}});z.Hooks.addEventListener(z.Hooks.Types.HTML_ELEMENT_INNERHTML_POST,function(a){if(this&&this.classList&&
"adsbygoogle"===this.classList[0]){a=this.querySelector("iframe");var b=a.contentWindow;"about:blank"!==a.src&&""!==a.src||U(b);var c=b.document.write;b.document.write=function(a){a&&-1<a.indexOf("show_ads_impl.js")&&(a=D.addAcceptableParam(a));c.call(this,a)}}});z.Hooks.addEventListener(z.Hooks.Types.XHR_OPEN_PRE,function(a){a=a.data;D.isWhitelistURL(a[1],"SCRIPT")&&(a[1]=D.addAcceptableParam(a[1]))});z.Hooks.addEventListener(z.Hooks.Types.IMG_SET_ATTRIBUTE_PRE,function(a){a=a.data;if("srcset"===
a[0].toLowerCase()){this.src&&D.isWhitelistURL(this.src,this.tagName)&&(this.src=D.addAcceptableParam(this.src));for(var b=a[1].split(","),c=0;c<b.length;c++){var d=b[c],d=d.trim(),e=d.split(" ")[0],d=d.split(" ")[1]||"";D.isWhitelistURL(e,this.tagName)&&(d=D.addAcceptableParam(e)+" "+d,b[c]=d)}a[1]=b.join(",")}else"src"===a[0].toLowerCase()&&D.isWhitelistURL(a[1],this.tagName)&&(a[1]=D.addAcceptableParam(a[1]))});z.Hooks.addEventListener(z.Hooks.Types.INSERT_BEFORE_PRE,function(a){a=a.data;m.fireEvent("InsertBeforeWebsiteHooksIntercept",
{element:a[0]});-1<["SCRIPT","IFRAME"].indexOf(a[0].tagName)&&a[0].src&&D.isWhitelistURL(a[0].src,a[0].tagName)&&(a[0].src=D.addAcceptableParam(a[0].src));"LINK"===a[0].tagName&&a[0].href&&D.isWhitelistURL(a[0].href,a[0].tagName)&&(a[0].href=D.addAcceptableParam(a[0].href))});z.Hooks.addEventListener(z.Hooks.Types.APPEND_CHILD_PRE,function(a){var b=a.data;if(b[0]&&b[0].src&&0===b[0].src.indexOf("blob:"))a.shouldStop=!0;else{if(b[0].children&&0<b[0].children.length)for(a=0;a<b[0].children.length;a++){var c=
b[0].children[a];c.src&&D.isWhitelistURL(c.src,c.tagName)&&(c.src=D.addAcceptableParam(c.src));if(c.src&&D.isSyncUrl(c.src,c.tagName)&&k.whitelistedFrame)return k.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame?(a="new Image().src = '"+b[0].src+"'",k.whitelistedFrame.postMessage({type:"eval",code:a},"*"),b[0]):k.whitelistedFrame.contentDocument.body.appendChild(b[0])}"LINK"===b[0].tagName&&b[0].href&&D.isWhitelistURL(b[0].href,b[0].tagName)&&(b[0].href=D.addAcceptableParam(b[0].href));-1<
["SCRIPT","IFRAME"].indexOf(b[0].tagName)&&b[0].src&&D.isWhitelistURL(b[0].src,b[0].tagName)&&(b[0].src=D.addAcceptableParam(b[0].src));if(D.isSyncUrl(b[0].src,b[0].tagName)&&k.whitelistedFrame)return k.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame?(a="new Image().src = '"+b[0].src+"'",k.whitelistedFrame.postMessage({type:"eval",code:a},"*"),b[0]):k.whitelistedFrame.contentDocument.body.appendChild(b[0])}});z.Hooks.addEventListener(z.Hooks.Types.APPEND_CHILD_POST,function(a){a=a.data;
"IFRAME"!==a.tagName||"about:blank"!==a.src&&""!==a.src||U(a.contentWindow)});z.Hooks.addEventListener(z.Hooks.Types.WIN_OPEN_PRE,function(a){if(a.data[0]&&(-1<a.data[0].indexOf("clickout.sharethrough.com")||-1<a.data[0].indexOf("3lift.com/pass"))&&k.whitelistedFrame&&!k.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame)return k.whitelistedFrame.contentWindow.open(a.data[0])});var a=function(a){var b=document.querySelectorAll("[data-guard-element='true']");return!!e.find(b,function(b){return b.contains(a)||
b==a||a.contains(b)})};z.Hooks.addEventListener(z.Hooks.Types.REMOVE_CHILD_PRE,function(b){b=b.data[0];if(a(b))return b});z.Hooks.addEventListener(z.Hooks.Types.HTML_ELEMENT_INNERHTML_PRE,function(b){b=b.data[0];if("undefined"!==typeof b&&""===b&&a(this))return""});z.Hooks.addEventListener(z.Hooks.Types.HTML_ELEMENT_TEXTCONTENT_PRE,function(b){b=b.data[0];if("undefined"!==typeof b&&""===b&&a(this))return""});z.Hooks.addEventListener(z.Hooks.Types.SET_ATTRIBUTE_PRE,function(a){var b=a.data[1];"class"===
a.data[0]&&0<=this.className.indexOf("up-show")&&0>b.indexOf("up-show")&&(a.data[1]+=" up-show")})},A=function(){return new e.CPromise(function(a,b){var c=!0,d=xa.getFlag("restrictionSettings");e.CPromise.all([S.contentRestriction(void 0,void 0,P.Home.sendLog),S.acceptableAds(P.Home.sendLog)]).then(function(b){b={contentRestriction:b[0],acceptableAds:b[1],fromCache:!1};xa.setFlag("restrictionSettings",b,Date.now()+6048E5);c?a(b):b.contentRestriction&&b.acceptableAds||m.addEventListener("stopFlag",
function(){return!0});m.fireEvent("getRestrictionSettingsEnded",{contentRestriction:b.contentRestriction,acceptableAds:b.acceptableAds})},function(a){b(a)});d&&d.contentRestriction&&d.acceptableAds&&(c=!1,a({contentRestriction:d.contentRestriction,acceptableAds:d.acceptableAds,fromCache:!0}))})},E=function(){var a=Ha.api;window.uponit=window.uponit||{que:[]};window.uponit.slots=[];window.uponit.COMPLIANCE_STATUSES=a.COMPLIANCE_STATUSES;window.uponit.defineSlot=a.defineSlot;window.uponit.init=a.init;
window.uponit.enableServices=a.enableServices;window.uponit.UPONIT_EVENTS=a.UPONIT_EVENTS;window.uponit.fetchPrebid=a.fetchPrebid;window.uponit.fetchDFP=a.fetchDFP;window.uponit.renderBid=a.renderBid;window.uponit.fetchAndRender=a.fetchAndRender;window.uponit.addEventListener=a.addEventListener;window.uponit.addModifier=function(a,b){window.uponit.modifiers=window.uponit.modifiers||{};window.uponit.modifiers[a]=window.uponit.modifiers[a]||[];window.uponit.modifiers[a].push(b)};for(a=0;a<window.uponit.que.length;a++){var b=
window.uponit.que[a];try{b()}catch(Q){}}window.uponit.que.push=function(a){a()}},b=function(a){var b={},c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c],e={};e.id=c;e.name=d.unit;e.staging=d.staging;e.selector={position:d.selector.position,value:d.selector.value};e.sizes=d.sizes;var f=d.prebids&&0<Object.keys(d.prebids).length;e.preBiddingSettings={enabled:f,biddingSettings:{}};if(f){e.preBiddingSettings.biddingSettings[1]=[];for(var g in d.prebids)d.prebids.hasOwnProperty(g)&&(f=d.prebids[g],e.preBiddingSettings.biddingSettings[1].push({id:g,
name:f.bidder,testCompliance:!0,params:f.params}))}e.postBiddingSettings={adxId:d.adx,directId:d.direct,enabled:p&&"0"!=d.adx,type:1,order:[{params:{},adx:{bidderID:d.adx,testCompliance:!0},direct:{bidderID:d.direct,testCompliance:!0}},{params:{queryParams:{ad_type:"text"}},adx:{bidderID:d.adx,testCompliance:!1},direct:{bidderID:d.direct,testCompliance:m.fireEvent("forceCompliant")||!1}}]};b[c]=e}return b},Y=function(a){var b=[],c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];d.id=c;d=new h.Space(d);
b.push(d)}return b},ca=function(){var a=m.fireEvent("extractPublisherSpacesSettings");if(!a)return e.CPromise.resolve();var b=a.timeout||2E3;return new e.CPromise(function(d,e){a.callback(function(a){a=a.adUnits;for(var b=0;b<a.length;b++){var e=new h.Space(f(a[b]));c.push(e)}d()});setTimeout(function(){d()},b)})};v.init=function(){if(!window.uponitAlreadyLoaded){window.uponitAlreadyLoaded=!0;P.$XHRService.init("backend.upapi.net",{secure:!0});try{d.init(),ya.Verifications.run(),ya.Report.init()}catch(N){}A().then(function(a){var d=
a.contentRestriction,f=a.acceptableAds;w.infof(null,"restrictionSettings: %o",a);m.fireEvent("onPageView",{websiteID:"5647479915675648",contentRestriction:d,acceptableAds:f});I={browser:S.browser(),device:S.device(),platform:S.platform(),isMobile:S.isMobile()};if((window.__upo_d.isMobile=I.isMobile)&&!u)m.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsInit",payload:{detail:!1}}),m.fireEvent("FirePublisherEvent",{eventName:"uponitInit",payload:{detail:!1}}),w.noticef(null,"halting: mobile");
else if(d)if(f)if(window.disableUponit)m.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsInit",payload:{detail:!1}}),m.fireEvent("FirePublisherEvent",{eventName:"uponitInit",payload:{detail:!1}}),w.noticef(null,"halting: we have been disabled");else if(x){var g={browser:I.browser,device:I.device,platform:I.platform,isMobile:I.isMobile};m.addEventListener("getUserEnvDataWebsiteHooks",function(){return g});window.__upo_d.userEvnData=g;R();try{c=Y(b(c)),0>window.location.search.indexOf("?blockthrough_staging=true")&&
0>window.location.search.indexOf("&blockthrough_staging=true")&&(c=e.filter(c,function(a){return!a.staging}))}catch(fa){}E();m.fireEvent("shouldDisableUponit")?w.noticef(null,"halting: we have been disabled by hooks"):(m.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsInit",payload:{detail:!0}}),m.fireEvent("FirePublisherEvent",{eventName:"uponitInit",payload:{detail:!0}}),r().then(function(){var a=e.map(c,function(a){return l.spaceDecoder(a)});G=!!e.find(c,function(a){return a.preBiddingSettings&&
a.preBiddingSettings.enabled});var b={spaces:c,settings:{prebid:m.fireEvent("forcePrebidEnabled")||G,dfp:p}};F.onDomLoaded(function(){m.fireEvent("onDomLoaded");m.fireEvent("onBeforeRecovery",{spaces:a,settings:b.settings});ia.invoke(b)})}))}else m.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsInit",payload:{detail:!1}}),m.fireEvent("FirePublisherEvent",{eventName:"uponitInit",payload:{detail:!1}}),w.noticef(null,"halting: content disabled");else m.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsInit",
payload:{detail:!1}}),m.fireEvent("FirePublisherEvent",{eventName:"uponitInit",payload:{detail:!1}}),w.noticef(null,"halting: acceptable ads are disabled");else m.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsInit",payload:{detail:!1}}),m.fireEvent("FirePublisherEvent",{eventName:"uponitInit",payload:{detail:!1}}),w.noticef(null,"halting: no content restriction")})}};var ia=new function(){var a=!1,b,c,d={};d[k.consts.refreshType.ALL]=[];d[k.consts.refreshType.VISIBLE]=[];d[k.consts.refreshType.HIDDEN]=
[];var g=[],p=[],q=[],r=[],t=!1,u=function(f,h){if(!a){a=!0;b=f||[];c=h||{};t=m.fireEvent("alwaysFilterByGoogletagSlots");M(c);(c.dfp||t)&&I();B();(r=m.fireEvent("movePositionRules")||[],0<r.length)&&l.movePositionService.setMovePositionRules(r);F.onScroll(function(){ia();X(k.consts.refreshType.HIDDEN);y(b)});F.onBlur(function(){X(k.consts.refreshType.HIDDEN)});if(f=m.fireEvent("refreshOnInterval")){var n=f.refreshInterval||2E3;w.infof(null,"going to dispatch refresher on a %o sec(s) interval",n/
1E3);var p=function(){X(k.consts.refreshType.VISIBLE)};refreshOnIntervalCallbackID=setInterval(p,n);F.onFocus(function(){refreshOnIntervalCallbackID||(refreshOnIntervalCallbackID=setInterval(p,n))});F.onBlur(function(){refreshOnIntervalCallbackID&&(clearInterval(refreshOnIntervalCallbackID),refreshOnIntervalCallbackID=null)})}na.dispatch.subscribeForEvent("refresh",function(a){e.forEach(a,function(a){e.forEach(b,function(b){b&&b.name==a&&(0>d[k.consts.refreshType.HIDDEN].indexOf(b)&&d[k.consts.refreshType.HIDDEN].push(b),
X(k.consts.refreshType.HIDDEN))})})});m.addEventListener("refreshByForce",function(a){var c=(a=(a=a.data)&&a.settings)&&a.spacesNames,d=a&&a.shouldRefreshAllSpaces,f=[],h={filteringSettings:{minTimeBetweenRefreshes:a&&a.minTimeBetweenRefreshes}};a&&a.shouldRefreshFailedSpaces&&e.forEach(g,function(a){f.push(a)});c&&(f=e.filter(b,function(a){return-1<c.indexOf(a.name)}));d&&(f=b);f=e.distict(f);A(f,h).then(function(a){g=e.filter(f,function(b){return 0>a.indexOf(b)})})});m.addEventListener("websiteHooksGetSpaces",
function(){return x()});m.fireEvent("scrapeGoogletagSlots")&&window.googletag.cmd.push(function(){var a=window.googletag.pubads().getSlots(),a=e.map(a,function(a){var b=H(a);m.fireEvent("addAmazonBidder")&&K(b,a.getAdUnitPath());return b});e.forEach(a,function(a){a&&b.push(a)})});(c.dfp||t)&&window.googletag.cmd.push(function(){var a=window.googletag.pubads().getSlots();a&&e.forEach(a,function(a){G(a)})});v()}},v=function(){window.__upo_d.getSpaces=function(){return x()};window.__upo_d.getUnits=function(){var a=
oa.getAll();return e.map(a,function(a){return l.unitDecoder(a)})};window.__upo_d.getAuctions=function(){return e.map(p,function(a){return l.auctionDecoder(a)})}},x=function(){return e.map(b,function(a){return l.spaceDecoder(a)})},y=function(a){a=P(a);return A(a)},A=function(a,b){a=R(a);return T(a,b).then(function(a){return e.map(a,function(a){return a.space})})},B=function(){var a=x();m.fireEvent("listenToNewSpaces",{spaces:a,callback:function(a){if(a){for(var c=0;c<a.length;c++){var d=a[c];(d=d&&
new h.Space(d))&&b.push(d)}y(b)}}})},C=[],E,G=function(a){var c=a.getSlotElementId(),d=a.getAdUnitPath(),g=L(c);if(!g){if(m.fireEvent("useSlotPath"))g=L(d.split("/")[d.split("/").length-1]);else{var k=x(),l=m.fireEvent("customGetSpace",{spaces:k,divId:c});l&&(g=e.find(b,function(a){return a.name==l.name}))}if(g=g&&JSON.parse(JSON.stringify(g)))g.selector.value=D.escapeSelector("#"+c),b.push(g)}!g&&(c=m.fireEvent("extractPublisherSpaceLaterDefineSlot",{name:c}))&&(g=new h.Space(f(c)),b.push(g));!g&&
m.fireEvent("scrapeGoogletagSlots")&&(g=H(a))&&b.push(g);g&&0>C.indexOf(g)&&(m.fireEvent("addAmazonBidder")&&K(g,d),C.push(g),clearTimeout(E),E=setTimeout(function(){A(C);C=[]},100))},I=function(){var a="push";window.googletag&&window.googletag.cmd.unshift&&(a="unshift");window.googletag.cmd[a](function(){var a=window.googletag.defineSlot;window.googletag.defineSlot=function(b,c,d){var e=a(b,c,d);setTimeout(function(){e&&G(e)},0);return e};if(m.fireEvent("overrideDefineOutOfPageSlot")){var b=window.googletag.defineOutOfPageSlot;
window.googletag.defineOutOfPageSlot=function(a,c){var d=b(a,c);setTimeout(function(){d&&G(d)},0);return d}}})},H=function(a){if(a&&!m.fireEvent("shouldIgnoreGoogletagSlotScraping",{slot:a})){var b=a.getSlotElementId(),b=b.replace(/\//g,"\\/");a=a.getSizes();a=e.map(a,function(a){if("fluid"===a)return"fluid";if(a.getWidth)return a.getWidth()+"x"+a.getHeight()});if((a=e.filter(a,function(a){return!!a}))&&!(0>=a.length)){var d="adxId_"+b,f="directId_"+b,b={id:b,name:b,staging:!1,selector:{value:D.escapeSelector("#"+
b),position:k.consts.selectorPosition.APPEND_CHILD},sizes:a,preBiddingSettings:{enabled:!0,biddingSettings:{}},postBiddingSettings:{adxId:d,directId:f,enabled:c.dfp,type:1,order:[{params:{},adx:{bidderID:d,testCompliance:!0},direct:{bidderID:f,testCompliance:!0}},{params:{queryParams:{ad_type:"text"}},adx:{bidderID:d,testCompliance:!1},direct:{bidderID:f,testCompliance:m.fireEvent("forceCompliant")||!1}}]}};b.preBiddingSettings.biddingSettings[k.consts.headerBiddingType.prebid]=[];return new h.Space(b)}}},
K=function(a,b){if(a&&a.preBiddingSettings.biddingSettings[k.consts.headerBiddingType.prebid]&&!e.find(a.preBiddingSettings.biddingSettings[k.consts.headerBiddingType.prebid],function(a){return"amazonAAX"==a.name})){var c=window.apstag;(c=c&&c._Q&&c._Q[0]&&c._Q[0][1]&&c._Q[0][1][0]&&c._Q[0][1][0].pubID)&&b&&a.preBiddingSettings.biddingSettings[k.consts.headerBiddingType.prebid].push({id:b+"_amazon_bidder",name:"amazonAAX",testCompliance:!0,params:{pubID:c,adUnitGPTPath:b}})}},L=function(a){return e.find(b,
function(b){return b&&b.name===a})},M=function(a){for(var b in a)if(a.hasOwnProperty(b)&&a[b]){presetsCbs=[];postsetsCbs=[];var c=sa.presetProvider(b),d=za.postsetProvider(b);c&&presetsCbs.push(c);d&&postsetsCbs.push(d);c=m.fireEvent("thirdPartyModulePreset",{type:b});d=m.fireEvent("thirdPartyModulePostset",{type:b});c&&presetsCbs.push(c);d&&postsetsCbs.push(d);e.forEach(presetsCbs,function(a){ha.addPresetCallback(b,a)});e.forEach(postsetsCbs,function(a){ha.addPostsetCallback(b,a)});ha.loadThirdParty(b)}},
O=function(a,b){return new e.CPromise(function(d,f){var g=[];e.forEach(a,function(a){!e.find(q,function(b){return b.unit==a})&&g.push(a)});var h=m.fireEvent("maxAmountOfUnitDispatches");h&&(g=e.filter(g,function(a){return a.countOfDispatches<h}));var l=k.upoSettings.minTimeBetweenRefreshes;f=m.fireEvent("minTimeBetweenRefreshes");isNaN(f)||"number"!=typeof f||(l=f);isNaN(b.minTimeBetweenRefreshes)||"number"!=typeof b.minTimeBetweenRefreshes||(l=b.minTimeBetweenRefreshes);var n=new Date,g=e.filter(g,
function(a){if(!a)return!1;var b=!0;if(a.lastInvokeTime){var c=n.getTime()-a.lastInvokeTime.getTime();c>l?w.infof(null,"refreshing %o",a.space.name):(b=!1,w.infof(null,"waiting %o secs before next refresh for %o",(l-c)/1E3,a.space.name))}return b}),p=e.map(g,function(a){return a.element}),g=e.filter(g,function(a,b){return p.indexOf(a.element)==b});c&&c.dfp||t?window.googletag.cmd.push(function(){var a=window.googletag.pubads().getSlots(),b=[];e.forEach(g,function(c){t||c.space.postBiddingSettings.enabled?
e.forEach(a,function(a){a.getSlotElementId()===c.element.getAttribute("id")&&b.push(c)}):b.push(c)});d(b)}):d(g)})},P=function(a){a=a||[];return e.filter(a,function(a){return!oa.getBySpace(a)})};this.invoke=function(a){if(!m.fireEvent("stopFlag")){var b=a.spaces;u(b,a.settings);y(b);var c=1,d=setInterval(function(){15==c&&clearInterval(d);c++;y(b)},100)}};var R=function(a){var b=[];e.forEach(a,function(a){var c=l.getSpaceElement(a);if(c){var d=oa.getByElement(c);d||(c.alreadyWraped||(z.Hooks.hookFunction(c,
"removeChild",z.Hooks.Types.REMOVE_CHILD_PRE,void 0,!0),z.Hooks.hookPropertySetter(c,"innerHTML",z.Hooks.Types.HTML_ELEMENT_INNERHTML_PRE,void 0,!0),z.Hooks.hookPropertySetter(c,"textContent",z.Hooks.Types.HTML_ELEMENT_TEXTCONTENT_PRE,void 0,!0),z.Hooks.hookFunction(c,"setAttribute",z.Hooks.Types.SET_ATTRIBUTE_PRE,void 0,!0),c.alreadyWraped=!0),c.setAttribute("data-guard-element",!0),d=new h.Unit({element:c,space:a}),m.fireEvent("onNewUnitFound",d),oa.set(d))}d&&d.space==a&&b.push(d)});return b},
S=function(a){for(var c=0;c<a.length;c++){var d=a[c],e=l.spaceDecoder(d.space);if(e=m.fireEvent("modifySpacesOnBeforeFetching",{space:e})){e=new h.Space(e);d.space=e;for(var f,d=0;d<b.length;d++)if(b[d].id==e.id){f=d;break}f&&b.splice(f,1,e)}}},T=function(a,b){return new e.CPromise(function(d,f){m.fireEvent("onBeforeInvokeDispatch",{spaces:e.map(a,function(a){return l.spaceDecoder(a.space)})});S(a);f={};b&&(f=b.filteringSettings||{});O(a,f).then(function(a){try{if(d(a),a&&!(0>=a.length)){var b=e.map(a,
function(a){return a.space});l.movePositionService.dispatch(b);var f=e.map(a,function(a){return new h.Auction({unit:a})});m.fireEvent("onAuctionGroupStarted",f);Y(f);if(!m.fireEvent("stopFlag")){m.fireEvent("onPrebiddingStarted",f);var g=na.dispatch.dispatchHB(f);e.CPromise.all(g).then(function(a){m.fireEvent("onPrebiddingEnded",f);for(var b=0;b<a.length;b++){var d=a[b],g=d.auctionId,k=d.bids;e.forEach(f,function(a){a.auctionId==g&&a.addBids(k)})}a={forceCompliantEnabled:m.fireEvent("forceCompliant")||
!1};m.fireEvent("stopFlag")||(a=na.dispatch.dispatchAS(f,a),e.forEach(a,function(a,b){a.then(function(a){var b=e.find(f,function(b){return b.auctionId==a.auctionId}),d=b.getWinningBid(),g=a.bids;g&&0<g.length?e.forEach(g,function(a){a.type==h.Bid.Types.DFP_PREBID?d&&d.additionalBidsToRender.push(a):b.addBids([a])}):c.dfp&&b.unit.space.postBiddingSettings.enabled&&d&&b.cancelAuction();if(!m.fireEvent("stopFlag")){var k=b.getWinningBid();localStorage.getItem("forceDefaultCreative")&&(k=void 0);!k&&
(g=m.fireEvent("getDefaultCreative",{auction:l.auctionDecoder(b)}))&&(g={width:g.width,height:g.height,creativeHTML:g.creativeHTML},k=n(g,b),b.addBids([k]));b.subscribeForEvent("auctionRendered",function(){m.fireEvent("onAuctionRendered",{auction:b,bid:k});m.fireEvent("onAuctionRenderedWebsiteHook",{space:l.spaceDecoder(b.unit.space),element:b.unit.element,winningBid:l.bidDecoder(k)});ga.onVisible(b.unit.element,function(){m.fireEvent("onAdViewed",{auction:b,bid:k});m.fireEvent("onAdViewedWebsiteHook",
{space:l.spaceDecoder(b.unit.space),element:b.unit.element,winningBid:l.bidDecoder(k)})})});b.subscribeForEvent("renderBidDone",function(a){m.fireEvent("onAuctionEnded",{auction:b,bid:a.successfulyRenderedBid&&k});m.fireEvent("onAuctionEndedWebsiteHook",{element:b.unit.element,bid:a.successfulyRenderedBid&&l.bidDecoder(k)})});b.renderBid(k);q.splice(q.indexOf(b),1);U(b.unit.space)}})}))})}}}catch(Oa){w.errorf(null,"recovery: filterUnits %o",Oa)}})})},U=function(a){var b=m.fireEvent("spaceRefreshSettings",
{space:l.spaceDecoder(a)});if(b){var c=l.refreshTypeDecoder(b.type);c==k.consts.refreshType.UNKNOWN?w.errorf(null,"invalid refresh type setting %o",b.type):(b=b.rate||3E4,0>d[c].indexOf(a)&&d[c].push(a),w.infof(null,"setting up refresh(%s) for space %o in %o secs",c,a.name,b/1E3),setTimeout(function(){X(c)},b))}},V,X=function(a){clearTimeout(V);V=setTimeout(function(){var b=[];switch(a){case k.consts.refreshType.ALL:b=d[a];break;case k.consts.refreshType.VISIBLE:b=aa(d[a]);break;case k.consts.refreshType.HIDDEN:b=
ba(d[a]);break;default:b=ba(d[a])}1>b.length?w.infof(null,"nothing to refresh"):(w.infof(null,"dispatch trying to refresh %o spaces out of %o with type %o",b.length,d[a].length,a),A(b).then(function(c){c=c||[];var f=[];e.forEach(b,function(a){0>c.indexOf(a)&&f.push(a)});w.infof(null,"refreshed %o spaces out of %o",c.length,b.length);d[a]=f}))},1E3)},Y=function(a){e.forEach(a,function(a){a.state=h.Auction.States.DISPATCHED;q.push(a);p.push(a);a.unit.countOfDispatches++;a.unit.lastInvokeTime=new Date;
m.fireEvent("onAuctionStarted",{auction:a})})},aa=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];ga.isElementVisible(d.selector.value)&&b.push(d)}return b},ba=function(a){if(!document.hasFocus())return a;for(var b=[],c=0;c<a.length;c++){var d=a[c];ga.isElementVisible(d.selector.value)||b.push(d)}return b},ca,ia=function(){clearTimeout(ca);ca=setTimeout(function(){try{var a=m.fireEvent("extractPublisherSpacesLaterDefinedUnits");if(a)for(var c=0;c<a.length;c++){var d=new h.Space(f(a[c]));b.push(d)}}catch(la){}},
1E3)}},oa=new function(){var a=[];this.set=function(b){a.push(b)};this.getBySpace=function(b){for(var c=0;c<a.length;c++){var d=a[c];if(d.space==b)return d}};this.getByElement=function(b){for(var c=0;c<a.length;c++){var d=a[c];if(d.element==b)return d}};this.getAll=function(){return a}}})(Ia);Ia.init(x[0])})(arguments);

})({});